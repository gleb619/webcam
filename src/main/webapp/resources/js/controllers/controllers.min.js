"use strict";var tourismApp=angular.module("tourismApp.controllers",[]);tourismApp.controller("CurrCourseListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataCurrCourse=[],$scope.ctrl={name:"CurrCourseListCtrl",original:"CurrCourse"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["currcourse"],$scope.details={},$scope.$storage=$localStorage.$default({dataCurrCourse:[]}),$scope.dataCurrCourse=$scope.$storage.dataCurrCourse,$scope.debug=APP.debugInfo("CurrCourseListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"CurrcourseEdit",controller:"CurrCourseEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["currcourse"]};}}});modalInstance.result.then(function(data){$scope.dataCurrCourse.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"CurrcourseEdit/"+itemId,controller:"CurrCourseEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["currcourse"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataCurrCourse)};}}});modalInstance.result.then(function(data){$servicesStorage.CurrCourseDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataCurrCourse[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataCurrCourse[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.CurrCourseDao().remove({id:itemId},{},function(){$scope.dataCurrCourse.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataCurrCourse=function(){$servicesStorage.CurrCourseDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataCurrCourse=JSOG.decode(data.data);$scope.$storage.dataCurrCourse=$scope.dataCurrCourse;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataCurrCourse=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.CurrCourseDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataCurrCourse=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataCurrCourse=APP.uniqueArray($scope.dataCurrCourse.concat(JSOG.decode(data.data)));$scope.$storage.dataCurrCourse=$scope.dataCurrCourse;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.CurrCourseDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataCurrCourse(true);},APP.timeOutCount("CurrCourse"));}]);tourismApp.controller("CurrCourseSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataCurrCourse=[],$scope.ctrl={name:"CurrCourseSelectorCtrl",original:"CurrCourse"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataCurrCourse:{}}),$scope.dataCurrCourse=$scope.$storage.dataCurrCourse,$scope.debug=APP.debugInfo("CurrCourseSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataCurrCourse=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.CurrCourseDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataCurrCourse=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataCurrCourse=APP.uniqueArray($scope.dataCurrCourse.concat(JSOG.decode(data.data)));$scope.$storage.dataCurrCourse=$scope.dataCurrCourse;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataCurrCourse(true);},APP.timeOutCount("CurrCourse"));}]);tourismApp.controller("CurrCourseEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"CurrCourseEditCtrl",original:"CurrCourse"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("CurrCourseEditCtrl"),$scope.$storage=$localStorage.$default({itemCurrCourse:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"CurrCourse",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.CurrCourseDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.CurrCourseDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.CurrCourseDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemCurrCourse=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"CurrCourse");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});},APP.timeOutCount("CurrCourse"));}]);tourismApp.controller("CurrCurrencyListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataCurrCurrency=[],$scope.ctrl={name:"CurrCurrencyListCtrl",original:"CurrCurrency"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["currcurrency"],$scope.details={},$scope.$storage=$localStorage.$default({dataCurrCurrency:[]}),$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency,$scope.debug=APP.debugInfo("CurrCurrencyListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"CurrcurrencyEdit",controller:"CurrCurrencyEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(data){$scope.dataCurrCurrency.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"CurrcurrencyEdit/"+itemId,controller:"CurrCurrencyEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["currcurrency"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataCurrCurrency)};}}});modalInstance.result.then(function(data){$servicesStorage.CurrCurrencyDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataCurrCurrency[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataCurrCurrency[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.CurrCurrencyDao().remove({id:itemId},{},function(){$scope.dataCurrCurrency.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataCurrCurrency=function(){$servicesStorage.CurrCurrencyDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataCurrCurrency=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.CurrCurrencyDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataCurrCurrency=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataCurrCurrency=APP.uniqueArray($scope.dataCurrCurrency.concat(JSOG.decode(data.data)));$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.CurrCurrencyDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataCurrCurrency(true);},APP.timeOutCount("CurrCurrency"));}]);tourismApp.controller("CurrCurrencySelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataCurrCurrency=[],$scope.ctrl={name:"CurrCurrencySelectorCtrl",original:"CurrCurrency"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataCurrCurrency:{}}),$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency,$scope.debug=APP.debugInfo("CurrCurrencySelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataCurrCurrency=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.CurrCurrencyDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataCurrCurrency=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataCurrCurrency=APP.uniqueArray($scope.dataCurrCurrency.concat(JSOG.decode(data.data)));$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataCurrCurrency(true);},APP.timeOutCount("CurrCurrency"));}]);tourismApp.controller("CurrCurrencyEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"CurrCurrencyEditCtrl",original:"CurrCurrency"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("CurrCurrencyEditCtrl"),$scope.$storage=$localStorage.$default({itemCurrCurrency:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"CurrCurrency",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.CurrCurrencyDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.CurrCurrencyDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.CurrCurrencyDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemCurrCurrency=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"CurrCurrency");});}else{$scope.loading=false;}},APP.timeOutCount("CurrCurrency"));$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServVisas=function(itemId){var modalInstance=$modal.open({templateUrl:"ServvisasEdit",controller:"ServVisasEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservVisases,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentContactRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentContactRecords,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentContactRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentContactRecords,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentAccountRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentAccountRecords,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentContact=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactEdit",controller:"PaymentContactEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentContacts,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemCurrCourse=function(itemId){var modalInstance=$modal.open({templateUrl:"CurrcourseEdit",controller:"CurrCourseEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemcurrCourses,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentContactRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentContactRecords,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServExcursions=function(itemId){var modalInstance=$modal.open({templateUrl:"ServexcursionsEdit",controller:"ServExcursionsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservExcursionses,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentAccountRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentAccountRecords,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTransfer=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTransfers,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentAccountRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentAccountRecords,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServInsurances=function(itemId){var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservInsuranceses,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTicketsRail=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsrailEdit",controller:"ServTicketsRailEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTicketsRails,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentAccountRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentAccountRecords,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTransferRoute=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferrouteEdit",controller:"ServTransferRouteEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTransferRoutes,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentContactRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentContactRecords,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentContactRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentContactRecords,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentPrice=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentpriceEdit",controller:"PaymentPriceEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentPrices,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTicketsAir=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTicketsAirs,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentAccountRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentAccountRecords,editItemId:itemId,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.createModalItemServVisas=function(){if(typeof $scope.item.servVisases=="undefined"){$scope.item.servVisases=[];}var modalInstance=$modal.open({templateUrl:"ServvisasEdit",controller:"ServVisasEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.servVisases.push(item);},function(){});};$scope.createModalItemPaymentContactRecord=function(){if(typeof $scope.item.paymentContactRecords=="undefined"){$scope.item.paymentContactRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentContactRecords.push(item);},function(){});};$scope.createModalItemPaymentContactRecord=function(){if(typeof $scope.item.paymentContactRecords=="undefined"){$scope.item.paymentContactRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentContactRecords.push(item);},function(){});};$scope.createModalItemPaymentAccountRecord=function(){if(typeof $scope.item.paymentAccountRecords=="undefined"){$scope.item.paymentAccountRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentAccountRecords.push(item);},function(){});};$scope.createModalItemPaymentContact=function(){if(typeof $scope.item.paymentContacts=="undefined"){$scope.item.paymentContacts=[];}var modalInstance=$modal.open({templateUrl:"PaymentcontactEdit",controller:"PaymentContactEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentContacts.push(item);},function(){});};$scope.createModalItemCurrCourse=function(){if(typeof $scope.item.currCourses=="undefined"){$scope.item.currCourses=[];}var modalInstance=$modal.open({templateUrl:"CurrcourseEdit",controller:"CurrCourseEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.currCourses.push(item);},function(){});};$scope.createModalItemPaymentContactRecord=function(){if(typeof $scope.item.paymentContactRecords=="undefined"){$scope.item.paymentContactRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentContactRecords.push(item);},function(){});};$scope.createModalItemServExcursions=function(){if(typeof $scope.item.servExcursionses=="undefined"){$scope.item.servExcursionses=[];}var modalInstance=$modal.open({templateUrl:"ServexcursionsEdit",controller:"ServExcursionsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.servExcursionses.push(item);},function(){});};$scope.createModalItemPaymentAccountRecord=function(){if(typeof $scope.item.paymentAccountRecords=="undefined"){$scope.item.paymentAccountRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentAccountRecords.push(item);},function(){});};$scope.createModalItemServTransfer=function(){if(typeof $scope.item.servTransfers=="undefined"){$scope.item.servTransfers=[];}var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.servTransfers.push(item);},function(){});};$scope.createModalItemPaymentAccountRecord=function(){if(typeof $scope.item.paymentAccountRecords=="undefined"){$scope.item.paymentAccountRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentAccountRecords.push(item);},function(){});};$scope.createModalItemServInsurances=function(){if(typeof $scope.item.servInsuranceses=="undefined"){$scope.item.servInsuranceses=[];}var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.servInsuranceses.push(item);},function(){});};$scope.createModalItemServTicketsRail=function(){if(typeof $scope.item.servTicketsRails=="undefined"){$scope.item.servTicketsRails=[];}var modalInstance=$modal.open({templateUrl:"ServticketsrailEdit",controller:"ServTicketsRailEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.servTicketsRails.push(item);},function(){});};$scope.createModalItemPaymentAccountRecord=function(){if(typeof $scope.item.paymentAccountRecords=="undefined"){$scope.item.paymentAccountRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentAccountRecords.push(item);},function(){});};$scope.createModalItemServTransferRoute=function(){if(typeof $scope.item.servTransferRoutes=="undefined"){$scope.item.servTransferRoutes=[];}var modalInstance=$modal.open({templateUrl:"ServtransferrouteEdit",controller:"ServTransferRouteEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.servTransferRoutes.push(item);},function(){});};$scope.createModalItemPaymentContactRecord=function(){if(typeof $scope.item.paymentContactRecords=="undefined"){$scope.item.paymentContactRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentContactRecords.push(item);},function(){});};$scope.createModalItemPaymentContactRecord=function(){if(typeof $scope.item.paymentContactRecords=="undefined"){$scope.item.paymentContactRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentContactRecords.push(item);},function(){});};$scope.createModalItemPaymentPrice=function(){if(typeof $scope.item.paymentPrices=="undefined"){$scope.item.paymentPrices=[];}var modalInstance=$modal.open({templateUrl:"PaymentpriceEdit",controller:"PaymentPriceEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentPrices.push(item);},function(){});};$scope.createModalItemServTicketsAir=function(){if(typeof $scope.item.servTicketsAirs=="undefined"){$scope.item.servTicketsAirs=[];}var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.servTicketsAirs.push(item);},function(){});};$scope.createModalItemPaymentAccountRecord=function(){if(typeof $scope.item.paymentAccountRecords=="undefined"){$scope.item.paymentAccountRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["currcurrency"]};}}});modalInstance.result.then(function(item){$scope.item.paymentAccountRecords.push(item);},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};$scope.pickItemServVisas=function(){var modalInstance=$modal.open({templateUrl:"ServvisasFragmentSelector",controller:"ServVisasSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servVisases=APP.checkDublicate2($scope.item.servVisases,data.data,"ServVisasView");},function(){});};$scope.pickItemPaymentContactRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordFragmentSelector",controller:"PaymentContactRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentContactRecords=APP.checkDublicate2($scope.item.paymentContactRecords,data.data,"PaymentContactRecordView");},function(){});};$scope.pickItemPaymentContactRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordFragmentSelector",controller:"PaymentContactRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentContactRecords=APP.checkDublicate2($scope.item.paymentContactRecords,data.data,"PaymentContactRecordView");},function(){});};$scope.pickItemPaymentAccountRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordFragmentSelector",controller:"PaymentAccountRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentAccountRecords=APP.checkDublicate2($scope.item.paymentAccountRecords,data.data,"PaymentAccountRecordView");},function(){});};$scope.pickItemPaymentContact=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactFragmentSelector",controller:"PaymentContactSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentContacts=APP.checkDublicate2($scope.item.paymentContacts,data.data,"PaymentContactView");},function(){});};$scope.pickItemCurrCourse=function(){var modalInstance=$modal.open({templateUrl:"CurrcourseFragmentSelector",controller:"CurrCourseSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.currCourses=APP.checkDublicate2($scope.item.currCourses,data.data,"CurrCourseView");},function(){});};$scope.pickItemPaymentContactRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordFragmentSelector",controller:"PaymentContactRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentContactRecords=APP.checkDublicate2($scope.item.paymentContactRecords,data.data,"PaymentContactRecordView");},function(){});};$scope.pickItemServExcursions=function(){var modalInstance=$modal.open({templateUrl:"ServexcursionsFragmentSelector",controller:"ServExcursionsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servExcursionses=APP.checkDublicate2($scope.item.servExcursionses,data.data,"ServExcursionsView");},function(){});};$scope.pickItemPaymentAccountRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordFragmentSelector",controller:"PaymentAccountRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentAccountRecords=APP.checkDublicate2($scope.item.paymentAccountRecords,data.data,"PaymentAccountRecordView");},function(){});};$scope.pickItemServTransfer=function(){var modalInstance=$modal.open({templateUrl:"ServtransferFragmentSelector",controller:"ServTransferSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTransfers=APP.checkDublicate2($scope.item.servTransfers,data.data,"ServTransferView");},function(){});};$scope.pickItemPaymentAccountRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordFragmentSelector",controller:"PaymentAccountRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentAccountRecords=APP.checkDublicate2($scope.item.paymentAccountRecords,data.data,"PaymentAccountRecordView");},function(){});};$scope.pickItemServInsurances=function(){var modalInstance=$modal.open({templateUrl:"ServinsurancesFragmentSelector",controller:"ServInsurancesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servInsuranceses=APP.checkDublicate2($scope.item.servInsuranceses,data.data,"ServInsurancesView");},function(){});};$scope.pickItemServTicketsRail=function(){var modalInstance=$modal.open({templateUrl:"ServticketsrailFragmentSelector",controller:"ServTicketsRailSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTicketsRails=APP.checkDublicate2($scope.item.servTicketsRails,data.data,"ServTicketsRailView");},function(){});};$scope.pickItemPaymentAccountRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordFragmentSelector",controller:"PaymentAccountRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentAccountRecords=APP.checkDublicate2($scope.item.paymentAccountRecords,data.data,"PaymentAccountRecordView");},function(){});};$scope.pickItemServTransferRoute=function(){var modalInstance=$modal.open({templateUrl:"ServtransferrouteFragmentSelector",controller:"ServTransferRouteSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTransferRoutes=APP.checkDublicate2($scope.item.servTransferRoutes,data.data,"ServTransferRouteView");},function(){});};$scope.pickItemPaymentContactRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordFragmentSelector",controller:"PaymentContactRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentContactRecords=APP.checkDublicate2($scope.item.paymentContactRecords,data.data,"PaymentContactRecordView");},function(){});};$scope.pickItemPaymentContactRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordFragmentSelector",controller:"PaymentContactRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentContactRecords=APP.checkDublicate2($scope.item.paymentContactRecords,data.data,"PaymentContactRecordView");},function(){});};$scope.pickItemPaymentPrice=function(){var modalInstance=$modal.open({templateUrl:"PaymentpriceFragmentSelector",controller:"PaymentPriceSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentPrices=APP.checkDublicate2($scope.item.paymentPrices,data.data,"PaymentPriceView");},function(){});};$scope.pickItemServTicketsAir=function(){var modalInstance=$modal.open({templateUrl:"ServticketsairFragmentSelector",controller:"ServTicketsAirSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTicketsAirs=APP.checkDublicate2($scope.item.servTicketsAirs,data.data,"ServTicketsAirView");},function(){});};$scope.pickItemPaymentAccountRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordFragmentSelector",controller:"PaymentAccountRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentAccountRecords=APP.checkDublicate2($scope.item.paymentAccountRecords,data.data,"PaymentAccountRecordView");},function(){});};}]);tourismApp.controller("DictGlobalListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataDictGlobal=[],$scope.ctrl={name:"DictGlobalListCtrl",original:"DictGlobal"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["dictglobal"],$scope.details={},$scope.$storage=$localStorage.$default({dataDictGlobal:[]}),$scope.dataDictGlobal=$scope.$storage.dataDictGlobal,$scope.debug=APP.debugInfo("DictGlobalListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"DictglobalEdit",controller:"DictGlobalEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(data){$scope.dataDictGlobal.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"DictglobalEdit/"+itemId,controller:"DictGlobalEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["dictglobal"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataDictGlobal)};}}});modalInstance.result.then(function(data){$servicesStorage.DictGlobalDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataDictGlobal[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataDictGlobal[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.DictGlobalDao().remove({id:itemId},{},function(){$scope.dataDictGlobal.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataDictGlobal=function(){$servicesStorage.DictGlobalDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataDictGlobal=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.DictGlobalDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataDictGlobal=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataDictGlobal=APP.uniqueArray($scope.dataDictGlobal.concat(JSOG.decode(data.data)));$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.DictGlobalDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataDictGlobal(true);},APP.timeOutCount("DictGlobal"));}]);tourismApp.controller("DictGlobalSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataDictGlobal=[],$scope.ctrl={name:"DictGlobalSelectorCtrl",original:"DictGlobal"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataDictGlobal:{}}),$scope.dataDictGlobal=$scope.$storage.dataDictGlobal,$scope.debug=APP.debugInfo("DictGlobalSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataDictGlobal=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.DictGlobalDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataDictGlobal=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataDictGlobal=APP.uniqueArray($scope.dataDictGlobal.concat(JSOG.decode(data.data)));$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataDictGlobal(true);},APP.timeOutCount("DictGlobal"));}]);tourismApp.controller("DictGlobalEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"DictGlobalEditCtrl",original:"DictGlobal"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("DictGlobalEditCtrl"),$scope.$storage=$localStorage.$default({itemDictGlobal:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"DictGlobal",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.DictGlobalDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.DictGlobalDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.DictGlobalDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemDictGlobal=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"DictGlobal");});}else{$scope.loading=false;}},APP.timeOutCount("DictGlobal"));$scope.editModalItemServHotelServices=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelservicesEdit",controller:"ServHotelServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotelServiceses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmOrder=function(itemId){var modalInstance=$modal.open({templateUrl:"TmorderEdit",controller:"TmOrderEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmOrders,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotelRoom=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelroomEdit",controller:"ServHotelRoomEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotelRooms,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTicketsAir=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTicketsAirs,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelEntertainmentAndSport=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelentertainmentandsportEdit",controller:"RelServHotelEntertainmentAndSportEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelEntertainmentAndSports,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTransfer=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTransfers,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelCreditCards=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelcreditcardsEdit",controller:"RelServHotelCreditCardsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelCreditCardses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentAccount=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentaccountEdit",controller:"PaymentAccountEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentAccounts,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServVisas=function(itemId){var modalInstance=$modal.open({templateUrl:"ServvisasEdit",controller:"ServVisasEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservVisases,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotelRoom=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelroomEdit",controller:"ServHotelRoomEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotelRooms,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServKidsRuleFeatures=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservkidsrulefeaturesEdit",controller:"RelServKidsRuleFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServKidsRuleFeatureses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqServHotels,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmContactCommunications=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsEdit",controller:"TmContactCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmContactCommunicationses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqServHotelRoomBusy=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqservhotelroombusyEdit",controller:"ReqServHotelRoomBusyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqServHotelRoomBusies,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelRoomFeatures=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelroomfeaturesEdit",controller:"RelServHotelRoomFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelRoomFeatureses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqServHotels,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServCruise=function(itemId){var modalInstance=$modal.open({templateUrl:"ServcruiseEdit",controller:"ServCruiseEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservCruises,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTransfer=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTransfers,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTicketsAir=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTicketsAirs,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServGifts=function(itemId){var modalInstance=$modal.open({templateUrl:"ServgiftsEdit",controller:"ServGiftsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservGiftses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmCommercial=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcommercialEdit",controller:"TmCommercialEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmCommercials,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentAccount=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentaccountEdit",controller:"PaymentAccountEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentAccounts,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotelServices=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelservicesEdit",controller:"ServHotelServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotelServiceses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqCruiseServices=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesEdit",controller:"ReqCruiseServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqCruiseServiceses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTicketsAir=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTicketsAirs,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTransfer=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTransfers,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmPolicies=function(itemId){var modalInstance=$modal.open({templateUrl:"TmpoliciesEdit",controller:"TmPoliciesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmPolicieses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmPolicies=function(itemId){var modalInstance=$modal.open({templateUrl:"TmpoliciesEdit",controller:"TmPoliciesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmPolicieses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemLocationTypePlacement=function(itemId){var modalInstance=$modal.open({templateUrl:"LocationtypeplacementEdit",controller:"LocationTypePlacementEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemlocationTypePlacements,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentContact=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactEdit",controller:"PaymentContactEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentContacts,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmAccountCommunications=function(itemId){var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsEdit",controller:"TmAccountCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmAccountCommunicationses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServInsurances=function(itemId){var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservInsuranceses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelFeatures=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelfeaturesEdit",controller:"RelServHotelFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelFeatureses,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqHotelRoomsBusy=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqhotelroomsbusyEdit",controller:"ReqHotelRoomsBusyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqHotelRoomsBusies,editItemId:itemId,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemServHotelServices=function(){if(typeof $scope.item.servHotelServiceses=="undefined"){$scope.item.servHotelServiceses=[];}var modalInstance=$modal.open({templateUrl:"ServhotelservicesEdit",controller:"ServHotelServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotelServiceses.push(item);},function(){});};$scope.createModalItemTmOrder=function(){if(typeof $scope.item.tmOrders=="undefined"){$scope.item.tmOrders=[];}var modalInstance=$modal.open({templateUrl:"TmorderEdit",controller:"TmOrderEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.tmOrders.push(item);},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.createModalItemServHotelRoom=function(){if(typeof $scope.item.servHotelRooms=="undefined"){$scope.item.servHotelRooms=[];}var modalInstance=$modal.open({templateUrl:"ServhotelroomEdit",controller:"ServHotelRoomEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotelRooms.push(item);},function(){});};$scope.createModalItemServTicketsAir=function(){if(typeof $scope.item.servTicketsAirs=="undefined"){$scope.item.servTicketsAirs=[];}var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servTicketsAirs.push(item);},function(){});};$scope.createModalItemRelServHotelEntertainmentAndSport=function(){if(typeof $scope.item.relServHotelEntertainmentAndSports=="undefined"){$scope.item.relServHotelEntertainmentAndSports=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelentertainmentandsportEdit",controller:"RelServHotelEntertainmentAndSportEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelEntertainmentAndSports.push(item);},function(){});};$scope.createModalItemServTransfer=function(){if(typeof $scope.item.servTransfers=="undefined"){$scope.item.servTransfers=[];}var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servTransfers.push(item);},function(){});};$scope.createModalItemRelServHotelCreditCards=function(){if(typeof $scope.item.relServHotelCreditCardses=="undefined"){$scope.item.relServHotelCreditCardses=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelcreditcardsEdit",controller:"RelServHotelCreditCardsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelCreditCardses.push(item);},function(){});};$scope.createModalItemPaymentAccount=function(){if(typeof $scope.item.paymentAccounts=="undefined"){$scope.item.paymentAccounts=[];}var modalInstance=$modal.open({templateUrl:"PaymentaccountEdit",controller:"PaymentAccountEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.paymentAccounts.push(item);},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.createModalItemServVisas=function(){if(typeof $scope.item.servVisases=="undefined"){$scope.item.servVisases=[];}var modalInstance=$modal.open({templateUrl:"ServvisasEdit",controller:"ServVisasEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servVisases.push(item);},function(){});};$scope.createModalItemServHotelRoom=function(){if(typeof $scope.item.servHotelRooms=="undefined"){$scope.item.servHotelRooms=[];}var modalInstance=$modal.open({templateUrl:"ServhotelroomEdit",controller:"ServHotelRoomEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotelRooms.push(item);},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.createModalItemRelServKidsRuleFeatures=function(){if(typeof $scope.item.relServKidsRuleFeatureses=="undefined"){$scope.item.relServKidsRuleFeatureses=[];}var modalInstance=$modal.open({templateUrl:"RelservkidsrulefeaturesEdit",controller:"RelServKidsRuleFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.relServKidsRuleFeatureses.push(item);},function(){});};$scope.createModalItemReqServHotel=function(){if(typeof $scope.item.reqServHotels=="undefined"){$scope.item.reqServHotels=[];}var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.reqServHotels.push(item);},function(){});};$scope.createModalItemTmContactCommunications=function(){if(typeof $scope.item.tmContactCommunicationses=="undefined"){$scope.item.tmContactCommunicationses=[];}var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsEdit",controller:"TmContactCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.tmContactCommunicationses.push(item);},function(){});};$scope.createModalItemReqServHotelRoomBusy=function(){if(typeof $scope.item.reqServHotelRoomBusies=="undefined"){$scope.item.reqServHotelRoomBusies=[];}var modalInstance=$modal.open({templateUrl:"ReqservhotelroombusyEdit",controller:"ReqServHotelRoomBusyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.reqServHotelRoomBusies.push(item);},function(){});};$scope.createModalItemRelServHotelRoomFeatures=function(){if(typeof $scope.item.relServHotelRoomFeatureses=="undefined"){$scope.item.relServHotelRoomFeatureses=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelroomfeaturesEdit",controller:"RelServHotelRoomFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelRoomFeatureses.push(item);},function(){});};$scope.createModalItemReqServHotel=function(){if(typeof $scope.item.reqServHotels=="undefined"){$scope.item.reqServHotels=[];}var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.reqServHotels.push(item);},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.createModalItemServCruise=function(){if(typeof $scope.item.servCruises=="undefined"){$scope.item.servCruises=[];}var modalInstance=$modal.open({templateUrl:"ServcruiseEdit",controller:"ServCruiseEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servCruises.push(item);},function(){});};$scope.createModalItemServTransfer=function(){if(typeof $scope.item.servTransfers=="undefined"){$scope.item.servTransfers=[];}var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servTransfers.push(item);},function(){});};$scope.createModalItemServTicketsAir=function(){if(typeof $scope.item.servTicketsAirs=="undefined"){$scope.item.servTicketsAirs=[];}var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servTicketsAirs.push(item);},function(){});};$scope.createModalItemServGifts=function(){if(typeof $scope.item.servGiftses=="undefined"){$scope.item.servGiftses=[];}var modalInstance=$modal.open({templateUrl:"ServgiftsEdit",controller:"ServGiftsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servGiftses.push(item);},function(){});};$scope.createModalItemTmCommercial=function(){if(typeof $scope.item.tmCommercials=="undefined"){$scope.item.tmCommercials=[];}var modalInstance=$modal.open({templateUrl:"TmcommercialEdit",controller:"TmCommercialEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.tmCommercials.push(item);},function(){});};$scope.createModalItemPaymentAccount=function(){if(typeof $scope.item.paymentAccounts=="undefined"){$scope.item.paymentAccounts=[];}var modalInstance=$modal.open({templateUrl:"PaymentaccountEdit",controller:"PaymentAccountEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.paymentAccounts.push(item);},function(){});};$scope.createModalItemServHotelServices=function(){if(typeof $scope.item.servHotelServiceses=="undefined"){$scope.item.servHotelServiceses=[];}var modalInstance=$modal.open({templateUrl:"ServhotelservicesEdit",controller:"ServHotelServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotelServiceses.push(item);},function(){});};$scope.createModalItemReqCruiseServices=function(){if(typeof $scope.item.reqCruiseServiceses=="undefined"){$scope.item.reqCruiseServiceses=[];}var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesEdit",controller:"ReqCruiseServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.reqCruiseServiceses.push(item);},function(){});};$scope.createModalItemServTicketsAir=function(){if(typeof $scope.item.servTicketsAirs=="undefined"){$scope.item.servTicketsAirs=[];}var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servTicketsAirs.push(item);},function(){});};$scope.createModalItemServTransfer=function(){if(typeof $scope.item.servTransfers=="undefined"){$scope.item.servTransfers=[];}var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servTransfers.push(item);},function(){});};$scope.createModalItemTmPolicies=function(){if(typeof $scope.item.tmPolicieses=="undefined"){$scope.item.tmPolicieses=[];}var modalInstance=$modal.open({templateUrl:"TmpoliciesEdit",controller:"TmPoliciesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.tmPolicieses.push(item);},function(){});};$scope.createModalItemTmPolicies=function(){if(typeof $scope.item.tmPolicieses=="undefined"){$scope.item.tmPolicieses=[];}var modalInstance=$modal.open({templateUrl:"TmpoliciesEdit",controller:"TmPoliciesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.tmPolicieses.push(item);},function(){});};$scope.createModalItemLocationTypePlacement=function(){if(typeof $scope.item.locationTypePlacements=="undefined"){$scope.item.locationTypePlacements=[];}var modalInstance=$modal.open({templateUrl:"LocationtypeplacementEdit",controller:"LocationTypePlacementEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.locationTypePlacements.push(item);},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.createModalItemPaymentContact=function(){if(typeof $scope.item.paymentContacts=="undefined"){$scope.item.paymentContacts=[];}var modalInstance=$modal.open({templateUrl:"PaymentcontactEdit",controller:"PaymentContactEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.paymentContacts.push(item);},function(){});};$scope.createModalItemTmAccountCommunications=function(){if(typeof $scope.item.tmAccountCommunicationses=="undefined"){$scope.item.tmAccountCommunicationses=[];}var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsEdit",controller:"TmAccountCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.tmAccountCommunicationses.push(item);},function(){});};$scope.createModalItemServInsurances=function(){if(typeof $scope.item.servInsuranceses=="undefined"){$scope.item.servInsuranceses=[];}var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servInsuranceses.push(item);},function(){});};$scope.createModalItemRelServHotelFeatures=function(){if(typeof $scope.item.relServHotelFeatureses=="undefined"){$scope.item.relServHotelFeatureses=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelfeaturesEdit",controller:"RelServHotelFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelFeatureses.push(item);},function(){});};$scope.createModalItemReqHotelRoomsBusy=function(){if(typeof $scope.item.reqHotelRoomsBusies=="undefined"){$scope.item.reqHotelRoomsBusies=[];}var modalInstance=$modal.open({templateUrl:"ReqhotelroomsbusyEdit",controller:"ReqHotelRoomsBusyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["dictglobal"]};}}});modalInstance.result.then(function(item){$scope.item.reqHotelRoomsBusies.push(item);},function(){});};$scope.pickItemServHotelServices=function(){var modalInstance=$modal.open({templateUrl:"ServhotelservicesFragmentSelector",controller:"ServHotelServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotelServiceses=APP.checkDublicate2($scope.item.servHotelServiceses,data.data,"ServHotelServicesView");},function(){});};$scope.pickItemTmOrder=function(){var modalInstance=$modal.open({templateUrl:"TmorderFragmentSelector",controller:"TmOrderSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmOrders=APP.checkDublicate2($scope.item.tmOrders,data.data,"TmOrderView");},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};$scope.pickItemServHotelRoom=function(){var modalInstance=$modal.open({templateUrl:"ServhotelroomFragmentSelector",controller:"ServHotelRoomSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotelRooms=APP.checkDublicate2($scope.item.servHotelRooms,data.data,"ServHotelRoomView");},function(){});};$scope.pickItemServTicketsAir=function(){var modalInstance=$modal.open({templateUrl:"ServticketsairFragmentSelector",controller:"ServTicketsAirSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTicketsAirs=APP.checkDublicate2($scope.item.servTicketsAirs,data.data,"ServTicketsAirView");},function(){});};$scope.pickItemRelServHotelEntertainmentAndSport=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelEntertainmentAndSports=APP.checkDublicate($scope.item.relServHotelEntertainmentAndSports,data.data,"servhotel","dictglobal",$scope.item);},function(){});};$scope.pickItemServTransfer=function(){var modalInstance=$modal.open({templateUrl:"ServtransferFragmentSelector",controller:"ServTransferSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTransfers=APP.checkDublicate2($scope.item.servTransfers,data.data,"ServTransferView");},function(){});};$scope.pickItemRelServHotelCreditCards=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelCreditCardses=APP.checkDublicate($scope.item.relServHotelCreditCardses,data.data,"servhotel","dictglobal",$scope.item);},function(){});};$scope.pickItemPaymentAccount=function(){var modalInstance=$modal.open({templateUrl:"PaymentaccountFragmentSelector",controller:"PaymentAccountSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentAccounts=APP.checkDublicate2($scope.item.paymentAccounts,data.data,"PaymentAccountView");},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};$scope.pickItemServVisas=function(){var modalInstance=$modal.open({templateUrl:"ServvisasFragmentSelector",controller:"ServVisasSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servVisases=APP.checkDublicate2($scope.item.servVisases,data.data,"ServVisasView");},function(){});};$scope.pickItemServHotelRoom=function(){var modalInstance=$modal.open({templateUrl:"ServhotelroomFragmentSelector",controller:"ServHotelRoomSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotelRooms=APP.checkDublicate2($scope.item.servHotelRooms,data.data,"ServHotelRoomView");},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};$scope.pickItemRelServKidsRuleFeatures=function(){var modalInstance=$modal.open({templateUrl:"ServkidsruleFragmentSelector",controller:"ServKidsRuleSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServKidsRuleFeatureses=APP.checkDublicate($scope.item.relServKidsRuleFeatureses,data.data,"servkidsrule","dictglobal",$scope.item);},function(){});};$scope.pickItemReqServHotel=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelFragmentSelector",controller:"ReqServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqServHotels=APP.checkDublicate2($scope.item.reqServHotels,data.data,"ReqServHotelView");},function(){});};$scope.pickItemTmContactCommunications=function(){var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsFragmentSelector",controller:"TmContactCommunicationsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmContactCommunicationses=APP.checkDublicate2($scope.item.tmContactCommunicationses,data.data,"TmContactCommunicationsView");},function(){});};$scope.pickItemReqServHotelRoomBusy=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelroombusyFragmentSelector",controller:"ReqServHotelRoomBusySelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqServHotelRoomBusies=APP.checkDublicate2($scope.item.reqServHotelRoomBusies,data.data,"ReqServHotelRoomBusyView");},function(){});};$scope.pickItemRelServHotelRoomFeatures=function(){var modalInstance=$modal.open({templateUrl:"ServhotelroomFragmentSelector",controller:"ServHotelRoomSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelRoomFeatureses=APP.checkDublicate($scope.item.relServHotelRoomFeatureses,data.data,"servhotelroom","dictglobal",$scope.item);},function(){});};$scope.pickItemReqServHotel=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelFragmentSelector",controller:"ReqServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqServHotels=APP.checkDublicate2($scope.item.reqServHotels,data.data,"ReqServHotelView");},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};$scope.pickItemServCruise=function(){var modalInstance=$modal.open({templateUrl:"ServcruiseFragmentSelector",controller:"ServCruiseSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servCruises=APP.checkDublicate2($scope.item.servCruises,data.data,"ServCruiseView");},function(){});};$scope.pickItemServTransfer=function(){var modalInstance=$modal.open({templateUrl:"ServtransferFragmentSelector",controller:"ServTransferSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTransfers=APP.checkDublicate2($scope.item.servTransfers,data.data,"ServTransferView");},function(){});};$scope.pickItemServTicketsAir=function(){var modalInstance=$modal.open({templateUrl:"ServticketsairFragmentSelector",controller:"ServTicketsAirSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTicketsAirs=APP.checkDublicate2($scope.item.servTicketsAirs,data.data,"ServTicketsAirView");},function(){});};$scope.pickItemServGifts=function(){var modalInstance=$modal.open({templateUrl:"ServgiftsFragmentSelector",controller:"ServGiftsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servGiftses=APP.checkDublicate2($scope.item.servGiftses,data.data,"ServGiftsView");},function(){});};$scope.pickItemTmCommercial=function(){var modalInstance=$modal.open({templateUrl:"TmcommercialFragmentSelector",controller:"TmCommercialSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmCommercials=APP.checkDublicate2($scope.item.tmCommercials,data.data,"TmCommercialView");},function(){});};$scope.pickItemPaymentAccount=function(){var modalInstance=$modal.open({templateUrl:"PaymentaccountFragmentSelector",controller:"PaymentAccountSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentAccounts=APP.checkDublicate2($scope.item.paymentAccounts,data.data,"PaymentAccountView");},function(){});};$scope.pickItemServHotelServices=function(){var modalInstance=$modal.open({templateUrl:"ServhotelservicesFragmentSelector",controller:"ServHotelServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotelServiceses=APP.checkDublicate2($scope.item.servHotelServiceses,data.data,"ServHotelServicesView");},function(){});};$scope.pickItemReqCruiseServices=function(){var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesFragmentSelector",controller:"ReqCruiseServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqCruiseServiceses=APP.checkDublicate2($scope.item.reqCruiseServiceses,data.data,"ReqCruiseServicesView");},function(){});};$scope.pickItemServTicketsAir=function(){var modalInstance=$modal.open({templateUrl:"ServticketsairFragmentSelector",controller:"ServTicketsAirSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTicketsAirs=APP.checkDublicate2($scope.item.servTicketsAirs,data.data,"ServTicketsAirView");},function(){});};$scope.pickItemServTransfer=function(){var modalInstance=$modal.open({templateUrl:"ServtransferFragmentSelector",controller:"ServTransferSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTransfers=APP.checkDublicate2($scope.item.servTransfers,data.data,"ServTransferView");},function(){});};$scope.pickItemTmPolicies=function(){var modalInstance=$modal.open({templateUrl:"TmpoliciesFragmentSelector",controller:"TmPoliciesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmPolicieses=APP.checkDublicate2($scope.item.tmPolicieses,data.data,"TmPoliciesView");},function(){});};$scope.pickItemTmPolicies=function(){var modalInstance=$modal.open({templateUrl:"TmpoliciesFragmentSelector",controller:"TmPoliciesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmPolicieses=APP.checkDublicate2($scope.item.tmPolicieses,data.data,"TmPoliciesView");},function(){});};$scope.pickItemLocationTypePlacement=function(){var modalInstance=$modal.open({templateUrl:"LocationtypeplacementFragmentSelector",controller:"LocationTypePlacementSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.locationTypePlacements=APP.checkDublicate2($scope.item.locationTypePlacements,data.data,"LocationTypePlacementView");},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};$scope.pickItemPaymentContact=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactFragmentSelector",controller:"PaymentContactSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentContacts=APP.checkDublicate2($scope.item.paymentContacts,data.data,"PaymentContactView");},function(){});};$scope.pickItemTmAccountCommunications=function(){var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsFragmentSelector",controller:"TmAccountCommunicationsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmAccountCommunicationses=APP.checkDublicate2($scope.item.tmAccountCommunicationses,data.data,"TmAccountCommunicationsView");},function(){});};$scope.pickItemServInsurances=function(){var modalInstance=$modal.open({templateUrl:"ServinsurancesFragmentSelector",controller:"ServInsurancesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servInsuranceses=APP.checkDublicate2($scope.item.servInsuranceses,data.data,"ServInsurancesView");},function(){});};$scope.pickItemRelServHotelFeatures=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelFeatureses=APP.checkDublicate($scope.item.relServHotelFeatureses,data.data,"servhotel","dictglobal",$scope.item);},function(){});};$scope.pickItemReqHotelRoomsBusy=function(){var modalInstance=$modal.open({templateUrl:"ReqhotelroomsbusyFragmentSelector",controller:"ReqHotelRoomsBusySelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqHotelRoomsBusies=APP.checkDublicate2($scope.item.reqHotelRoomsBusies,data.data,"ReqHotelRoomsBusyView");},function(){});};}]);tourismApp.controller("DocDocumentsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataDocDocuments=[],$scope.ctrl={name:"DocDocumentsListCtrl",original:"DocDocuments"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["docdocuments"],$scope.details={},$scope.$storage=$localStorage.$default({dataDocDocuments:[]}),$scope.dataDocDocuments=$scope.$storage.dataDocDocuments,$scope.debug=APP.debugInfo("DocDocumentsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"DocdocumentsEdit",controller:"DocDocumentsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["docdocuments"]};}}});modalInstance.result.then(function(data){$scope.dataDocDocuments.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"DocdocumentsEdit/"+itemId,controller:"DocDocumentsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["docdocuments"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataDocDocuments)};}}});modalInstance.result.then(function(data){$servicesStorage.DocDocumentsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataDocDocuments[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataDocDocuments[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.DocDocumentsDao().remove({id:itemId},{},function(){$scope.dataDocDocuments.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataDocDocuments=function(){$servicesStorage.DocDocumentsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataDocDocuments=JSOG.decode(data.data);$scope.$storage.dataDocDocuments=$scope.dataDocDocuments;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataDocDocuments=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.DocDocumentsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataDocDocuments=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataDocDocuments=APP.uniqueArray($scope.dataDocDocuments.concat(JSOG.decode(data.data)));$scope.$storage.dataDocDocuments=$scope.dataDocDocuments;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.DocDocumentsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataDocDocuments(true);},APP.timeOutCount("DocDocuments"));}]);tourismApp.controller("DocDocumentsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataDocDocuments=[],$scope.ctrl={name:"DocDocumentsSelectorCtrl",original:"DocDocuments"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataDocDocuments:{}}),$scope.dataDocDocuments=$scope.$storage.dataDocDocuments,$scope.debug=APP.debugInfo("DocDocumentsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataDocDocuments=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.DocDocumentsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataDocDocuments=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataDocDocuments=APP.uniqueArray($scope.dataDocDocuments.concat(JSOG.decode(data.data)));$scope.$storage.dataDocDocuments=$scope.dataDocDocuments;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataDocDocuments(true);},APP.timeOutCount("DocDocuments"));}]);tourismApp.controller("DocDocumentsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"DocDocumentsEditCtrl",original:"DocDocuments"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("DocDocumentsEditCtrl"),$scope.$storage=$localStorage.$default({itemDocDocuments:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"DocDocuments",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.DocDocumentsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.DocDocumentsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.DocDocumentsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemDocDocuments=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"DocDocuments");});}else{$scope.loading=false;}},APP.timeOutCount("DocDocuments"));$scope.editModalItemRelReqServHotelDocDocuments=function(itemId){var modalInstance=$modal.open({templateUrl:"RelreqservhoteldocdocumentsEdit",controller:"RelReqServHotelDocDocumentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelReqServHotelDocDocumentses,editItemId:itemId,excludeList:["docdocuments"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelTourDocs=function(itemId){var modalInstance=$modal.open({templateUrl:"ReltourdocsEdit",controller:"RelTourDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelTourDocses,editItemId:itemId,excludeList:["docdocuments"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelDocDocuments=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhoteldocdocumentsEdit",controller:"RelServHotelDocDocumentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelDocDocumentses,editItemId:itemId,excludeList:["docdocuments"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelCruiseDocs=function(itemId){var modalInstance=$modal.open({templateUrl:"RelcruisedocsEdit",controller:"RelCruiseDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelCruiseDocses,editItemId:itemId,excludeList:["docdocuments"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelOrderDocs=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderdocsEdit",controller:"RelOrderDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelOrderDocses,editItemId:itemId,excludeList:["docdocuments"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelReqServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"RelreqservhoteldocdocumentsFragmentMedit",controller:"RelReqServHotelDocDocumentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",insertParent:true,editItem:{},editItemId:-1,excludeList:["relreqservhoteldocdocumentses"]};}}});modalInstance.result.then(function(item){$scope.item.relReqServHotelDocDocumentses.push(item);},function(){});};$scope.uploadRelReqServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"uploadDocument",controller:"UploadDocumentCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",editItem:{},editItemId:-1,excludeList:["relreqservhoteldocdocumentses"]};}}});modalInstance.result.then(function(data){$scope.item.relReqServHotelDocDocumentses=APP.checkDublicate($scope.item.relReqServHotelDocDocumentses,data.data[0],"docdocuments","docdocuments",$scope.item);},function(){});};$scope.createModalItemRelTourDocs=function(){if(typeof $scope.item.relTourDocses=="undefined"){$scope.item.relTourDocses=[];}var modalInstance=$modal.open({templateUrl:"ReltourdocsEdit",controller:"RelTourDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["docdocuments"]};}}});modalInstance.result.then(function(item){$scope.item.relTourDocses.push(item);},function(){});};$scope.createModalItemRelServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"RelservhoteldocdocumentsFragmentMedit",controller:"RelServHotelDocDocumentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",insertParent:true,editItem:{},editItemId:-1,excludeList:["relservhoteldocdocumentses"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelDocDocumentses.push(item);},function(){});};$scope.uploadRelServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"uploadDocument",controller:"UploadDocumentCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",editItem:{},editItemId:-1,excludeList:["relservhoteldocdocumentses"]};}}});modalInstance.result.then(function(data){$scope.item.relServHotelDocDocumentses=APP.checkDublicate($scope.item.relServHotelDocDocumentses,data.data[0],"docdocuments","docdocuments",$scope.item);},function(){});};$scope.createModalItemRelCruiseDocs=function(){if(typeof $scope.item.relCruiseDocses=="undefined"){$scope.item.relCruiseDocses=[];}var modalInstance=$modal.open({templateUrl:"RelcruisedocsEdit",controller:"RelCruiseDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["docdocuments"]};}}});modalInstance.result.then(function(item){$scope.item.relCruiseDocses.push(item);},function(){});};$scope.createModalItemRelOrderDocs=function(){if(typeof $scope.item.relOrderDocses=="undefined"){$scope.item.relOrderDocses=[];}var modalInstance=$modal.open({templateUrl:"RelorderdocsEdit",controller:"RelOrderDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["docdocuments"]};}}});modalInstance.result.then(function(item){$scope.item.relOrderDocses.push(item);},function(){});};$scope.pickItemRelReqServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelFragmentSelector",controller:"ReqServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relReqServHotelDocDocumentses=APP.checkDublicate($scope.item.relReqServHotelDocDocumentses,data.data,"reqservhotel","docdocuments",$scope.item);},function(){});};$scope.pickItemRelTourDocs=function(){var modalInstance=$modal.open({templateUrl:"ServtourFragmentSelector",controller:"ServTourSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relTourDocses=APP.checkDublicate($scope.item.relTourDocses,data.data,"servtour","docdocuments",$scope.item);},function(){});};$scope.pickItemRelServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelDocDocumentses=APP.checkDublicate($scope.item.relServHotelDocDocumentses,data.data,"servhotel","docdocuments",$scope.item);},function(){});};$scope.pickItemRelCruiseDocs=function(){var modalInstance=$modal.open({templateUrl:"ServcruiseFragmentSelector",controller:"ServCruiseSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relCruiseDocses=APP.checkDublicate($scope.item.relCruiseDocses,data.data,"servcruise","docdocuments",$scope.item);},function(){});};$scope.pickItemRelOrderDocs=function(){var modalInstance=$modal.open({templateUrl:"TmorderFragmentSelector",controller:"TmOrderSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relOrderDocses=APP.checkDublicate($scope.item.relOrderDocses,data.data,"tmorder","docdocuments",$scope.item);},function(){});};}]);tourismApp.controller("GroupGlobalListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataGroupGlobal=[],$scope.ctrl={name:"GroupGlobalListCtrl",original:"GroupGlobal"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["groupglobal"],$scope.details={},$scope.$storage=$localStorage.$default({dataGroupGlobal:[]}),$scope.dataGroupGlobal=$scope.$storage.dataGroupGlobal,$scope.debug=APP.debugInfo("GroupGlobalListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"GroupglobalEdit",controller:"GroupGlobalEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["groupglobal"]};}}});modalInstance.result.then(function(data){$scope.dataGroupGlobal.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"GroupglobalEdit/"+itemId,controller:"GroupGlobalEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["groupglobal"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataGroupGlobal)};}}});modalInstance.result.then(function(data){$servicesStorage.GroupGlobalDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataGroupGlobal[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataGroupGlobal[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.GroupGlobalDao().remove({id:itemId},{},function(){$scope.dataGroupGlobal.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataGroupGlobal=function(){$servicesStorage.GroupGlobalDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataGroupGlobal=JSOG.decode(data.data);$scope.$storage.dataGroupGlobal=$scope.dataGroupGlobal;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataGroupGlobal=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.GroupGlobalDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataGroupGlobal=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataGroupGlobal=APP.uniqueArray($scope.dataGroupGlobal.concat(JSOG.decode(data.data)));$scope.$storage.dataGroupGlobal=$scope.dataGroupGlobal;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.GroupGlobalDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataGroupGlobal(true);},APP.timeOutCount("GroupGlobal"));}]);tourismApp.controller("GroupGlobalSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataGroupGlobal=[],$scope.ctrl={name:"GroupGlobalSelectorCtrl",original:"GroupGlobal"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataGroupGlobal:{}}),$scope.dataGroupGlobal=$scope.$storage.dataGroupGlobal,$scope.debug=APP.debugInfo("GroupGlobalSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataGroupGlobal=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.GroupGlobalDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataGroupGlobal=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataGroupGlobal=APP.uniqueArray($scope.dataGroupGlobal.concat(JSOG.decode(data.data)));$scope.$storage.dataGroupGlobal=$scope.dataGroupGlobal;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataGroupGlobal(true);},APP.timeOutCount("GroupGlobal"));}]);tourismApp.controller("GroupGlobalEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"GroupGlobalEditCtrl",original:"GroupGlobal"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("GroupGlobalEditCtrl"),$scope.$storage=$localStorage.$default({itemGroupGlobal:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"GroupGlobal",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.GroupGlobalDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.GroupGlobalDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.GroupGlobalDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemGroupGlobal=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"GroupGlobal");});}else{$scope.loading=false;}},APP.timeOutCount("GroupGlobal"));$scope.editModalItemServHotelRoom=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelroomEdit",controller:"ServHotelRoomEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotelRooms,editItemId:itemId,excludeList:["groupglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTour=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtourEdit",controller:"ServTourEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTours,editItemId:itemId,excludeList:["groupglobal"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemServHotelRoom=function(){if(typeof $scope.item.servHotelRooms=="undefined"){$scope.item.servHotelRooms=[];}var modalInstance=$modal.open({templateUrl:"ServhotelroomEdit",controller:"ServHotelRoomEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["groupglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servHotelRooms.push(item);},function(){});};$scope.createModalItemServTour=function(){if(typeof $scope.item.servTours=="undefined"){$scope.item.servTours=[];}var modalInstance=$modal.open({templateUrl:"ServtourEdit",controller:"ServTourEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["groupglobal"]};}}});modalInstance.result.then(function(item){$scope.item.servTours.push(item);},function(){});};$scope.pickItemServHotelRoom=function(){var modalInstance=$modal.open({templateUrl:"ServhotelroomFragmentSelector",controller:"ServHotelRoomSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotelRooms=APP.checkDublicate2($scope.item.servHotelRooms,data.data,"ServHotelRoomView");},function(){});};$scope.pickItemServTour=function(){var modalInstance=$modal.open({templateUrl:"ServtourFragmentSelector",controller:"ServTourSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTours=APP.checkDublicate2($scope.item.servTours,data.data,"ServTourView");},function(){});};}]);tourismApp.controller("InfoContactInformationListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataInfoContactInformation=[],$scope.ctrl={name:"InfoContactInformationListCtrl",original:"InfoContactInformation"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["infocontactinformation"],$scope.details={},$scope.$storage=$localStorage.$default({dataInfoContactInformation:[]}),$scope.dataInfoContactInformation=$scope.$storage.dataInfoContactInformation,$scope.debug=APP.debugInfo("InfoContactInformationListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"InfocontactinformationEdit",controller:"InfoContactInformationEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["infocontactinformation"]};}}});modalInstance.result.then(function(data){$scope.dataInfoContactInformation.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"InfocontactinformationEdit/"+itemId,controller:"InfoContactInformationEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["infocontactinformation"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataInfoContactInformation)};}}});modalInstance.result.then(function(data){$servicesStorage.InfoContactInformationDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataInfoContactInformation[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataInfoContactInformation[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.InfoContactInformationDao().remove({id:itemId},{},function(){$scope.dataInfoContactInformation.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataInfoContactInformation=function(){$servicesStorage.InfoContactInformationDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataInfoContactInformation=JSOG.decode(data.data);$scope.$storage.dataInfoContactInformation=$scope.dataInfoContactInformation;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataInfoContactInformation=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.InfoContactInformationDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataInfoContactInformation=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataInfoContactInformation=APP.uniqueArray($scope.dataInfoContactInformation.concat(JSOG.decode(data.data)));$scope.$storage.dataInfoContactInformation=$scope.dataInfoContactInformation;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.InfoContactInformationDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataInfoContactInformation(true);},APP.timeOutCount("InfoContactInformation"));}]);tourismApp.controller("InfoContactInformationSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataInfoContactInformation=[],$scope.ctrl={name:"InfoContactInformationSelectorCtrl",original:"InfoContactInformation"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataInfoContactInformation:{}}),$scope.dataInfoContactInformation=$scope.$storage.dataInfoContactInformation,$scope.debug=APP.debugInfo("InfoContactInformationSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataInfoContactInformation=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.InfoContactInformationDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataInfoContactInformation=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataInfoContactInformation=APP.uniqueArray($scope.dataInfoContactInformation.concat(JSOG.decode(data.data)));$scope.$storage.dataInfoContactInformation=$scope.dataInfoContactInformation;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataInfoContactInformation(true);},APP.timeOutCount("InfoContactInformation"));}]);tourismApp.controller("InfoContactInformationEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"InfoContactInformationEditCtrl",original:"InfoContactInformation"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("InfoContactInformationEditCtrl"),$scope.$storage=$localStorage.$default({itemInfoContactInformation:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"InfoContactInformation",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.InfoContactInformationDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.InfoContactInformationDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.InfoContactInformationDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemInfoContactInformation=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"InfoContactInformation");});}else{$scope.loading=false;}},APP.timeOutCount("InfoContactInformation"));$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["infocontactinformation"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["infocontactinformation"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};}]);tourismApp.controller("InfoServicesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataInfoServices=[],$scope.ctrl={name:"InfoServicesListCtrl",original:"InfoServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["infoservices"],$scope.details={},$scope.$storage=$localStorage.$default({dataInfoServices:[]}),$scope.dataInfoServices=$scope.$storage.dataInfoServices,$scope.debug=APP.debugInfo("InfoServicesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["infoservices"]};}}});modalInstance.result.then(function(data){$scope.dataInfoServices.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit/"+itemId,controller:"InfoServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["infoservices"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataInfoServices)};}}});modalInstance.result.then(function(data){$servicesStorage.InfoServicesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataInfoServices[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataInfoServices[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.InfoServicesDao().remove({id:itemId},{},function(){$scope.dataInfoServices.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataInfoServices=function(){$servicesStorage.InfoServicesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataInfoServices=JSOG.decode(data.data);$scope.$storage.dataInfoServices=$scope.dataInfoServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataInfoServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.InfoServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataInfoServices=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataInfoServices=APP.uniqueArray($scope.dataInfoServices.concat(JSOG.decode(data.data)));$scope.$storage.dataInfoServices=$scope.dataInfoServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.InfoServicesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataInfoServices(true);},APP.timeOutCount("InfoServices"));}]);tourismApp.controller("InfoServicesSelectorCtrl",["$scope","$q","$servicesStorage","$staticStorage","$modalInstance","$localStorage","toaster",function($scope,$q,$servicesStorage,$staticStorage,$modalInstance,$localStorage,toaster){$scope.dataOtherServicesStoreView=[],$scope.ctrl={name:"InfoServicesSelectorCtrl",original:"InfoServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataInfoServices:{}}),$scope.dataOtherServicesStoreView=$scope.$storage.dataOtherServicesStoreView,$scope.debug=APP.debugInfo("InfoServicesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance,$servicesStorage,$staticStorage,$q);$scope.loadDataOtherServicesStoreView=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.OtherServicesStoreViewDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataOtherServicesStoreView=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataOtherServicesStoreView=APP.uniqueArray($scope.dataOtherServicesStoreView.concat(JSOG.decode(data.data)));$scope.$storage.dataOtherServicesStoreView=$scope.dataOtherServicesStoreView;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataOtherServicesStoreView(true);},APP.timeOutCount("InfoServices"));}]);tourismApp.controller("InfoServicesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"InfoServicesEditCtrl",original:"InfoServices"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("InfoServicesEditCtrl"),$scope.$storage=$localStorage.$default({itemInfoServices:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"InfoServices",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.InfoServicesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.InfoServicesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.InfoServicesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemInfoServices=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"InfoServices");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataServCruise=$scope.$storage.dataServCruise;$servicesStorage.ServCruiseDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServCruise=JSOG.decode(data.data);$scope.$storage.dataServCruise=$scope.dataServCruise;});$scope.dataServExcursions=$scope.$storage.dataServExcursions;$servicesStorage.ServExcursionsDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServExcursions=JSOG.decode(data.data);$scope.$storage.dataServExcursions=$scope.dataServExcursions;});$scope.dataServGifts=$scope.$storage.dataServGifts;$servicesStorage.ServGiftsDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServGifts=JSOG.decode(data.data);$scope.$storage.dataServGifts=$scope.dataServGifts;});$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});$scope.dataServInsurances=$scope.$storage.dataServInsurances;$servicesStorage.ServInsurancesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServInsurances=JSOG.decode(data.data);$scope.$storage.dataServInsurances=$scope.dataServInsurances;});$scope.dataServTicketsAir=$scope.$storage.dataServTicketsAir;$servicesStorage.ServTicketsAirDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTicketsAir=JSOG.decode(data.data);$scope.$storage.dataServTicketsAir=$scope.dataServTicketsAir;});$scope.dataServTicketsRail=$scope.$storage.dataServTicketsRail;$servicesStorage.ServTicketsRailDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTicketsRail=JSOG.decode(data.data);$scope.$storage.dataServTicketsRail=$scope.dataServTicketsRail;});$scope.dataServTour=$scope.$storage.dataServTour;$servicesStorage.ServTourDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTour=JSOG.decode(data.data);$scope.$storage.dataServTour=$scope.dataServTour;});$scope.dataServTransfer=$scope.$storage.dataServTransfer;$servicesStorage.ServTransferDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTransfer=JSOG.decode(data.data);$scope.$storage.dataServTransfer=$scope.dataServTransfer;});$scope.dataServVisas=$scope.$storage.dataServVisas;$servicesStorage.ServVisasDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServVisas=JSOG.decode(data.data);$scope.$storage.dataServVisas=$scope.dataServVisas;});},APP.timeOutCount("InfoServices"));$scope.editModalItemRelOrderServices=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderservicesEdit",controller:"RelOrderServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelOrderServiceses,editItemId:itemId,excludeList:["infoservices"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqCruiseServices=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesEdit",controller:"ReqCruiseServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqCruiseServiceses,editItemId:itemId,excludeList:["infoservices"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelTourServices=function(itemId){var modalInstance=$modal.open({templateUrl:"ReltourservicesEdit",controller:"RelTourServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelTourServiceses,editItemId:itemId,excludeList:["infoservices"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelOrderServices=function(){if(typeof $scope.item.relOrderServiceses=="undefined"){$scope.item.relOrderServiceses=[];}var modalInstance=$modal.open({templateUrl:"RelorderservicesEdit",controller:"RelOrderServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["infoservices"]};}}});modalInstance.result.then(function(item){$scope.item.relOrderServiceses.push(item);},function(){});};$scope.createModalItemReqCruiseServices=function(){if(typeof $scope.item.reqCruiseServiceses=="undefined"){$scope.item.reqCruiseServiceses=[];}var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesEdit",controller:"ReqCruiseServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["infoservices"]};}}});modalInstance.result.then(function(item){$scope.item.reqCruiseServiceses.push(item);},function(){});};$scope.createModalItemRelTourServices=function(){if(typeof $scope.item.relTourServiceses=="undefined"){$scope.item.relTourServiceses=[];}var modalInstance=$modal.open({templateUrl:"ReltourservicesEdit",controller:"RelTourServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["infoservices"]};}}});modalInstance.result.then(function(item){$scope.item.relTourServiceses.push(item);},function(){});};$scope.pickItemRelOrderServices=function(){var modalInstance=$modal.open({templateUrl:"TmorderFragmentSelector",controller:"TmOrderSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relOrderServiceses=APP.checkDublicate($scope.item.relOrderServiceses,data.data,"tmorder","infoservices",$scope.item);},function(){});};$scope.pickItemReqCruiseServices=function(){var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesFragmentSelector",controller:"ReqCruiseServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqCruiseServiceses=APP.checkDublicate2($scope.item.reqCruiseServiceses,data.data,"ReqCruiseServicesView");},function(){});};$scope.pickItemRelTourServices=function(){var modalInstance=$modal.open({templateUrl:"ServtourFragmentSelector",controller:"ServTourSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relTourServiceses=APP.checkDublicate($scope.item.relTourServiceses,data.data,"servtour","infoservices",$scope.item);},function(){});};}]);tourismApp.controller("LocationAddressListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataLocationAddress=[],$scope.ctrl={name:"LocationAddressListCtrl",original:"LocationAddress"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["locationaddress"],$scope.details={},$scope.$storage=$localStorage.$default({dataLocationAddress:[]}),$scope.dataLocationAddress=$scope.$storage.dataLocationAddress,$scope.debug=APP.debugInfo("LocationAddressListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"LocationaddressEdit",controller:"LocationAddressEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["locationaddress"]};}}});modalInstance.result.then(function(data){$scope.dataLocationAddress.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"LocationaddressEdit/"+itemId,controller:"LocationAddressEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["locationaddress"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataLocationAddress)};}}});modalInstance.result.then(function(data){$servicesStorage.LocationAddressDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataLocationAddress[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataLocationAddress[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.LocationAddressDao().remove({id:itemId},{},function(){$scope.dataLocationAddress.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataLocationAddress=function(){$servicesStorage.LocationAddressDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataLocationAddress=JSOG.decode(data.data);$scope.$storage.dataLocationAddress=$scope.dataLocationAddress;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataLocationAddress=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.LocationAddressDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataLocationAddress=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataLocationAddress=APP.uniqueArray($scope.dataLocationAddress.concat(JSOG.decode(data.data)));$scope.$storage.dataLocationAddress=$scope.dataLocationAddress;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.LocationAddressDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataLocationAddress(true);},APP.timeOutCount("LocationAddress"));}]);tourismApp.controller("LocationAddressSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataLocationAddress=[],$scope.ctrl={name:"LocationAddressSelectorCtrl",original:"LocationAddress"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataLocationAddress:{}}),$scope.dataLocationAddress=$scope.$storage.dataLocationAddress,$scope.debug=APP.debugInfo("LocationAddressSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataLocationAddress=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.LocationAddressDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataLocationAddress=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataLocationAddress=APP.uniqueArray($scope.dataLocationAddress.concat(JSOG.decode(data.data)));$scope.$storage.dataLocationAddress=$scope.dataLocationAddress;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataLocationAddress(true);},APP.timeOutCount("LocationAddress"));}]);tourismApp.controller("LocationAddressEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"LocationAddressEditCtrl",original:"LocationAddress"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("LocationAddressEditCtrl"),$scope.$storage=$localStorage.$default({itemLocationAddress:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"LocationAddress",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.LocationAddressDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.LocationAddressDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.LocationAddressDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemLocationAddress=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"LocationAddress");});}else{$scope.loading=false;}},APP.timeOutCount("LocationAddress"));$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["locationaddress"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationaddress"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};}]);tourismApp.controller("LocationCitiesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataLocationCities=[],$scope.ctrl={name:"LocationCitiesListCtrl",original:"LocationCities"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["locationcities"],$scope.details={},$scope.$storage=$localStorage.$default({dataLocationCities:[]}),$scope.dataLocationCities=$scope.$storage.dataLocationCities,$scope.debug=APP.debugInfo("LocationCitiesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"LocationcitiesEdit",controller:"LocationCitiesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcities"]};}}});modalInstance.result.then(function(data){$scope.dataLocationCities.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"LocationcitiesEdit/"+itemId,controller:"LocationCitiesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["locationcities"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataLocationCities)};}}});modalInstance.result.then(function(data){$servicesStorage.LocationCitiesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataLocationCities[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataLocationCities[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.LocationCitiesDao().remove({id:itemId},{},function(){$scope.dataLocationCities.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataLocationCities=function(){$servicesStorage.LocationCitiesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataLocationCities=JSOG.decode(data.data);$scope.$storage.dataLocationCities=$scope.dataLocationCities;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataLocationCities=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.LocationCitiesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataLocationCities=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataLocationCities=APP.uniqueArray($scope.dataLocationCities.concat(JSOG.decode(data.data)));$scope.$storage.dataLocationCities=$scope.dataLocationCities;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.LocationCitiesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataLocationCities(true);},APP.timeOutCount("LocationCities"));}]);tourismApp.controller("LocationCitiesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataLocationCities=[],$scope.ctrl={name:"LocationCitiesSelectorCtrl",original:"LocationCities"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataLocationCities:{}}),$scope.dataLocationCities=$scope.$storage.dataLocationCities,$scope.debug=APP.debugInfo("LocationCitiesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataLocationCities=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.LocationCitiesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataLocationCities=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataLocationCities=APP.uniqueArray($scope.dataLocationCities.concat(JSOG.decode(data.data)));$scope.$storage.dataLocationCities=$scope.dataLocationCities;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataLocationCities(true);},APP.timeOutCount("LocationCities"));}]);tourismApp.controller("LocationCitiesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"LocationCitiesEditCtrl",original:"LocationCities"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("LocationCitiesEditCtrl"),$scope.$storage=$localStorage.$default({itemLocationCities:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"LocationCities",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.LocationCitiesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.LocationCitiesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.LocationCitiesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemLocationCities=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"LocationCities");});}else{$scope.loading=false;}$scope.dataLocationCountries=$scope.$storage.dataLocationCountries;$servicesStorage.LocationCountriesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCountries=JSOG.decode(data.data);$scope.$storage.dataLocationCountries=$scope.dataLocationCountries;});},APP.timeOutCount("LocationCities"));$scope.editModalItemTmContactCommunications=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsEdit",controller:"TmContactCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmContactCommunicationses,editItemId:itemId,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmAccountCommunications=function(itemId){var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsEdit",controller:"TmAccountCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmAccountCommunicationses,editItemId:itemId,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTransfer=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTransfers,editItemId:itemId,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmContactAddresses=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcontactaddressesEdit",controller:"TmContactAddressesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmContactAddresseses,editItemId:itemId,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmAccountAddresses=function(itemId){var modalInstance=$modal.open({templateUrl:"TmaccountaddressesEdit",controller:"TmAccountAddressesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmAccountAddresseses,editItemId:itemId,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServExcursions=function(itemId){var modalInstance=$modal.open({templateUrl:"ServexcursionsEdit",controller:"ServExcursionsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservExcursionses,editItemId:itemId,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTour=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtourEdit",controller:"ServTourEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTours,editItemId:itemId,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemTmContactCommunications=function(){if(typeof $scope.item.tmContactCommunicationses=="undefined"){$scope.item.tmContactCommunicationses=[];}var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsEdit",controller:"TmContactCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){$scope.item.tmContactCommunicationses.push(item);},function(){});};$scope.createModalItemTmAccountCommunications=function(){if(typeof $scope.item.tmAccountCommunicationses=="undefined"){$scope.item.tmAccountCommunicationses=[];}var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsEdit",controller:"TmAccountCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){$scope.item.tmAccountCommunicationses.push(item);},function(){});};$scope.createModalItemServTransfer=function(){if(typeof $scope.item.servTransfers=="undefined"){$scope.item.servTransfers=[];}var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){$scope.item.servTransfers.push(item);},function(){});};$scope.createModalItemTmContactAddresses=function(){if(typeof $scope.item.tmContactAddresseses=="undefined"){$scope.item.tmContactAddresseses=[];}var modalInstance=$modal.open({templateUrl:"TmcontactaddressesEdit",controller:"TmContactAddressesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){$scope.item.tmContactAddresseses.push(item);},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.createModalItemTmAccountAddresses=function(){if(typeof $scope.item.tmAccountAddresseses=="undefined"){$scope.item.tmAccountAddresseses=[];}var modalInstance=$modal.open({templateUrl:"TmaccountaddressesEdit",controller:"TmAccountAddressesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){$scope.item.tmAccountAddresseses.push(item);},function(){});};$scope.createModalItemServExcursions=function(){if(typeof $scope.item.servExcursionses=="undefined"){$scope.item.servExcursionses=[];}var modalInstance=$modal.open({templateUrl:"ServexcursionsEdit",controller:"ServExcursionsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){$scope.item.servExcursionses.push(item);},function(){});};$scope.createModalItemServTour=function(){if(typeof $scope.item.servTours=="undefined"){$scope.item.servTours=[];}var modalInstance=$modal.open({templateUrl:"ServtourEdit",controller:"ServTourEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcities"]};}}});modalInstance.result.then(function(item){$scope.item.servTours.push(item);},function(){});};$scope.pickItemTmContactCommunications=function(){var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsFragmentSelector",controller:"TmContactCommunicationsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmContactCommunicationses=APP.checkDublicate2($scope.item.tmContactCommunicationses,data.data,"TmContactCommunicationsView");},function(){});};$scope.pickItemTmAccountCommunications=function(){var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsFragmentSelector",controller:"TmAccountCommunicationsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmAccountCommunicationses=APP.checkDublicate2($scope.item.tmAccountCommunicationses,data.data,"TmAccountCommunicationsView");},function(){});};$scope.pickItemServTransfer=function(){var modalInstance=$modal.open({templateUrl:"ServtransferFragmentSelector",controller:"ServTransferSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTransfers=APP.checkDublicate2($scope.item.servTransfers,data.data,"ServTransferView");},function(){});};$scope.pickItemTmContactAddresses=function(){var modalInstance=$modal.open({templateUrl:"TmcontactaddressesFragmentSelector",controller:"TmContactAddressesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmContactAddresseses=APP.checkDublicate2($scope.item.tmContactAddresseses,data.data,"TmContactAddressesView");},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};$scope.pickItemTmAccountAddresses=function(){var modalInstance=$modal.open({templateUrl:"TmaccountaddressesFragmentSelector",controller:"TmAccountAddressesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmAccountAddresseses=APP.checkDublicate2($scope.item.tmAccountAddresseses,data.data,"TmAccountAddressesView");},function(){});};$scope.pickItemServExcursions=function(){var modalInstance=$modal.open({templateUrl:"ServexcursionsFragmentSelector",controller:"ServExcursionsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servExcursionses=APP.checkDublicate2($scope.item.servExcursionses,data.data,"ServExcursionsView");},function(){});};$scope.pickItemServTour=function(){var modalInstance=$modal.open({templateUrl:"ServtourFragmentSelector",controller:"ServTourSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTours=APP.checkDublicate2($scope.item.servTours,data.data,"ServTourView");},function(){});};}]);tourismApp.controller("LocationCountriesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataLocationCountries=[],$scope.ctrl={name:"LocationCountriesListCtrl",original:"LocationCountries"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["locationcountries"],$scope.details={},$scope.$storage=$localStorage.$default({dataLocationCountries:[]}),$scope.dataLocationCountries=$scope.$storage.dataLocationCountries,$scope.debug=APP.debugInfo("LocationCountriesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"LocationcountriesEdit",controller:"LocationCountriesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(data){$scope.dataLocationCountries.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"LocationcountriesEdit/"+itemId,controller:"LocationCountriesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["locationcountries"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataLocationCountries)};}}});modalInstance.result.then(function(data){$servicesStorage.LocationCountriesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataLocationCountries[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataLocationCountries[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.LocationCountriesDao().remove({id:itemId},{},function(){$scope.dataLocationCountries.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataLocationCountries=function(){$servicesStorage.LocationCountriesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataLocationCountries=JSOG.decode(data.data);$scope.$storage.dataLocationCountries=$scope.dataLocationCountries;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataLocationCountries=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.LocationCountriesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataLocationCountries=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataLocationCountries=APP.uniqueArray($scope.dataLocationCountries.concat(JSOG.decode(data.data)));$scope.$storage.dataLocationCountries=$scope.dataLocationCountries;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.LocationCountriesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataLocationCountries(true);},APP.timeOutCount("LocationCountries"));}]);tourismApp.controller("LocationCountriesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataLocationCountries=[],$scope.ctrl={name:"LocationCountriesSelectorCtrl",original:"LocationCountries"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataLocationCountries:{}}),$scope.dataLocationCountries=$scope.$storage.dataLocationCountries,$scope.debug=APP.debugInfo("LocationCountriesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataLocationCountries=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.LocationCountriesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataLocationCountries=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataLocationCountries=APP.uniqueArray($scope.dataLocationCountries.concat(JSOG.decode(data.data)));$scope.$storage.dataLocationCountries=$scope.dataLocationCountries;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataLocationCountries(true);},APP.timeOutCount("LocationCountries"));}]);tourismApp.controller("LocationCountriesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"LocationCountriesEditCtrl",original:"LocationCountries"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("LocationCountriesEditCtrl"),$scope.$storage=$localStorage.$default({itemLocationCountries:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"LocationCountries",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.LocationCountriesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.LocationCountriesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.LocationCountriesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemLocationCountries=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"LocationCountries");});}else{$scope.loading=false;}},APP.timeOutCount("LocationCountries"));$scope.editModalItemServTour=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtourEdit",controller:"ServTourEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTours,editItemId:itemId,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServVisas=function(itemId){var modalInstance=$modal.open({templateUrl:"ServvisasEdit",controller:"ServVisasEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservVisases,editItemId:itemId,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemLocationCities=function(itemId){var modalInstance=$modal.open({templateUrl:"LocationcitiesEdit",controller:"LocationCitiesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemlocationCitieses,editItemId:itemId,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServInsurances=function(itemId){var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservInsuranceses,editItemId:itemId,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTransfer=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTransfers,editItemId:itemId,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmContactEasy=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcontacteasyEdit",controller:"TmContactEasyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmContactEasies,editItemId:itemId,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemServTour=function(){if(typeof $scope.item.servTours=="undefined"){$scope.item.servTours=[];}var modalInstance=$modal.open({templateUrl:"ServtourEdit",controller:"ServTourEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){$scope.item.servTours.push(item);},function(){});};$scope.createModalItemServVisas=function(){if(typeof $scope.item.servVisases=="undefined"){$scope.item.servVisases=[];}var modalInstance=$modal.open({templateUrl:"ServvisasEdit",controller:"ServVisasEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){$scope.item.servVisases.push(item);},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.createModalItemLocationCities=function(){if(typeof $scope.item.locationCitieses=="undefined"){$scope.item.locationCitieses=[];}var modalInstance=$modal.open({templateUrl:"LocationcitiesEdit",controller:"LocationCitiesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){$scope.item.locationCitieses.push(item);},function(){});};$scope.createModalItemServInsurances=function(){if(typeof $scope.item.servInsuranceses=="undefined"){$scope.item.servInsuranceses=[];}var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){$scope.item.servInsuranceses.push(item);},function(){});};$scope.createModalItemServTransfer=function(){if(typeof $scope.item.servTransfers=="undefined"){$scope.item.servTransfers=[];}var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){$scope.item.servTransfers.push(item);},function(){});};$scope.createModalItemTmContactEasy=function(){if(typeof $scope.item.tmContactEasies=="undefined"){$scope.item.tmContactEasies=[];}var modalInstance=$modal.open({templateUrl:"TmcontacteasyEdit",controller:"TmContactEasyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationcountries"]};}}});modalInstance.result.then(function(item){$scope.item.tmContactEasies.push(item);},function(){});};$scope.pickItemServTour=function(){var modalInstance=$modal.open({templateUrl:"ServtourFragmentSelector",controller:"ServTourSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTours=APP.checkDublicate2($scope.item.servTours,data.data,"ServTourView");},function(){});};$scope.pickItemServVisas=function(){var modalInstance=$modal.open({templateUrl:"ServvisasFragmentSelector",controller:"ServVisasSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servVisases=APP.checkDublicate2($scope.item.servVisases,data.data,"ServVisasView");},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};$scope.pickItemLocationCities=function(){var modalInstance=$modal.open({templateUrl:"LocationcitiesFragmentSelector",controller:"LocationCitiesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.locationCitieses=APP.checkDublicate2($scope.item.locationCitieses,data.data,"LocationCitiesView");},function(){});};$scope.pickItemServInsurances=function(){var modalInstance=$modal.open({templateUrl:"ServinsurancesFragmentSelector",controller:"ServInsurancesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servInsuranceses=APP.checkDublicate2($scope.item.servInsuranceses,data.data,"ServInsurancesView");},function(){});};$scope.pickItemServTransfer=function(){var modalInstance=$modal.open({templateUrl:"ServtransferFragmentSelector",controller:"ServTransferSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTransfers=APP.checkDublicate2($scope.item.servTransfers,data.data,"ServTransferView");},function(){});};$scope.pickItemTmContactEasy=function(){var modalInstance=$modal.open({templateUrl:"TmcontacteasyFragmentSelector",controller:"TmContactEasySelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmContactEasies=APP.checkDublicate2($scope.item.tmContactEasies,data.data,"TmContactEasyView");},function(){});};}]);tourismApp.controller("LocationTypePlacementListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataLocationTypePlacement=[],$scope.ctrl={name:"LocationTypePlacementListCtrl",original:"LocationTypePlacement"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["locationtypeplacement"],$scope.details={},$scope.$storage=$localStorage.$default({dataLocationTypePlacement:[]}),$scope.dataLocationTypePlacement=$scope.$storage.dataLocationTypePlacement,$scope.debug=APP.debugInfo("LocationTypePlacementListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"LocationtypeplacementEdit",controller:"LocationTypePlacementEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["locationtypeplacement"]};}}});modalInstance.result.then(function(data){$scope.dataLocationTypePlacement.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"LocationtypeplacementEdit/"+itemId,controller:"LocationTypePlacementEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["locationtypeplacement"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataLocationTypePlacement)};}}});modalInstance.result.then(function(data){$servicesStorage.LocationTypePlacementDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataLocationTypePlacement[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataLocationTypePlacement[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.LocationTypePlacementDao().remove({id:itemId},{},function(){$scope.dataLocationTypePlacement.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataLocationTypePlacement=function(){$servicesStorage.LocationTypePlacementDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataLocationTypePlacement=JSOG.decode(data.data);$scope.$storage.dataLocationTypePlacement=$scope.dataLocationTypePlacement;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataLocationTypePlacement=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.LocationTypePlacementDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataLocationTypePlacement=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataLocationTypePlacement=APP.uniqueArray($scope.dataLocationTypePlacement.concat(JSOG.decode(data.data)));$scope.$storage.dataLocationTypePlacement=$scope.dataLocationTypePlacement;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.LocationTypePlacementDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataLocationTypePlacement(true);},APP.timeOutCount("LocationTypePlacement"));}]);tourismApp.controller("LocationTypePlacementSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataLocationTypePlacement=[],$scope.ctrl={name:"LocationTypePlacementSelectorCtrl",original:"LocationTypePlacement"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataLocationTypePlacement:{}}),$scope.dataLocationTypePlacement=$scope.$storage.dataLocationTypePlacement,$scope.debug=APP.debugInfo("LocationTypePlacementSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataLocationTypePlacement=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.LocationTypePlacementDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataLocationTypePlacement=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataLocationTypePlacement=APP.uniqueArray($scope.dataLocationTypePlacement.concat(JSOG.decode(data.data)));$scope.$storage.dataLocationTypePlacement=$scope.dataLocationTypePlacement;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataLocationTypePlacement(true);},APP.timeOutCount("LocationTypePlacement"));}]);tourismApp.controller("LocationTypePlacementEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"LocationTypePlacementEditCtrl",original:"LocationTypePlacement"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("LocationTypePlacementEditCtrl"),$scope.$storage=$localStorage.$default({itemLocationTypePlacement:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"LocationTypePlacement",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.LocationTypePlacementDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.LocationTypePlacementDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.LocationTypePlacementDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemLocationTypePlacement=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"LocationTypePlacement");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});},APP.timeOutCount("LocationTypePlacement"));$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["locationtypeplacement"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["locationtypeplacement"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};}]);tourismApp.controller("PaymentAccountListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataPaymentAccount=[],$scope.ctrl={name:"PaymentAccountListCtrl",original:"PaymentAccount"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["paymentaccount"],$scope.details={},$scope.$storage=$localStorage.$default({dataPaymentAccount:[]}),$scope.dataPaymentAccount=$scope.$storage.dataPaymentAccount,$scope.debug=APP.debugInfo("PaymentAccountListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"PaymentaccountEdit",controller:"PaymentAccountEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["paymentaccount"]};}}});modalInstance.result.then(function(data){$scope.dataPaymentAccount.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentaccountEdit/"+itemId,controller:"PaymentAccountEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["paymentaccount"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataPaymentAccount)};}}});modalInstance.result.then(function(data){$servicesStorage.PaymentAccountDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataPaymentAccount[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataPaymentAccount[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.PaymentAccountDao().remove({id:itemId},{},function(){$scope.dataPaymentAccount.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataPaymentAccount=function(){$servicesStorage.PaymentAccountDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentAccount=JSOG.decode(data.data);$scope.$storage.dataPaymentAccount=$scope.dataPaymentAccount;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataPaymentAccount=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentAccountDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentAccount=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentAccount=APP.uniqueArray($scope.dataPaymentAccount.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentAccount=$scope.dataPaymentAccount;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.PaymentAccountDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataPaymentAccount(true);},APP.timeOutCount("PaymentAccount"));}]);tourismApp.controller("PaymentAccountSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataPaymentAccount=[],$scope.ctrl={name:"PaymentAccountSelectorCtrl",original:"PaymentAccount"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataPaymentAccount:{}}),$scope.dataPaymentAccount=$scope.$storage.dataPaymentAccount,$scope.debug=APP.debugInfo("PaymentAccountSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataPaymentAccount=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentAccountDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentAccount=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataPaymentAccount=APP.uniqueArray($scope.dataPaymentAccount.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentAccount=$scope.dataPaymentAccount;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataPaymentAccount(true);},APP.timeOutCount("PaymentAccount"));}]);tourismApp.controller("PaymentAccountEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"PaymentAccountEditCtrl",original:"PaymentAccount"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("PaymentAccountEditCtrl"),$scope.$storage=$localStorage.$default({itemPaymentAccount:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"PaymentAccount",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentAccountDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.PaymentAccountDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentAccountDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemPaymentAccount=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"PaymentAccount");});}else{$scope.loading=false;}$scope.dataDictGlobalByPaymentMethodId=$scope.$storage.dataDictGlobalByPaymentMethodId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByPaymentMethodId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByPaymentMethodId=$scope.dataDictGlobalByPaymentMethodId;});$scope.dataDictGlobalByServiceTypeId=$scope.$storage.dataDictGlobalByServiceTypeId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByServiceTypeId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByServiceTypeId=$scope.dataDictGlobalByServiceTypeId;});},APP.timeOutCount("PaymentAccount"));$scope.editModalItemPaymentAccountRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentAccountRecords,editItemId:itemId,excludeList:["paymentaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemPaymentAccountRecord=function(){if(typeof $scope.item.paymentAccountRecords=="undefined"){$scope.item.paymentAccountRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["paymentaccount"]};}}});modalInstance.result.then(function(item){$scope.item.paymentAccountRecords.push(item);},function(){});};$scope.pickItemPaymentAccountRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordFragmentSelector",controller:"PaymentAccountRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentAccountRecords=APP.checkDublicate2($scope.item.paymentAccountRecords,data.data,"PaymentAccountRecordView");},function(){});};}]);tourismApp.controller("PaymentAccountRecordListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataPaymentAccountRecord=[],$scope.ctrl={name:"PaymentAccountRecordListCtrl",original:"PaymentAccountRecord"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["paymentaccountrecord"],$scope.details={},$scope.$storage=$localStorage.$default({dataPaymentAccountRecord:[]}),$scope.dataPaymentAccountRecord=$scope.$storage.dataPaymentAccountRecord,$scope.debug=APP.debugInfo("PaymentAccountRecordListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit",controller:"PaymentAccountRecordEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["paymentaccountrecord"]};}}});modalInstance.result.then(function(data){$scope.dataPaymentAccountRecord.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentaccountrecordEdit/"+itemId,controller:"PaymentAccountRecordEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["paymentaccountrecord"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataPaymentAccountRecord)};}}});modalInstance.result.then(function(data){$servicesStorage.PaymentAccountRecordDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataPaymentAccountRecord[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataPaymentAccountRecord[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.PaymentAccountRecordDao().remove({id:itemId},{},function(){$scope.dataPaymentAccountRecord.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataPaymentAccountRecord=function(){$servicesStorage.PaymentAccountRecordDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentAccountRecord=JSOG.decode(data.data);$scope.$storage.dataPaymentAccountRecord=$scope.dataPaymentAccountRecord;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataPaymentAccountRecord=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentAccountRecordDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentAccountRecord=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentAccountRecord=APP.uniqueArray($scope.dataPaymentAccountRecord.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentAccountRecord=$scope.dataPaymentAccountRecord;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.PaymentAccountRecordDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataPaymentAccountRecord(true);},APP.timeOutCount("PaymentAccountRecord"));}]);tourismApp.controller("PaymentAccountRecordSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataPaymentAccountRecord=[],$scope.ctrl={name:"PaymentAccountRecordSelectorCtrl",original:"PaymentAccountRecord"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataPaymentAccountRecord:{}}),$scope.dataPaymentAccountRecord=$scope.$storage.dataPaymentAccountRecord,$scope.debug=APP.debugInfo("PaymentAccountRecordSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataPaymentAccountRecord=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentAccountRecordDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentAccountRecord=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataPaymentAccountRecord=APP.uniqueArray($scope.dataPaymentAccountRecord.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentAccountRecord=$scope.dataPaymentAccountRecord;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataPaymentAccountRecord(true);},APP.timeOutCount("PaymentAccountRecord"));}]);tourismApp.controller("PaymentAccountRecordEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"PaymentAccountRecordEditCtrl",original:"PaymentAccountRecord"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("PaymentAccountRecordEditCtrl"),$scope.$storage=$localStorage.$default({itemPaymentAccountRecord:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"PaymentAccountRecord",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentAccountRecordDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.PaymentAccountRecordDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentAccountRecordDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemPaymentAccountRecord=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"PaymentAccountRecord");});}else{$scope.loading=false;}$scope.dataCurrCurrencyByResidualAmountCurrencyId=$scope.$storage.dataCurrCurrencyByResidualAmountCurrencyId;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrencyByResidualAmountCurrencyId=JSOG.decode(data.data);$scope.$storage.dataCurrCurrencyByResidualAmountCurrencyId=$scope.dataCurrCurrencyByResidualAmountCurrencyId;});$scope.dataCurrCurrencyByOverdueAmountCurrencyId=$scope.$storage.dataCurrCurrencyByOverdueAmountCurrencyId;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrencyByOverdueAmountCurrencyId=JSOG.decode(data.data);$scope.$storage.dataCurrCurrencyByOverdueAmountCurrencyId=$scope.dataCurrCurrencyByOverdueAmountCurrencyId;});$scope.dataCurrCurrencyByPenaltyCurrencyId=$scope.$storage.dataCurrCurrencyByPenaltyCurrencyId;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrencyByPenaltyCurrencyId=JSOG.decode(data.data);$scope.$storage.dataCurrCurrencyByPenaltyCurrencyId=$scope.dataCurrCurrencyByPenaltyCurrencyId;});$scope.dataCurrCurrencyByMonthinstalCurrencyId=$scope.$storage.dataCurrCurrencyByMonthinstalCurrencyId;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrencyByMonthinstalCurrencyId=JSOG.decode(data.data);$scope.$storage.dataCurrCurrencyByMonthinstalCurrencyId=$scope.dataCurrCurrencyByMonthinstalCurrencyId;});$scope.dataCurrCurrencyByFineCurrencyId=$scope.$storage.dataCurrCurrencyByFineCurrencyId;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrencyByFineCurrencyId=JSOG.decode(data.data);$scope.$storage.dataCurrCurrencyByFineCurrencyId=$scope.dataCurrCurrencyByFineCurrencyId;});$scope.dataPaymentAccount=$scope.$storage.dataPaymentAccount;$servicesStorage.PaymentAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataPaymentAccount=JSOG.decode(data.data);$scope.$storage.dataPaymentAccount=$scope.dataPaymentAccount;});},APP.timeOutCount("PaymentAccountRecord"));}]);tourismApp.controller("PaymentContactListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataPaymentContact=[],$scope.ctrl={name:"PaymentContactListCtrl",original:"PaymentContact"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["paymentcontact"],$scope.details={},$scope.$storage=$localStorage.$default({dataPaymentContact:[]}),$scope.dataPaymentContact=$scope.$storage.dataPaymentContact,$scope.debug=APP.debugInfo("PaymentContactListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactEdit",controller:"PaymentContactEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["paymentcontact"]};}}});modalInstance.result.then(function(data){$scope.dataPaymentContact.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactEdit/"+itemId,controller:"PaymentContactEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["paymentcontact"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataPaymentContact)};}}});modalInstance.result.then(function(data){$servicesStorage.PaymentContactDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataPaymentContact[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataPaymentContact[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.PaymentContactDao().remove({id:itemId},{},function(){$scope.dataPaymentContact.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataPaymentContact=function(){$servicesStorage.PaymentContactDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentContact=JSOG.decode(data.data);$scope.$storage.dataPaymentContact=$scope.dataPaymentContact;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataPaymentContact=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentContactDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentContact=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentContact=APP.uniqueArray($scope.dataPaymentContact.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentContact=$scope.dataPaymentContact;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.PaymentContactDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataPaymentContact(true);},APP.timeOutCount("PaymentContact"));}]);tourismApp.controller("PaymentContactSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataPaymentContact=[],$scope.ctrl={name:"PaymentContactSelectorCtrl",original:"PaymentContact"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataPaymentContact:{}}),$scope.dataPaymentContact=$scope.$storage.dataPaymentContact,$scope.debug=APP.debugInfo("PaymentContactSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataPaymentContact=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentContactDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentContact=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataPaymentContact=APP.uniqueArray($scope.dataPaymentContact.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentContact=$scope.dataPaymentContact;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataPaymentContact(true);},APP.timeOutCount("PaymentContact"));}]);tourismApp.controller("PaymentContactEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"PaymentContactEditCtrl",original:"PaymentContact"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("PaymentContactEditCtrl"),$scope.$storage=$localStorage.$default({itemPaymentContact:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"PaymentContact",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentContactDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.PaymentContactDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentContactDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemPaymentContact=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"PaymentContact");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataTmOrder=$scope.$storage.dataTmOrder;$servicesStorage.TmOrderDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmOrder=JSOG.decode(data.data);$scope.$storage.dataTmOrder=$scope.dataTmOrder;});},APP.timeOutCount("PaymentContact"));$scope.editModalItemPaymentContactRecord=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentContactRecords,editItemId:itemId,excludeList:["paymentcontact"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemPaymentContactRecord=function(){if(typeof $scope.item.paymentContactRecords=="undefined"){$scope.item.paymentContactRecords=[];}var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["paymentcontact"]};}}});modalInstance.result.then(function(item){$scope.item.paymentContactRecords.push(item);},function(){});};$scope.pickItemPaymentContactRecord=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordFragmentSelector",controller:"PaymentContactRecordSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentContactRecords=APP.checkDublicate2($scope.item.paymentContactRecords,data.data,"PaymentContactRecordView");},function(){});};}]);tourismApp.controller("PaymentContactRecordListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataPaymentContactRecord=[],$scope.ctrl={name:"PaymentContactRecordListCtrl",original:"PaymentContactRecord"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["paymentcontactrecord"],$scope.details={},$scope.$storage=$localStorage.$default({dataPaymentContactRecord:[]}),$scope.dataPaymentContactRecord=$scope.$storage.dataPaymentContactRecord,$scope.debug=APP.debugInfo("PaymentContactRecordListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit",controller:"PaymentContactRecordEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["paymentcontactrecord"]};}}});modalInstance.result.then(function(data){$scope.dataPaymentContactRecord.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactrecordEdit/"+itemId,controller:"PaymentContactRecordEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["paymentcontactrecord"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataPaymentContactRecord)};}}});modalInstance.result.then(function(data){$servicesStorage.PaymentContactRecordDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataPaymentContactRecord[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataPaymentContactRecord[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.PaymentContactRecordDao().remove({id:itemId},{},function(){$scope.dataPaymentContactRecord.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataPaymentContactRecord=function(){$servicesStorage.PaymentContactRecordDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentContactRecord=JSOG.decode(data.data);$scope.$storage.dataPaymentContactRecord=$scope.dataPaymentContactRecord;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataPaymentContactRecord=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentContactRecordDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentContactRecord=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentContactRecord=APP.uniqueArray($scope.dataPaymentContactRecord.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentContactRecord=$scope.dataPaymentContactRecord;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.PaymentContactRecordDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataPaymentContactRecord(true);},APP.timeOutCount("PaymentContactRecord"));}]);tourismApp.controller("PaymentContactRecordSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataPaymentContactRecord=[],$scope.ctrl={name:"PaymentContactRecordSelectorCtrl",original:"PaymentContactRecord"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataPaymentContactRecord:{}}),$scope.dataPaymentContactRecord=$scope.$storage.dataPaymentContactRecord,$scope.debug=APP.debugInfo("PaymentContactRecordSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataPaymentContactRecord=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentContactRecordDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentContactRecord=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataPaymentContactRecord=APP.uniqueArray($scope.dataPaymentContactRecord.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentContactRecord=$scope.dataPaymentContactRecord;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataPaymentContactRecord(true);},APP.timeOutCount("PaymentContactRecord"));}]);tourismApp.controller("PaymentContactRecordEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"PaymentContactRecordEditCtrl",original:"PaymentContactRecord"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("PaymentContactRecordEditCtrl"),$scope.$storage=$localStorage.$default({itemPaymentContactRecord:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"PaymentContactRecord",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentContactRecordDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.PaymentContactRecordDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentContactRecordDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemPaymentContactRecord=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"PaymentContactRecord");});}else{$scope.loading=false;}$scope.dataCurrCurrencyByOverdueAmountCurrencyId=$scope.$storage.dataCurrCurrencyByOverdueAmountCurrencyId;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrencyByOverdueAmountCurrencyId=JSOG.decode(data.data);$scope.$storage.dataCurrCurrencyByOverdueAmountCurrencyId=$scope.dataCurrCurrencyByOverdueAmountCurrencyId;});$scope.dataCurrCurrencyByMonthinstalCurrencyId=$scope.$storage.dataCurrCurrencyByMonthinstalCurrencyId;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrencyByMonthinstalCurrencyId=JSOG.decode(data.data);$scope.$storage.dataCurrCurrencyByMonthinstalCurrencyId=$scope.dataCurrCurrencyByMonthinstalCurrencyId;});$scope.dataCurrCurrencyByFineCurrencyId=$scope.$storage.dataCurrCurrencyByFineCurrencyId;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrencyByFineCurrencyId=JSOG.decode(data.data);$scope.$storage.dataCurrCurrencyByFineCurrencyId=$scope.dataCurrCurrencyByFineCurrencyId;});$scope.dataCurrCurrencyByResidualAmountCurrencyId=$scope.$storage.dataCurrCurrencyByResidualAmountCurrencyId;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrencyByResidualAmountCurrencyId=JSOG.decode(data.data);$scope.$storage.dataCurrCurrencyByResidualAmountCurrencyId=$scope.dataCurrCurrencyByResidualAmountCurrencyId;});$scope.dataCurrCurrencyByPenaltyCurrencyId=$scope.$storage.dataCurrCurrencyByPenaltyCurrencyId;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrencyByPenaltyCurrencyId=JSOG.decode(data.data);$scope.$storage.dataCurrCurrencyByPenaltyCurrencyId=$scope.dataCurrCurrencyByPenaltyCurrencyId;});$scope.dataPaymentContact=$scope.$storage.dataPaymentContact;$servicesStorage.PaymentContactDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataPaymentContact=JSOG.decode(data.data);$scope.$storage.dataPaymentContact=$scope.dataPaymentContact;});},APP.timeOutCount("PaymentContactRecord"));}]);tourismApp.controller("PaymentDetailsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataPaymentDetails=[],$scope.ctrl={name:"PaymentDetailsListCtrl",original:"PaymentDetails"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["paymentdetails"],$scope.details={},$scope.$storage=$localStorage.$default({dataPaymentDetails:[]}),$scope.dataPaymentDetails=$scope.$storage.dataPaymentDetails,$scope.debug=APP.debugInfo("PaymentDetailsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"PaymentdetailsEdit",controller:"PaymentDetailsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["paymentdetails"]};}}});modalInstance.result.then(function(data){$scope.dataPaymentDetails.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentdetailsEdit/"+itemId,controller:"PaymentDetailsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["paymentdetails"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataPaymentDetails)};}}});modalInstance.result.then(function(data){$servicesStorage.PaymentDetailsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataPaymentDetails[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataPaymentDetails[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.PaymentDetailsDao().remove({id:itemId},{},function(){$scope.dataPaymentDetails.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataPaymentDetails=function(){$servicesStorage.PaymentDetailsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentDetails=JSOG.decode(data.data);$scope.$storage.dataPaymentDetails=$scope.dataPaymentDetails;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataPaymentDetails=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentDetailsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentDetails=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentDetails=APP.uniqueArray($scope.dataPaymentDetails.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentDetails=$scope.dataPaymentDetails;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.PaymentDetailsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataPaymentDetails(true);},APP.timeOutCount("PaymentDetails"));}]);tourismApp.controller("PaymentDetailsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataPaymentDetails=[],$scope.ctrl={name:"PaymentDetailsSelectorCtrl",original:"PaymentDetails"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataPaymentDetails:{}}),$scope.dataPaymentDetails=$scope.$storage.dataPaymentDetails,$scope.debug=APP.debugInfo("PaymentDetailsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataPaymentDetails=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentDetailsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentDetails=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataPaymentDetails=APP.uniqueArray($scope.dataPaymentDetails.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentDetails=$scope.dataPaymentDetails;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataPaymentDetails(true);},APP.timeOutCount("PaymentDetails"));}]);tourismApp.controller("PaymentDetailsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"PaymentDetailsEditCtrl",original:"PaymentDetails"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("PaymentDetailsEditCtrl"),$scope.$storage=$localStorage.$default({itemPaymentDetails:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"PaymentDetails",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentDetailsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.PaymentDetailsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentDetailsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemPaymentDetails=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"PaymentDetails");});}else{$scope.loading=false;}},APP.timeOutCount("PaymentDetails"));$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["paymentdetails"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["paymentdetails"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};}]);tourismApp.controller("PaymentPriceListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataPaymentPrice=[],$scope.ctrl={name:"PaymentPriceListCtrl",original:"PaymentPrice"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["paymentprice"],$scope.details={},$scope.$storage=$localStorage.$default({dataPaymentPrice:[]}),$scope.dataPaymentPrice=$scope.$storage.dataPaymentPrice,$scope.debug=APP.debugInfo("PaymentPriceListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"PaymentpriceEdit",controller:"PaymentPriceEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["paymentprice"]};}}});modalInstance.result.then(function(data){$scope.dataPaymentPrice.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentpriceEdit/"+itemId,controller:"PaymentPriceEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["paymentprice"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataPaymentPrice)};}}});modalInstance.result.then(function(data){$servicesStorage.PaymentPriceDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataPaymentPrice[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataPaymentPrice[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.PaymentPriceDao().remove({id:itemId},{},function(){$scope.dataPaymentPrice.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataPaymentPrice=function(){$servicesStorage.PaymentPriceDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentPrice=JSOG.decode(data.data);$scope.$storage.dataPaymentPrice=$scope.dataPaymentPrice;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataPaymentPrice=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentPriceDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentPrice=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentPrice=APP.uniqueArray($scope.dataPaymentPrice.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentPrice=$scope.dataPaymentPrice;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.PaymentPriceDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataPaymentPrice(true);},APP.timeOutCount("PaymentPrice"));}]);tourismApp.controller("PaymentPriceSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataPaymentPrice=[],$scope.ctrl={name:"PaymentPriceSelectorCtrl",original:"PaymentPrice"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataPaymentPrice:{}}),$scope.dataPaymentPrice=$scope.$storage.dataPaymentPrice,$scope.debug=APP.debugInfo("PaymentPriceSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataPaymentPrice=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentPriceDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentPrice=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataPaymentPrice=APP.uniqueArray($scope.dataPaymentPrice.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentPrice=$scope.dataPaymentPrice;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataPaymentPrice(true);},APP.timeOutCount("PaymentPrice"));}]);tourismApp.controller("PaymentPriceEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"PaymentPriceEditCtrl",original:"PaymentPrice"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("PaymentPriceEditCtrl"),$scope.$storage=$localStorage.$default({itemPaymentPrice:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"PaymentPrice",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentPriceDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.PaymentPriceDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentPriceDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemPaymentPrice=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"PaymentPrice");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});$scope.dataPaymentTariff=$scope.$storage.dataPaymentTariff;$servicesStorage.PaymentTariffDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataPaymentTariff=JSOG.decode(data.data);$scope.$storage.dataPaymentTariff=$scope.dataPaymentTariff;});},APP.timeOutCount("PaymentPrice"));}]);tourismApp.controller("PaymentTariffListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataPaymentTariff=[],$scope.ctrl={name:"PaymentTariffListCtrl",original:"PaymentTariff"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["paymenttariff"],$scope.details={},$scope.$storage=$localStorage.$default({dataPaymentTariff:[]}),$scope.dataPaymentTariff=$scope.$storage.dataPaymentTariff,$scope.debug=APP.debugInfo("PaymentTariffListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"PaymenttariffEdit",controller:"PaymentTariffEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["paymenttariff"]};}}});modalInstance.result.then(function(data){$scope.dataPaymentTariff.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymenttariffEdit/"+itemId,controller:"PaymentTariffEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["paymenttariff"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataPaymentTariff)};}}});modalInstance.result.then(function(data){$servicesStorage.PaymentTariffDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataPaymentTariff[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataPaymentTariff[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.PaymentTariffDao().remove({id:itemId},{},function(){$scope.dataPaymentTariff.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataPaymentTariff=function(){$servicesStorage.PaymentTariffDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentTariff=JSOG.decode(data.data);$scope.$storage.dataPaymentTariff=$scope.dataPaymentTariff;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataPaymentTariff=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentTariffDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentTariff=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataPaymentTariff=APP.uniqueArray($scope.dataPaymentTariff.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentTariff=$scope.dataPaymentTariff;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.PaymentTariffDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataPaymentTariff(true);},APP.timeOutCount("PaymentTariff"));}]);tourismApp.controller("PaymentTariffSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataPaymentTariff=[],$scope.ctrl={name:"PaymentTariffSelectorCtrl",original:"PaymentTariff"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataPaymentTariff:{}}),$scope.dataPaymentTariff=$scope.$storage.dataPaymentTariff,$scope.debug=APP.debugInfo("PaymentTariffSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataPaymentTariff=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.PaymentTariffDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataPaymentTariff=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataPaymentTariff=APP.uniqueArray($scope.dataPaymentTariff.concat(JSOG.decode(data.data)));$scope.$storage.dataPaymentTariff=$scope.dataPaymentTariff;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataPaymentTariff(true);},APP.timeOutCount("PaymentTariff"));}]);tourismApp.controller("PaymentTariffEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"PaymentTariffEditCtrl",original:"PaymentTariff"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("PaymentTariffEditCtrl"),$scope.$storage=$localStorage.$default({itemPaymentTariff:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"PaymentTariff",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentTariffDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.PaymentTariffDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.PaymentTariffDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemPaymentTariff=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"PaymentTariff");});}else{$scope.loading=false;}$scope.dataServHotelRoom=$scope.$storage.dataServHotelRoom;$servicesStorage.ServHotelRoomDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotelRoom=JSOG.decode(data.data);$scope.$storage.dataServHotelRoom=$scope.dataServHotelRoom;});},APP.timeOutCount("PaymentTariff"));$scope.editModalItemPaymentPrice=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentpriceEdit",controller:"PaymentPriceEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentPrices,editItemId:itemId,excludeList:["paymenttariff"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemPaymentPrice=function(){if(typeof $scope.item.paymentPrices=="undefined"){$scope.item.paymentPrices=[];}var modalInstance=$modal.open({templateUrl:"PaymentpriceEdit",controller:"PaymentPriceEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["paymenttariff"]};}}});modalInstance.result.then(function(item){$scope.item.paymentPrices.push(item);},function(){});};$scope.pickItemPaymentPrice=function(){var modalInstance=$modal.open({templateUrl:"PaymentpriceFragmentSelector",controller:"PaymentPriceSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentPrices=APP.checkDublicate2($scope.item.paymentPrices,data.data,"PaymentPriceView");},function(){});};}]);tourismApp.controller("RelAccountContactsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelAccountContacts=[],$scope.ctrl={name:"RelAccountContactsListCtrl",original:"RelAccountContacts"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relaccountcontacts"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelAccountContacts:[]}),$scope.dataRelAccountContacts=$scope.$storage.dataRelAccountContacts,$scope.debug=APP.debugInfo("RelAccountContactsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelaccountcontactsEdit",controller:"RelAccountContactsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relaccountcontacts"]};}}});modalInstance.result.then(function(data){$scope.dataRelAccountContacts.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelaccountcontactsEdit/"+itemId,controller:"RelAccountContactsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relaccountcontacts"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelAccountContacts)};}}});modalInstance.result.then(function(data){$servicesStorage.RelAccountContactsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelAccountContacts[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelAccountContacts[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelAccountContactsDao().remove({id:itemId},{},function(){$scope.dataRelAccountContacts.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelAccountContacts=function(){$servicesStorage.RelAccountContactsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelAccountContacts=JSOG.decode(data.data);$scope.$storage.dataRelAccountContacts=$scope.dataRelAccountContacts;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelAccountContacts=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelAccountContactsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelAccountContacts=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelAccountContacts=APP.uniqueArray($scope.dataRelAccountContacts.concat(JSOG.decode(data.data)));$scope.$storage.dataRelAccountContacts=$scope.dataRelAccountContacts;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelAccountContactsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelAccountContacts(true);},APP.timeOutCount("RelAccountContacts"));}]);tourismApp.controller("RelAccountContactsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelAccountContacts=[],$scope.ctrl={name:"RelAccountContactsSelectorCtrl",original:"RelAccountContacts"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelAccountContacts:{}}),$scope.dataRelAccountContacts=$scope.$storage.dataRelAccountContacts,$scope.debug=APP.debugInfo("RelAccountContactsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelAccountContacts=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelAccountContactsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelAccountContacts=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelAccountContacts=APP.uniqueArray($scope.dataRelAccountContacts.concat(JSOG.decode(data.data)));$scope.$storage.dataRelAccountContacts=$scope.dataRelAccountContacts;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelAccountContacts(true);},APP.timeOutCount("RelAccountContacts"));}]);tourismApp.controller("RelAccountContactsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelAccountContactsEditCtrl",original:"RelAccountContacts"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelAccountContactsEditCtrl"),$scope.$storage=$localStorage.$default({itemRelAccountContacts:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelAccountContacts",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelAccountContactsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelAccountContactsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelAccountContactsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelAccountContacts=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelAccountContacts");});}else{$scope.loading=false;}$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});$scope.dataTmContact=$scope.$storage.dataTmContact;$servicesStorage.TmContactDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmContact=JSOG.decode(data.data);$scope.$storage.dataTmContact=$scope.dataTmContact;});},APP.timeOutCount("RelAccountContacts"));}]);tourismApp.controller("RelCruiseContactsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelCruiseContacts=[],$scope.ctrl={name:"RelCruiseContactsListCtrl",original:"RelCruiseContacts"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relcruisecontacts"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelCruiseContacts:[]}),$scope.dataRelCruiseContacts=$scope.$storage.dataRelCruiseContacts,$scope.debug=APP.debugInfo("RelCruiseContactsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelcruisecontactsEdit",controller:"RelCruiseContactsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relcruisecontacts"]};}}});modalInstance.result.then(function(data){$scope.dataRelCruiseContacts.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelcruisecontactsEdit/"+itemId,controller:"RelCruiseContactsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relcruisecontacts"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelCruiseContacts)};}}});modalInstance.result.then(function(data){$servicesStorage.RelCruiseContactsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelCruiseContacts[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelCruiseContacts[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelCruiseContactsDao().remove({id:itemId},{},function(){$scope.dataRelCruiseContacts.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelCruiseContacts=function(){$servicesStorage.RelCruiseContactsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelCruiseContacts=JSOG.decode(data.data);$scope.$storage.dataRelCruiseContacts=$scope.dataRelCruiseContacts;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelCruiseContacts=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelCruiseContactsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelCruiseContacts=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelCruiseContacts=APP.uniqueArray($scope.dataRelCruiseContacts.concat(JSOG.decode(data.data)));$scope.$storage.dataRelCruiseContacts=$scope.dataRelCruiseContacts;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelCruiseContactsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelCruiseContacts(true);},APP.timeOutCount("RelCruiseContacts"));}]);tourismApp.controller("RelCruiseContactsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelCruiseContacts=[],$scope.ctrl={name:"RelCruiseContactsSelectorCtrl",original:"RelCruiseContacts"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelCruiseContacts:{}}),$scope.dataRelCruiseContacts=$scope.$storage.dataRelCruiseContacts,$scope.debug=APP.debugInfo("RelCruiseContactsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelCruiseContacts=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelCruiseContactsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelCruiseContacts=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelCruiseContacts=APP.uniqueArray($scope.dataRelCruiseContacts.concat(JSOG.decode(data.data)));$scope.$storage.dataRelCruiseContacts=$scope.dataRelCruiseContacts;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelCruiseContacts(true);},APP.timeOutCount("RelCruiseContacts"));}]);tourismApp.controller("RelCruiseContactsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelCruiseContactsEditCtrl",original:"RelCruiseContacts"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelCruiseContactsEditCtrl"),$scope.$storage=$localStorage.$default({itemRelCruiseContacts:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelCruiseContacts",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelCruiseContactsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelCruiseContactsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelCruiseContactsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelCruiseContacts=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelCruiseContacts");});}else{$scope.loading=false;}$scope.dataServCruise=$scope.$storage.dataServCruise;$servicesStorage.ServCruiseDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServCruise=JSOG.decode(data.data);$scope.$storage.dataServCruise=$scope.dataServCruise;});$scope.dataTmContact=$scope.$storage.dataTmContact;$servicesStorage.TmContactDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmContact=JSOG.decode(data.data);$scope.$storage.dataTmContact=$scope.dataTmContact;});},APP.timeOutCount("RelCruiseContacts"));}]);tourismApp.controller("RelCruiseDocsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelCruiseDocs=[],$scope.ctrl={name:"RelCruiseDocsListCtrl",original:"RelCruiseDocs"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relcruisedocs"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelCruiseDocs:[]}),$scope.dataRelCruiseDocs=$scope.$storage.dataRelCruiseDocs,$scope.debug=APP.debugInfo("RelCruiseDocsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelcruisedocsEdit",controller:"RelCruiseDocsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relcruisedocs"]};}}});modalInstance.result.then(function(data){$scope.dataRelCruiseDocs.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelcruisedocsEdit/"+itemId,controller:"RelCruiseDocsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relcruisedocs"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelCruiseDocs)};}}});modalInstance.result.then(function(data){$servicesStorage.RelCruiseDocsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelCruiseDocs[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelCruiseDocs[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelCruiseDocsDao().remove({id:itemId},{},function(){$scope.dataRelCruiseDocs.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelCruiseDocs=function(){$servicesStorage.RelCruiseDocsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelCruiseDocs=JSOG.decode(data.data);$scope.$storage.dataRelCruiseDocs=$scope.dataRelCruiseDocs;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelCruiseDocs=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelCruiseDocsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelCruiseDocs=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelCruiseDocs=APP.uniqueArray($scope.dataRelCruiseDocs.concat(JSOG.decode(data.data)));$scope.$storage.dataRelCruiseDocs=$scope.dataRelCruiseDocs;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelCruiseDocsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelCruiseDocs(true);},APP.timeOutCount("RelCruiseDocs"));}]);tourismApp.controller("RelCruiseDocsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelCruiseDocs=[],$scope.ctrl={name:"RelCruiseDocsSelectorCtrl",original:"RelCruiseDocs"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelCruiseDocs:{}}),$scope.dataRelCruiseDocs=$scope.$storage.dataRelCruiseDocs,$scope.debug=APP.debugInfo("RelCruiseDocsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelCruiseDocs=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelCruiseDocsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelCruiseDocs=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelCruiseDocs=APP.uniqueArray($scope.dataRelCruiseDocs.concat(JSOG.decode(data.data)));$scope.$storage.dataRelCruiseDocs=$scope.dataRelCruiseDocs;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelCruiseDocs(true);},APP.timeOutCount("RelCruiseDocs"));}]);tourismApp.controller("RelCruiseDocsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelCruiseDocsEditCtrl",original:"RelCruiseDocs"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelCruiseDocsEditCtrl"),$scope.$storage=$localStorage.$default({itemRelCruiseDocs:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelCruiseDocs",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelCruiseDocsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelCruiseDocsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelCruiseDocsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelCruiseDocs=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelCruiseDocs");});}else{$scope.loading=false;}$scope.dataDocDocuments=$scope.$storage.dataDocDocuments;$servicesStorage.DocDocumentsDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDocDocuments=JSOG.decode(data.data);$scope.$storage.dataDocDocuments=$scope.dataDocDocuments;});$scope.dataServCruise=$scope.$storage.dataServCruise;$servicesStorage.ServCruiseDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServCruise=JSOG.decode(data.data);$scope.$storage.dataServCruise=$scope.dataServCruise;});},APP.timeOutCount("RelCruiseDocs"));}]);tourismApp.controller("RelOrderClientListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelOrderClient=[],$scope.ctrl={name:"RelOrderClientListCtrl",original:"RelOrderClient"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relorderclient"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelOrderClient:[]}),$scope.dataRelOrderClient=$scope.$storage.dataRelOrderClient,$scope.debug=APP.debugInfo("RelOrderClientListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelorderclientEdit",controller:"RelOrderClientEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relorderclient"]};}}});modalInstance.result.then(function(data){$scope.dataRelOrderClient.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderclientEdit/"+itemId,controller:"RelOrderClientEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relorderclient"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelOrderClient)};}}});modalInstance.result.then(function(data){$servicesStorage.RelOrderClientDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelOrderClient[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelOrderClient[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelOrderClientDao().remove({id:itemId},{},function(){$scope.dataRelOrderClient.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelOrderClient=function(){$servicesStorage.RelOrderClientDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelOrderClient=JSOG.decode(data.data);$scope.$storage.dataRelOrderClient=$scope.dataRelOrderClient;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelOrderClient=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelOrderClientDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelOrderClient=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelOrderClient=APP.uniqueArray($scope.dataRelOrderClient.concat(JSOG.decode(data.data)));$scope.$storage.dataRelOrderClient=$scope.dataRelOrderClient;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelOrderClientDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelOrderClient(true);},APP.timeOutCount("RelOrderClient"));}]);tourismApp.controller("RelOrderClientSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelOrderClient=[],$scope.ctrl={name:"RelOrderClientSelectorCtrl",original:"RelOrderClient"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelOrderClient:{}}),$scope.dataRelOrderClient=$scope.$storage.dataRelOrderClient,$scope.debug=APP.debugInfo("RelOrderClientSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelOrderClient=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelOrderClientDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelOrderClient=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelOrderClient=APP.uniqueArray($scope.dataRelOrderClient.concat(JSOG.decode(data.data)));$scope.$storage.dataRelOrderClient=$scope.dataRelOrderClient;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelOrderClient(true);},APP.timeOutCount("RelOrderClient"));}]);tourismApp.controller("RelOrderClientEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelOrderClientEditCtrl",original:"RelOrderClient"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelOrderClientEditCtrl"),$scope.$storage=$localStorage.$default({itemRelOrderClient:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelOrderClient",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelOrderClientDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelOrderClientDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelOrderClientDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelOrderClient=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelOrderClient");});}else{$scope.loading=false;}$scope.dataTmContact=$scope.$storage.dataTmContact;$servicesStorage.TmContactDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmContact=JSOG.decode(data.data);$scope.$storage.dataTmContact=$scope.dataTmContact;});$scope.dataTmOrder=$scope.$storage.dataTmOrder;$servicesStorage.TmOrderDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmOrder=JSOG.decode(data.data);$scope.$storage.dataTmOrder=$scope.dataTmOrder;});},APP.timeOutCount("RelOrderClient"));}]);tourismApp.controller("RelOrderDocsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelOrderDocs=[],$scope.ctrl={name:"RelOrderDocsListCtrl",original:"RelOrderDocs"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relorderdocs"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelOrderDocs:[]}),$scope.dataRelOrderDocs=$scope.$storage.dataRelOrderDocs,$scope.debug=APP.debugInfo("RelOrderDocsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelorderdocsEdit",controller:"RelOrderDocsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relorderdocs"]};}}});modalInstance.result.then(function(data){$scope.dataRelOrderDocs.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderdocsEdit/"+itemId,controller:"RelOrderDocsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relorderdocs"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelOrderDocs)};}}});modalInstance.result.then(function(data){$servicesStorage.RelOrderDocsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelOrderDocs[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelOrderDocs[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelOrderDocsDao().remove({id:itemId},{},function(){$scope.dataRelOrderDocs.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelOrderDocs=function(){$servicesStorage.RelOrderDocsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelOrderDocs=JSOG.decode(data.data);$scope.$storage.dataRelOrderDocs=$scope.dataRelOrderDocs;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelOrderDocs=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelOrderDocsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelOrderDocs=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelOrderDocs=APP.uniqueArray($scope.dataRelOrderDocs.concat(JSOG.decode(data.data)));$scope.$storage.dataRelOrderDocs=$scope.dataRelOrderDocs;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelOrderDocsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelOrderDocs(true);},APP.timeOutCount("RelOrderDocs"));}]);tourismApp.controller("RelOrderDocsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelOrderDocs=[],$scope.ctrl={name:"RelOrderDocsSelectorCtrl",original:"RelOrderDocs"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelOrderDocs:{}}),$scope.dataRelOrderDocs=$scope.$storage.dataRelOrderDocs,$scope.debug=APP.debugInfo("RelOrderDocsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelOrderDocs=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelOrderDocsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelOrderDocs=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelOrderDocs=APP.uniqueArray($scope.dataRelOrderDocs.concat(JSOG.decode(data.data)));$scope.$storage.dataRelOrderDocs=$scope.dataRelOrderDocs;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelOrderDocs(true);},APP.timeOutCount("RelOrderDocs"));}]);tourismApp.controller("RelOrderDocsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelOrderDocsEditCtrl",original:"RelOrderDocs"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelOrderDocsEditCtrl"),$scope.$storage=$localStorage.$default({itemRelOrderDocs:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelOrderDocs",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelOrderDocsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelOrderDocsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelOrderDocsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelOrderDocs=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelOrderDocs");});}else{$scope.loading=false;}$scope.dataDocDocuments=$scope.$storage.dataDocDocuments;$servicesStorage.DocDocumentsDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDocDocuments=JSOG.decode(data.data);$scope.$storage.dataDocDocuments=$scope.dataDocDocuments;});$scope.dataTmOrder=$scope.$storage.dataTmOrder;$servicesStorage.TmOrderDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmOrder=JSOG.decode(data.data);$scope.$storage.dataTmOrder=$scope.dataTmOrder;});},APP.timeOutCount("RelOrderDocs"));}]);tourismApp.controller("RelOrderGiftListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelOrderGift=[],$scope.ctrl={name:"RelOrderGiftListCtrl",original:"RelOrderGift"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relordergift"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelOrderGift:[]}),$scope.dataRelOrderGift=$scope.$storage.dataRelOrderGift,$scope.debug=APP.debugInfo("RelOrderGiftListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelordergiftEdit",controller:"RelOrderGiftEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relordergift"]};}}});modalInstance.result.then(function(data){$scope.dataRelOrderGift.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelordergiftEdit/"+itemId,controller:"RelOrderGiftEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relordergift"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelOrderGift)};}}});modalInstance.result.then(function(data){$servicesStorage.RelOrderGiftDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelOrderGift[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelOrderGift[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelOrderGiftDao().remove({id:itemId},{},function(){$scope.dataRelOrderGift.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelOrderGift=function(){$servicesStorage.RelOrderGiftDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelOrderGift=JSOG.decode(data.data);$scope.$storage.dataRelOrderGift=$scope.dataRelOrderGift;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelOrderGift=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelOrderGiftDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelOrderGift=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelOrderGift=APP.uniqueArray($scope.dataRelOrderGift.concat(JSOG.decode(data.data)));$scope.$storage.dataRelOrderGift=$scope.dataRelOrderGift;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelOrderGiftDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelOrderGift(true);},APP.timeOutCount("RelOrderGift"));}]);tourismApp.controller("RelOrderGiftSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelOrderGift=[],$scope.ctrl={name:"RelOrderGiftSelectorCtrl",original:"RelOrderGift"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelOrderGift:{}}),$scope.dataRelOrderGift=$scope.$storage.dataRelOrderGift,$scope.debug=APP.debugInfo("RelOrderGiftSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelOrderGift=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelOrderGiftDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelOrderGift=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelOrderGift=APP.uniqueArray($scope.dataRelOrderGift.concat(JSOG.decode(data.data)));$scope.$storage.dataRelOrderGift=$scope.dataRelOrderGift;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelOrderGift(true);},APP.timeOutCount("RelOrderGift"));}]);tourismApp.controller("RelOrderGiftEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelOrderGiftEditCtrl",original:"RelOrderGift"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelOrderGiftEditCtrl"),$scope.$storage=$localStorage.$default({itemRelOrderGift:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelOrderGift",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelOrderGiftDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelOrderGiftDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelOrderGiftDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelOrderGift=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelOrderGift");});}else{$scope.loading=false;}$scope.dataServGifts=$scope.$storage.dataServGifts;$servicesStorage.ServGiftsDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServGifts=JSOG.decode(data.data);$scope.$storage.dataServGifts=$scope.dataServGifts;});$scope.dataTmOrder=$scope.$storage.dataTmOrder;$servicesStorage.TmOrderDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmOrder=JSOG.decode(data.data);$scope.$storage.dataTmOrder=$scope.dataTmOrder;});},APP.timeOutCount("RelOrderGift"));}]);tourismApp.controller("RelOrderHotelsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelOrderHotels=[],$scope.ctrl={name:"RelOrderHotelsListCtrl",original:"RelOrderHotels"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relorderhotels"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelOrderHotels:[]}),$scope.dataRelOrderHotels=$scope.$storage.dataRelOrderHotels,$scope.debug=APP.debugInfo("RelOrderHotelsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelorderhotelsEdit",controller:"RelOrderHotelsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relorderhotels"]};}}});modalInstance.result.then(function(data){$scope.dataRelOrderHotels.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderhotelsEdit/"+itemId,controller:"RelOrderHotelsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relorderhotels"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelOrderHotels)};}}});modalInstance.result.then(function(data){$servicesStorage.RelOrderHotelsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelOrderHotels[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelOrderHotels[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelOrderHotelsDao().remove({id:itemId},{},function(){$scope.dataRelOrderHotels.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelOrderHotels=function(){$servicesStorage.RelOrderHotelsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelOrderHotels=JSOG.decode(data.data);$scope.$storage.dataRelOrderHotels=$scope.dataRelOrderHotels;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelOrderHotels=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelOrderHotelsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelOrderHotels=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelOrderHotels=APP.uniqueArray($scope.dataRelOrderHotels.concat(JSOG.decode(data.data)));$scope.$storage.dataRelOrderHotels=$scope.dataRelOrderHotels;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelOrderHotelsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelOrderHotels(true);},APP.timeOutCount("RelOrderHotels"));}]);tourismApp.controller("RelOrderHotelsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelOrderHotels=[],$scope.ctrl={name:"RelOrderHotelsSelectorCtrl",original:"RelOrderHotels"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelOrderHotels:{}}),$scope.dataRelOrderHotels=$scope.$storage.dataRelOrderHotels,$scope.debug=APP.debugInfo("RelOrderHotelsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelOrderHotels=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelOrderHotelsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelOrderHotels=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelOrderHotels=APP.uniqueArray($scope.dataRelOrderHotels.concat(JSOG.decode(data.data)));$scope.$storage.dataRelOrderHotels=$scope.dataRelOrderHotels;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelOrderHotels(true);},APP.timeOutCount("RelOrderHotels"));}]);tourismApp.controller("RelOrderHotelsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelOrderHotelsEditCtrl",original:"RelOrderHotels"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelOrderHotelsEditCtrl"),$scope.$storage=$localStorage.$default({itemRelOrderHotels:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelOrderHotels",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelOrderHotelsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelOrderHotelsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelOrderHotelsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelOrderHotels=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelOrderHotels");});}else{$scope.loading=false;}$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});$scope.dataTmOrder=$scope.$storage.dataTmOrder;$servicesStorage.TmOrderDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmOrder=JSOG.decode(data.data);$scope.$storage.dataTmOrder=$scope.dataTmOrder;});},APP.timeOutCount("RelOrderHotels"));}]);tourismApp.controller("RelOrderServicesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelOrderServices=[],$scope.ctrl={name:"RelOrderServicesListCtrl",original:"RelOrderServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relorderservices"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelOrderServices:[]}),$scope.dataRelOrderServices=$scope.$storage.dataRelOrderServices,$scope.debug=APP.debugInfo("RelOrderServicesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelorderservicesEdit",controller:"RelOrderServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relorderservices"]};}}});modalInstance.result.then(function(data){$scope.dataRelOrderServices.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderservicesEdit/"+itemId,controller:"RelOrderServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relorderservices"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelOrderServices)};}}});modalInstance.result.then(function(data){$servicesStorage.RelOrderServicesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelOrderServices[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelOrderServices[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelOrderServicesDao().remove({id:itemId},{},function(){$scope.dataRelOrderServices.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelOrderServices=function(){$servicesStorage.RelOrderServicesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelOrderServices=JSOG.decode(data.data);$scope.$storage.dataRelOrderServices=$scope.dataRelOrderServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelOrderServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelOrderServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelOrderServices=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelOrderServices=APP.uniqueArray($scope.dataRelOrderServices.concat(JSOG.decode(data.data)));$scope.$storage.dataRelOrderServices=$scope.dataRelOrderServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelOrderServicesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelOrderServices(true);},APP.timeOutCount("RelOrderServices"));}]);tourismApp.controller("RelOrderServicesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelOrderServices=[],$scope.ctrl={name:"RelOrderServicesSelectorCtrl",original:"RelOrderServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelOrderServices:{}}),$scope.dataRelOrderServices=$scope.$storage.dataRelOrderServices,$scope.debug=APP.debugInfo("RelOrderServicesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelOrderServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelOrderServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelOrderServices=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelOrderServices=APP.uniqueArray($scope.dataRelOrderServices.concat(JSOG.decode(data.data)));$scope.$storage.dataRelOrderServices=$scope.dataRelOrderServices;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelOrderServices(true);},APP.timeOutCount("RelOrderServices"));}]);tourismApp.controller("RelOrderServicesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelOrderServicesEditCtrl",original:"RelOrderServices"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelOrderServicesEditCtrl"),$scope.$storage=$localStorage.$default({itemRelOrderServices:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelOrderServices",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelOrderServicesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelOrderServicesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelOrderServicesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelOrderServices=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelOrderServices");});}else{$scope.loading=false;}$scope.dataInfoServices=$scope.$storage.dataInfoServices;$servicesStorage.InfoServicesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataInfoServices=JSOG.decode(data.data);$scope.$storage.dataInfoServices=$scope.dataInfoServices;});$scope.dataTmOrder=$scope.$storage.dataTmOrder;$servicesStorage.TmOrderDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmOrder=JSOG.decode(data.data);$scope.$storage.dataTmOrder=$scope.dataTmOrder;});},APP.timeOutCount("RelOrderServices"));}]);tourismApp.controller("RelReqServHotelDocDocumentsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelReqServHotelDocDocuments=[],$scope.ctrl={name:"RelReqServHotelDocDocumentsListCtrl",original:"RelReqServHotelDocDocuments"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relreqservhoteldocdocuments"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelReqServHotelDocDocuments:[]}),$scope.dataRelReqServHotelDocDocuments=$scope.$storage.dataRelReqServHotelDocDocuments,$scope.debug=APP.debugInfo("RelReqServHotelDocDocumentsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelreqservhoteldocdocumentsEdit",controller:"RelReqServHotelDocDocumentsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relreqservhoteldocdocuments"]};}}});modalInstance.result.then(function(data){$scope.dataRelReqServHotelDocDocuments.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelreqservhoteldocdocumentsEdit/"+itemId,controller:"RelReqServHotelDocDocumentsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relreqservhoteldocdocuments"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelReqServHotelDocDocuments)};}}});modalInstance.result.then(function(data){$servicesStorage.RelReqServHotelDocDocumentsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelReqServHotelDocDocuments[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelReqServHotelDocDocuments[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelReqServHotelDocDocumentsDao().remove({id:itemId},{},function(){$scope.dataRelReqServHotelDocDocuments.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelReqServHotelDocDocuments=function(){$servicesStorage.RelReqServHotelDocDocumentsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelReqServHotelDocDocuments=JSOG.decode(data.data);$scope.$storage.dataRelReqServHotelDocDocuments=$scope.dataRelReqServHotelDocDocuments;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelReqServHotelDocDocuments=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelReqServHotelDocDocumentsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelReqServHotelDocDocuments=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelReqServHotelDocDocuments=APP.uniqueArray($scope.dataRelReqServHotelDocDocuments.concat(JSOG.decode(data.data)));$scope.$storage.dataRelReqServHotelDocDocuments=$scope.dataRelReqServHotelDocDocuments;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelReqServHotelDocDocumentsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelReqServHotelDocDocuments(true);},APP.timeOutCount("RelReqServHotelDocDocuments"));}]);tourismApp.controller("RelReqServHotelDocDocumentsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelReqServHotelDocDocuments=[],$scope.ctrl={name:"RelReqServHotelDocDocumentsSelectorCtrl",original:"RelReqServHotelDocDocuments"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelReqServHotelDocDocuments:{}}),$scope.dataRelReqServHotelDocDocuments=$scope.$storage.dataRelReqServHotelDocDocuments,$scope.debug=APP.debugInfo("RelReqServHotelDocDocumentsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelReqServHotelDocDocuments=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelReqServHotelDocDocumentsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelReqServHotelDocDocuments=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelReqServHotelDocDocuments=APP.uniqueArray($scope.dataRelReqServHotelDocDocuments.concat(JSOG.decode(data.data)));$scope.$storage.dataRelReqServHotelDocDocuments=$scope.dataRelReqServHotelDocDocuments;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelReqServHotelDocDocuments(true);},APP.timeOutCount("RelReqServHotelDocDocuments"));}]);tourismApp.controller("RelReqServHotelDocDocumentsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelReqServHotelDocDocumentsEditCtrl",original:"RelReqServHotelDocDocuments"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelReqServHotelDocDocumentsEditCtrl"),$scope.$storage=$localStorage.$default({itemRelReqServHotelDocDocuments:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelReqServHotelDocDocuments",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelReqServHotelDocDocumentsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelReqServHotelDocDocumentsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelReqServHotelDocDocumentsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelReqServHotelDocDocuments=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelReqServHotelDocDocuments");});}else{$scope.loading=false;}$scope.dataDocDocuments=$scope.$storage.dataDocDocuments;$servicesStorage.DocDocumentsDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDocDocuments=JSOG.decode(data.data);$scope.$storage.dataDocDocuments=$scope.dataDocDocuments;});$scope.dataReqServHotel=$scope.$storage.dataReqServHotel;$servicesStorage.ReqServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataReqServHotel=JSOG.decode(data.data);$scope.$storage.dataReqServHotel=$scope.dataReqServHotel;});},APP.timeOutCount("RelReqServHotelDocDocuments"));}]);tourismApp.controller("RelReqServHotelTmContactEasyListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelReqServHotelTmContactEasy=[],$scope.ctrl={name:"RelReqServHotelTmContactEasyListCtrl",original:"RelReqServHotelTmContactEasy"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relreqservhoteltmcontacteasy"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelReqServHotelTmContactEasy:[]}),$scope.dataRelReqServHotelTmContactEasy=$scope.$storage.dataRelReqServHotelTmContactEasy,$scope.debug=APP.debugInfo("RelReqServHotelTmContactEasyListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelreqservhoteltmcontacteasyEdit",controller:"RelReqServHotelTmContactEasyEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relreqservhoteltmcontacteasy"]};}}});modalInstance.result.then(function(data){$scope.dataRelReqServHotelTmContactEasy.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelreqservhoteltmcontacteasyEdit/"+itemId,controller:"RelReqServHotelTmContactEasyEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relreqservhoteltmcontacteasy"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelReqServHotelTmContactEasy)};}}});modalInstance.result.then(function(data){$servicesStorage.RelReqServHotelTmContactEasyDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelReqServHotelTmContactEasy[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelReqServHotelTmContactEasy[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelReqServHotelTmContactEasyDao().remove({id:itemId},{},function(){$scope.dataRelReqServHotelTmContactEasy.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelReqServHotelTmContactEasy=function(){$servicesStorage.RelReqServHotelTmContactEasyDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelReqServHotelTmContactEasy=JSOG.decode(data.data);$scope.$storage.dataRelReqServHotelTmContactEasy=$scope.dataRelReqServHotelTmContactEasy;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelReqServHotelTmContactEasy=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelReqServHotelTmContactEasyDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelReqServHotelTmContactEasy=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelReqServHotelTmContactEasy=APP.uniqueArray($scope.dataRelReqServHotelTmContactEasy.concat(JSOG.decode(data.data)));$scope.$storage.dataRelReqServHotelTmContactEasy=$scope.dataRelReqServHotelTmContactEasy;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelReqServHotelTmContactEasyDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelReqServHotelTmContactEasy(true);},APP.timeOutCount("RelReqServHotelTmContactEasy"));}]);tourismApp.controller("RelReqServHotelTmContactEasySelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelReqServHotelTmContactEasy=[],$scope.ctrl={name:"RelReqServHotelTmContactEasySelectorCtrl",original:"RelReqServHotelTmContactEasy"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelReqServHotelTmContactEasy:{}}),$scope.dataRelReqServHotelTmContactEasy=$scope.$storage.dataRelReqServHotelTmContactEasy,$scope.debug=APP.debugInfo("RelReqServHotelTmContactEasySelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelReqServHotelTmContactEasy=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelReqServHotelTmContactEasyDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelReqServHotelTmContactEasy=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelReqServHotelTmContactEasy=APP.uniqueArray($scope.dataRelReqServHotelTmContactEasy.concat(JSOG.decode(data.data)));$scope.$storage.dataRelReqServHotelTmContactEasy=$scope.dataRelReqServHotelTmContactEasy;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelReqServHotelTmContactEasy(true);},APP.timeOutCount("RelReqServHotelTmContactEasy"));}]);tourismApp.controller("RelReqServHotelTmContactEasyEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelReqServHotelTmContactEasyEditCtrl",original:"RelReqServHotelTmContactEasy"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelReqServHotelTmContactEasyEditCtrl"),$scope.$storage=$localStorage.$default({itemRelReqServHotelTmContactEasy:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelReqServHotelTmContactEasy",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelReqServHotelTmContactEasyDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelReqServHotelTmContactEasyDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelReqServHotelTmContactEasyDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelReqServHotelTmContactEasy=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelReqServHotelTmContactEasy");});}else{$scope.loading=false;}$scope.dataReqServHotel=$scope.$storage.dataReqServHotel;$servicesStorage.ReqServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataReqServHotel=JSOG.decode(data.data);$scope.$storage.dataReqServHotel=$scope.dataReqServHotel;});$scope.dataTmContactEasy=$scope.$storage.dataTmContactEasy;$servicesStorage.TmContactEasyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmContactEasy=JSOG.decode(data.data);$scope.$storage.dataTmContactEasy=$scope.dataTmContactEasy;});},APP.timeOutCount("RelReqServHotelTmContactEasy"));}]);tourismApp.controller("RelServHotelCreditCardsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelCreditCards=[],$scope.ctrl={name:"RelServHotelCreditCardsListCtrl",original:"RelServHotelCreditCards"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhotelcreditcards"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelCreditCards:[]}),$scope.dataRelServHotelCreditCards=$scope.$storage.dataRelServHotelCreditCards,$scope.debug=APP.debugInfo("RelServHotelCreditCardsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhotelcreditcardsEdit",controller:"RelServHotelCreditCardsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhotelcreditcards"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelCreditCards.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelcreditcardsEdit/"+itemId,controller:"RelServHotelCreditCardsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhotelcreditcards"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelCreditCards)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelCreditCardsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelCreditCards[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelCreditCards[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelCreditCardsDao().remove({id:itemId},{},function(){$scope.dataRelServHotelCreditCards.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelCreditCards=function(){$servicesStorage.RelServHotelCreditCardsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelCreditCards=JSOG.decode(data.data);$scope.$storage.dataRelServHotelCreditCards=$scope.dataRelServHotelCreditCards;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelCreditCards=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelCreditCardsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelCreditCards=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelCreditCards=APP.uniqueArray($scope.dataRelServHotelCreditCards.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelCreditCards=$scope.dataRelServHotelCreditCards;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelCreditCardsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelCreditCards(true);},APP.timeOutCount("RelServHotelCreditCards"));}]);tourismApp.controller("RelServHotelCreditCardsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelCreditCards=[],$scope.ctrl={name:"RelServHotelCreditCardsSelectorCtrl",original:"RelServHotelCreditCards"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelCreditCards:{}}),$scope.dataRelServHotelCreditCards=$scope.$storage.dataRelServHotelCreditCards,$scope.debug=APP.debugInfo("RelServHotelCreditCardsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelCreditCards=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelCreditCardsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelCreditCards=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelCreditCards=APP.uniqueArray($scope.dataRelServHotelCreditCards.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelCreditCards=$scope.dataRelServHotelCreditCards;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelCreditCards(true);},APP.timeOutCount("RelServHotelCreditCards"));}]);tourismApp.controller("RelServHotelCreditCardsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelCreditCardsEditCtrl",original:"RelServHotelCreditCards"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelCreditCardsEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelCreditCards:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelCreditCards",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelCreditCardsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelCreditCardsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelCreditCardsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelCreditCards=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelCreditCards");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});},APP.timeOutCount("RelServHotelCreditCards"));}]);tourismApp.controller("RelServHotelDocDocumentsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelDocDocuments=[],$scope.ctrl={name:"RelServHotelDocDocumentsListCtrl",original:"RelServHotelDocDocuments"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhoteldocdocuments"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelDocDocuments:[]}),$scope.dataRelServHotelDocDocuments=$scope.$storage.dataRelServHotelDocDocuments,$scope.debug=APP.debugInfo("RelServHotelDocDocumentsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhoteldocdocumentsEdit",controller:"RelServHotelDocDocumentsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhoteldocdocuments"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelDocDocuments.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhoteldocdocumentsEdit/"+itemId,controller:"RelServHotelDocDocumentsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhoteldocdocuments"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelDocDocuments)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelDocDocumentsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelDocDocuments[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelDocDocuments[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelDocDocumentsDao().remove({id:itemId},{},function(){$scope.dataRelServHotelDocDocuments.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelDocDocuments=function(){$servicesStorage.RelServHotelDocDocumentsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelDocDocuments=JSOG.decode(data.data);$scope.$storage.dataRelServHotelDocDocuments=$scope.dataRelServHotelDocDocuments;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelDocDocuments=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelDocDocumentsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelDocDocuments=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelDocDocuments=APP.uniqueArray($scope.dataRelServHotelDocDocuments.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelDocDocuments=$scope.dataRelServHotelDocDocuments;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelDocDocumentsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelDocDocuments(true);},APP.timeOutCount("RelServHotelDocDocuments"));}]);tourismApp.controller("RelServHotelDocDocumentsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelDocDocuments=[],$scope.ctrl={name:"RelServHotelDocDocumentsSelectorCtrl",original:"RelServHotelDocDocuments"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelDocDocuments:{}}),$scope.dataRelServHotelDocDocuments=$scope.$storage.dataRelServHotelDocDocuments,$scope.debug=APP.debugInfo("RelServHotelDocDocumentsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelDocDocuments=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelDocDocumentsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelDocDocuments=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelDocDocuments=APP.uniqueArray($scope.dataRelServHotelDocDocuments.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelDocDocuments=$scope.dataRelServHotelDocDocuments;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelDocDocuments(true);},APP.timeOutCount("RelServHotelDocDocuments"));}]);tourismApp.controller("RelServHotelDocDocumentsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelDocDocumentsEditCtrl",original:"RelServHotelDocDocuments"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelDocDocumentsEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelDocDocuments:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelDocDocuments",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelDocDocumentsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelDocDocumentsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelDocDocumentsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelDocDocuments=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelDocDocuments");});}else{$scope.loading=false;}$scope.dataDocDocuments=$scope.$storage.dataDocDocuments;$servicesStorage.DocDocumentsDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDocDocuments=JSOG.decode(data.data);$scope.$storage.dataDocDocuments=$scope.dataDocDocuments;});$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});},APP.timeOutCount("RelServHotelDocDocuments"));}]);tourismApp.controller("RelServHotelEntertainmentAndSportListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelEntertainmentAndSport=[],$scope.ctrl={name:"RelServHotelEntertainmentAndSportListCtrl",original:"RelServHotelEntertainmentAndSport"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhotelentertainmentandsport"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelEntertainmentAndSport:[]}),$scope.dataRelServHotelEntertainmentAndSport=$scope.$storage.dataRelServHotelEntertainmentAndSport,$scope.debug=APP.debugInfo("RelServHotelEntertainmentAndSportListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhotelentertainmentandsportEdit",controller:"RelServHotelEntertainmentAndSportEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhotelentertainmentandsport"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelEntertainmentAndSport.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelentertainmentandsportEdit/"+itemId,controller:"RelServHotelEntertainmentAndSportEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhotelentertainmentandsport"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelEntertainmentAndSport)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelEntertainmentAndSportDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelEntertainmentAndSport[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelEntertainmentAndSport[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelEntertainmentAndSportDao().remove({id:itemId},{},function(){$scope.dataRelServHotelEntertainmentAndSport.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelEntertainmentAndSport=function(){$servicesStorage.RelServHotelEntertainmentAndSportDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelEntertainmentAndSport=JSOG.decode(data.data);$scope.$storage.dataRelServHotelEntertainmentAndSport=$scope.dataRelServHotelEntertainmentAndSport;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelEntertainmentAndSport=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelEntertainmentAndSportDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelEntertainmentAndSport=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelEntertainmentAndSport=APP.uniqueArray($scope.dataRelServHotelEntertainmentAndSport.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelEntertainmentAndSport=$scope.dataRelServHotelEntertainmentAndSport;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelEntertainmentAndSportDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelEntertainmentAndSport(true);},APP.timeOutCount("RelServHotelEntertainmentAndSport"));}]);tourismApp.controller("RelServHotelEntertainmentAndSportSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelEntertainmentAndSport=[],$scope.ctrl={name:"RelServHotelEntertainmentAndSportSelectorCtrl",original:"RelServHotelEntertainmentAndSport"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelEntertainmentAndSport:{}}),$scope.dataRelServHotelEntertainmentAndSport=$scope.$storage.dataRelServHotelEntertainmentAndSport,$scope.debug=APP.debugInfo("RelServHotelEntertainmentAndSportSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelEntertainmentAndSport=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelEntertainmentAndSportDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelEntertainmentAndSport=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelEntertainmentAndSport=APP.uniqueArray($scope.dataRelServHotelEntertainmentAndSport.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelEntertainmentAndSport=$scope.dataRelServHotelEntertainmentAndSport;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelEntertainmentAndSport(true);},APP.timeOutCount("RelServHotelEntertainmentAndSport"));}]);tourismApp.controller("RelServHotelEntertainmentAndSportEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelEntertainmentAndSportEditCtrl",original:"RelServHotelEntertainmentAndSport"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelEntertainmentAndSportEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelEntertainmentAndSport:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelEntertainmentAndSport",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelEntertainmentAndSportDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelEntertainmentAndSportDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelEntertainmentAndSportDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelEntertainmentAndSport=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelEntertainmentAndSport");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});},APP.timeOutCount("RelServHotelEntertainmentAndSport"));}]);tourismApp.controller("RelServHotelFeaturesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelFeatures=[],$scope.ctrl={name:"RelServHotelFeaturesListCtrl",original:"RelServHotelFeatures"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhotelfeatures"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelFeatures:[]}),$scope.dataRelServHotelFeatures=$scope.$storage.dataRelServHotelFeatures,$scope.debug=APP.debugInfo("RelServHotelFeaturesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhotelfeaturesEdit",controller:"RelServHotelFeaturesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhotelfeatures"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelFeatures.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelfeaturesEdit/"+itemId,controller:"RelServHotelFeaturesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhotelfeatures"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelFeatures)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelFeaturesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelFeatures[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelFeatures[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelFeaturesDao().remove({id:itemId},{},function(){$scope.dataRelServHotelFeatures.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelFeatures=function(){$servicesStorage.RelServHotelFeaturesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelFeatures=JSOG.decode(data.data);$scope.$storage.dataRelServHotelFeatures=$scope.dataRelServHotelFeatures;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelFeatures=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelFeaturesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelFeatures=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelFeatures=APP.uniqueArray($scope.dataRelServHotelFeatures.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelFeatures=$scope.dataRelServHotelFeatures;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelFeaturesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelFeatures(true);},APP.timeOutCount("RelServHotelFeatures"));}]);tourismApp.controller("RelServHotelFeaturesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelFeatures=[],$scope.ctrl={name:"RelServHotelFeaturesSelectorCtrl",original:"RelServHotelFeatures"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelFeatures:{}}),$scope.dataRelServHotelFeatures=$scope.$storage.dataRelServHotelFeatures,$scope.debug=APP.debugInfo("RelServHotelFeaturesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelFeatures=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelFeaturesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelFeatures=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelFeatures=APP.uniqueArray($scope.dataRelServHotelFeatures.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelFeatures=$scope.dataRelServHotelFeatures;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelFeatures(true);},APP.timeOutCount("RelServHotelFeatures"));}]);tourismApp.controller("RelServHotelFeaturesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelFeaturesEditCtrl",original:"RelServHotelFeatures"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelFeaturesEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelFeatures:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelFeatures",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelFeaturesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelFeaturesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelFeaturesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelFeatures=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelFeatures");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});},APP.timeOutCount("RelServHotelFeatures"));}]);tourismApp.controller("RelServHotelImageListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelImage=[],$scope.ctrl={name:"RelServHotelImageListCtrl",original:"RelServHotelImage"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhotelimage"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelImage:[]}),$scope.dataRelServHotelImage=$scope.$storage.dataRelServHotelImage,$scope.debug=APP.debugInfo("RelServHotelImageListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhotelimageEdit",controller:"RelServHotelImageEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhotelimage"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelImage.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelimageEdit/"+itemId,controller:"RelServHotelImageEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhotelimage"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelImage)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelImageDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelImage[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelImage[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelImageDao().remove({id:itemId},{},function(){$scope.dataRelServHotelImage.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelImage=function(){$servicesStorage.RelServHotelImageDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelImage=JSOG.decode(data.data);$scope.$storage.dataRelServHotelImage=$scope.dataRelServHotelImage;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelImage=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelImageDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelImage=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelImage=APP.uniqueArray($scope.dataRelServHotelImage.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelImage=$scope.dataRelServHotelImage;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelImageDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelImage(true);},APP.timeOutCount("RelServHotelImage"));}]);tourismApp.controller("RelServHotelImageSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelImage=[],$scope.ctrl={name:"RelServHotelImageSelectorCtrl",original:"RelServHotelImage"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelImage:{}}),$scope.dataRelServHotelImage=$scope.$storage.dataRelServHotelImage,$scope.debug=APP.debugInfo("RelServHotelImageSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelImage=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelImageDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelImage=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelImage=APP.uniqueArray($scope.dataRelServHotelImage.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelImage=$scope.dataRelServHotelImage;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelImage(true);},APP.timeOutCount("RelServHotelImage"));}]);tourismApp.controller("RelServHotelImageEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelImageEditCtrl",original:"RelServHotelImage"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelImageEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelImage:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelImage",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelImageDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelImageDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelImageDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelImage=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelImage");});}else{$scope.loading=false;}$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});$scope.dataTmImage=$scope.$storage.dataTmImage;$servicesStorage.TmImageDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmImage=JSOG.decode(data.data);$scope.$storage.dataTmImage=$scope.dataTmImage;});},APP.timeOutCount("RelServHotelImage"));}]);tourismApp.controller("RelServHotelInfoCommercialListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelInfoCommercial=[],$scope.ctrl={name:"RelServHotelInfoCommercialListCtrl",original:"RelServHotelInfoCommercial"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhotelinfocommercial"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelInfoCommercial:[]}),$scope.dataRelServHotelInfoCommercial=$scope.$storage.dataRelServHotelInfoCommercial,$scope.debug=APP.debugInfo("RelServHotelInfoCommercialListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhotelinfocommercialEdit",controller:"RelServHotelInfoCommercialEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhotelinfocommercial"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelInfoCommercial.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelinfocommercialEdit/"+itemId,controller:"RelServHotelInfoCommercialEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhotelinfocommercial"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelInfoCommercial)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelInfoCommercialDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelInfoCommercial[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelInfoCommercial[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelInfoCommercialDao().remove({id:itemId},{},function(){$scope.dataRelServHotelInfoCommercial.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelInfoCommercial=function(){$servicesStorage.RelServHotelInfoCommercialDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelInfoCommercial=JSOG.decode(data.data);$scope.$storage.dataRelServHotelInfoCommercial=$scope.dataRelServHotelInfoCommercial;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelInfoCommercial=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelInfoCommercialDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelInfoCommercial=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelInfoCommercial=APP.uniqueArray($scope.dataRelServHotelInfoCommercial.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelInfoCommercial=$scope.dataRelServHotelInfoCommercial;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelInfoCommercialDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelInfoCommercial(true);},APP.timeOutCount("RelServHotelInfoCommercial"));}]);tourismApp.controller("RelServHotelInfoCommercialSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelInfoCommercial=[],$scope.ctrl={name:"RelServHotelInfoCommercialSelectorCtrl",original:"RelServHotelInfoCommercial"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelInfoCommercial:{}}),$scope.dataRelServHotelInfoCommercial=$scope.$storage.dataRelServHotelInfoCommercial,$scope.debug=APP.debugInfo("RelServHotelInfoCommercialSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelInfoCommercial=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelInfoCommercialDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelInfoCommercial=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelInfoCommercial=APP.uniqueArray($scope.dataRelServHotelInfoCommercial.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelInfoCommercial=$scope.dataRelServHotelInfoCommercial;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelInfoCommercial(true);},APP.timeOutCount("RelServHotelInfoCommercial"));}]);tourismApp.controller("RelServHotelInfoCommercialEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelInfoCommercialEditCtrl",original:"RelServHotelInfoCommercial"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelInfoCommercialEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelInfoCommercial:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelInfoCommercial",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelInfoCommercialDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelInfoCommercialDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelInfoCommercialDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelInfoCommercial=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelInfoCommercial");});}else{$scope.loading=false;}$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});$scope.dataTmCommercial=$scope.$storage.dataTmCommercial;$servicesStorage.TmCommercialDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmCommercial=JSOG.decode(data.data);$scope.$storage.dataTmCommercial=$scope.dataTmCommercial;});},APP.timeOutCount("RelServHotelInfoCommercial"));}]);tourismApp.controller("RelServHotelInfoHotelServicesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelInfoHotelServices=[],$scope.ctrl={name:"RelServHotelInfoHotelServicesListCtrl",original:"RelServHotelInfoHotelServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhotelinfohotelservices"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelInfoHotelServices:[]}),$scope.dataRelServHotelInfoHotelServices=$scope.$storage.dataRelServHotelInfoHotelServices,$scope.debug=APP.debugInfo("RelServHotelInfoHotelServicesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhotelinfohotelservicesEdit",controller:"RelServHotelInfoHotelServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhotelinfohotelservices"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelInfoHotelServices.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelinfohotelservicesEdit/"+itemId,controller:"RelServHotelInfoHotelServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhotelinfohotelservices"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelInfoHotelServices)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelInfoHotelServicesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelInfoHotelServices[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelInfoHotelServices[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelInfoHotelServicesDao().remove({id:itemId},{},function(){$scope.dataRelServHotelInfoHotelServices.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelInfoHotelServices=function(){$servicesStorage.RelServHotelInfoHotelServicesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelInfoHotelServices=JSOG.decode(data.data);$scope.$storage.dataRelServHotelInfoHotelServices=$scope.dataRelServHotelInfoHotelServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelInfoHotelServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelInfoHotelServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelInfoHotelServices=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelInfoHotelServices=APP.uniqueArray($scope.dataRelServHotelInfoHotelServices.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelInfoHotelServices=$scope.dataRelServHotelInfoHotelServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelInfoHotelServicesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelInfoHotelServices(true);},APP.timeOutCount("RelServHotelInfoHotelServices"));}]);tourismApp.controller("RelServHotelInfoHotelServicesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelInfoHotelServices=[],$scope.ctrl={name:"RelServHotelInfoHotelServicesSelectorCtrl",original:"RelServHotelInfoHotelServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelInfoHotelServices:{}}),$scope.dataRelServHotelInfoHotelServices=$scope.$storage.dataRelServHotelInfoHotelServices,$scope.debug=APP.debugInfo("RelServHotelInfoHotelServicesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelInfoHotelServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelInfoHotelServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelInfoHotelServices=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelInfoHotelServices=APP.uniqueArray($scope.dataRelServHotelInfoHotelServices.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelInfoHotelServices=$scope.dataRelServHotelInfoHotelServices;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelInfoHotelServices(true);},APP.timeOutCount("RelServHotelInfoHotelServices"));}]);tourismApp.controller("RelServHotelInfoHotelServicesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelInfoHotelServicesEditCtrl",original:"RelServHotelInfoHotelServices"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelInfoHotelServicesEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelInfoHotelServices:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelInfoHotelServices",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelInfoHotelServicesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelInfoHotelServicesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelInfoHotelServicesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelInfoHotelServices=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelInfoHotelServices");});}else{$scope.loading=false;}$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});$scope.dataServHotelServices=$scope.$storage.dataServHotelServices;$servicesStorage.ServHotelServicesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotelServices=JSOG.decode(data.data);$scope.$storage.dataServHotelServices=$scope.dataServHotelServices;});},APP.timeOutCount("RelServHotelInfoHotelServices"));}]);tourismApp.controller("RelServHotelInfoPoliciesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelInfoPolicies=[],$scope.ctrl={name:"RelServHotelInfoPoliciesListCtrl",original:"RelServHotelInfoPolicies"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhotelinfopolicies"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelInfoPolicies:[]}),$scope.dataRelServHotelInfoPolicies=$scope.$storage.dataRelServHotelInfoPolicies,$scope.debug=APP.debugInfo("RelServHotelInfoPoliciesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhotelinfopoliciesEdit",controller:"RelServHotelInfoPoliciesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhotelinfopolicies"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelInfoPolicies.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelinfopoliciesEdit/"+itemId,controller:"RelServHotelInfoPoliciesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhotelinfopolicies"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelInfoPolicies)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelInfoPoliciesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelInfoPolicies[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelInfoPolicies[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelInfoPoliciesDao().remove({id:itemId},{},function(){$scope.dataRelServHotelInfoPolicies.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelInfoPolicies=function(){$servicesStorage.RelServHotelInfoPoliciesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelInfoPolicies=JSOG.decode(data.data);$scope.$storage.dataRelServHotelInfoPolicies=$scope.dataRelServHotelInfoPolicies;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelInfoPolicies=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelInfoPoliciesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelInfoPolicies=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelInfoPolicies=APP.uniqueArray($scope.dataRelServHotelInfoPolicies.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelInfoPolicies=$scope.dataRelServHotelInfoPolicies;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelInfoPoliciesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelInfoPolicies(true);},APP.timeOutCount("RelServHotelInfoPolicies"));}]);tourismApp.controller("RelServHotelInfoPoliciesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelInfoPolicies=[],$scope.ctrl={name:"RelServHotelInfoPoliciesSelectorCtrl",original:"RelServHotelInfoPolicies"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelInfoPolicies:{}}),$scope.dataRelServHotelInfoPolicies=$scope.$storage.dataRelServHotelInfoPolicies,$scope.debug=APP.debugInfo("RelServHotelInfoPoliciesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelInfoPolicies=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelInfoPoliciesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelInfoPolicies=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelInfoPolicies=APP.uniqueArray($scope.dataRelServHotelInfoPolicies.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelInfoPolicies=$scope.dataRelServHotelInfoPolicies;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelInfoPolicies(true);},APP.timeOutCount("RelServHotelInfoPolicies"));}]);tourismApp.controller("RelServHotelInfoPoliciesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelInfoPoliciesEditCtrl",original:"RelServHotelInfoPolicies"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelInfoPoliciesEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelInfoPolicies:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelInfoPolicies",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelInfoPoliciesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelInfoPoliciesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelInfoPoliciesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelInfoPolicies=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelInfoPolicies");});}else{$scope.loading=false;}$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});$scope.dataTmPolicies=$scope.$storage.dataTmPolicies;$servicesStorage.TmPoliciesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmPolicies=JSOG.decode(data.data);$scope.$storage.dataTmPolicies=$scope.dataTmPolicies;});},APP.timeOutCount("RelServHotelInfoPolicies"));}]);tourismApp.controller("RelServHotelRoomFeaturesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelRoomFeatures=[],$scope.ctrl={name:"RelServHotelRoomFeaturesListCtrl",original:"RelServHotelRoomFeatures"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhotelroomfeatures"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelRoomFeatures:[]}),$scope.dataRelServHotelRoomFeatures=$scope.$storage.dataRelServHotelRoomFeatures,$scope.debug=APP.debugInfo("RelServHotelRoomFeaturesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhotelroomfeaturesEdit",controller:"RelServHotelRoomFeaturesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhotelroomfeatures"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelRoomFeatures.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelroomfeaturesEdit/"+itemId,controller:"RelServHotelRoomFeaturesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhotelroomfeatures"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelRoomFeatures)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelRoomFeaturesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelRoomFeatures[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelRoomFeatures[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelRoomFeaturesDao().remove({id:itemId},{},function(){$scope.dataRelServHotelRoomFeatures.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelRoomFeatures=function(){$servicesStorage.RelServHotelRoomFeaturesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelRoomFeatures=JSOG.decode(data.data);$scope.$storage.dataRelServHotelRoomFeatures=$scope.dataRelServHotelRoomFeatures;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelRoomFeatures=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelRoomFeaturesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelRoomFeatures=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelRoomFeatures=APP.uniqueArray($scope.dataRelServHotelRoomFeatures.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelRoomFeatures=$scope.dataRelServHotelRoomFeatures;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelRoomFeaturesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelRoomFeatures(true);},APP.timeOutCount("RelServHotelRoomFeatures"));}]);tourismApp.controller("RelServHotelRoomFeaturesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelRoomFeatures=[],$scope.ctrl={name:"RelServHotelRoomFeaturesSelectorCtrl",original:"RelServHotelRoomFeatures"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelRoomFeatures:{}}),$scope.dataRelServHotelRoomFeatures=$scope.$storage.dataRelServHotelRoomFeatures,$scope.debug=APP.debugInfo("RelServHotelRoomFeaturesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelRoomFeatures=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelRoomFeaturesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelRoomFeatures=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelRoomFeatures=APP.uniqueArray($scope.dataRelServHotelRoomFeatures.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelRoomFeatures=$scope.dataRelServHotelRoomFeatures;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelRoomFeatures(true);},APP.timeOutCount("RelServHotelRoomFeatures"));}]);tourismApp.controller("RelServHotelRoomFeaturesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelRoomFeaturesEditCtrl",original:"RelServHotelRoomFeatures"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelRoomFeaturesEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelRoomFeatures:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelRoomFeatures",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelRoomFeaturesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelRoomFeaturesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelRoomFeaturesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelRoomFeatures=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelRoomFeatures");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataServHotelRoom=$scope.$storage.dataServHotelRoom;$servicesStorage.ServHotelRoomDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotelRoom=JSOG.decode(data.data);$scope.$storage.dataServHotelRoom=$scope.dataServHotelRoom;});},APP.timeOutCount("RelServHotelRoomFeatures"));}]);tourismApp.controller("RelServHotelRoomImageListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelRoomImage=[],$scope.ctrl={name:"RelServHotelRoomImageListCtrl",original:"RelServHotelRoomImage"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhotelroomimage"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelRoomImage:[]}),$scope.dataRelServHotelRoomImage=$scope.$storage.dataRelServHotelRoomImage,$scope.debug=APP.debugInfo("RelServHotelRoomImageListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhotelroomimageEdit",controller:"RelServHotelRoomImageEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhotelroomimage"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelRoomImage.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelroomimageEdit/"+itemId,controller:"RelServHotelRoomImageEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhotelroomimage"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelRoomImage)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelRoomImageDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelRoomImage[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelRoomImage[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelRoomImageDao().remove({id:itemId},{},function(){$scope.dataRelServHotelRoomImage.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelRoomImage=function(){$servicesStorage.RelServHotelRoomImageDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelRoomImage=JSOG.decode(data.data);$scope.$storage.dataRelServHotelRoomImage=$scope.dataRelServHotelRoomImage;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelRoomImage=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelRoomImageDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelRoomImage=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelRoomImage=APP.uniqueArray($scope.dataRelServHotelRoomImage.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelRoomImage=$scope.dataRelServHotelRoomImage;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelRoomImageDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelRoomImage(true);},APP.timeOutCount("RelServHotelRoomImage"));}]);tourismApp.controller("RelServHotelRoomImageSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelRoomImage=[],$scope.ctrl={name:"RelServHotelRoomImageSelectorCtrl",original:"RelServHotelRoomImage"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelRoomImage:{}}),$scope.dataRelServHotelRoomImage=$scope.$storage.dataRelServHotelRoomImage,$scope.debug=APP.debugInfo("RelServHotelRoomImageSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelRoomImage=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelRoomImageDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelRoomImage=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelRoomImage=APP.uniqueArray($scope.dataRelServHotelRoomImage.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelRoomImage=$scope.dataRelServHotelRoomImage;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelRoomImage(true);},APP.timeOutCount("RelServHotelRoomImage"));}]);tourismApp.controller("RelServHotelRoomImageEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelRoomImageEditCtrl",original:"RelServHotelRoomImage"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelRoomImageEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelRoomImage:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelRoomImage",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelRoomImageDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelRoomImageDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelRoomImageDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelRoomImage=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelRoomImage");});}else{$scope.loading=false;}$scope.dataServHotelRoom=$scope.$storage.dataServHotelRoom;$servicesStorage.ServHotelRoomDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotelRoom=JSOG.decode(data.data);$scope.$storage.dataServHotelRoom=$scope.dataServHotelRoom;});$scope.dataTmImage=$scope.$storage.dataTmImage;$servicesStorage.TmImageDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmImage=JSOG.decode(data.data);$scope.$storage.dataTmImage=$scope.dataTmImage;});},APP.timeOutCount("RelServHotelRoomImage"));}]);tourismApp.controller("RelServHotelServKidsRuleListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServHotelServKidsRule=[],$scope.ctrl={name:"RelServHotelServKidsRuleListCtrl",original:"RelServHotelServKidsRule"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservhotelservkidsrule"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServHotelServKidsRule:[]}),$scope.dataRelServHotelServKidsRule=$scope.$storage.dataRelServHotelServKidsRule,$scope.debug=APP.debugInfo("RelServHotelServKidsRuleListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservhotelservkidsruleEdit",controller:"RelServHotelServKidsRuleEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservhotelservkidsrule"]};}}});modalInstance.result.then(function(data){$scope.dataRelServHotelServKidsRule.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelservkidsruleEdit/"+itemId,controller:"RelServHotelServKidsRuleEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservhotelservkidsrule"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServHotelServKidsRule)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServHotelServKidsRuleDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServHotelServKidsRule[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServHotelServKidsRule[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServHotelServKidsRuleDao().remove({id:itemId},{},function(){$scope.dataRelServHotelServKidsRule.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServHotelServKidsRule=function(){$servicesStorage.RelServHotelServKidsRuleDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelServKidsRule=JSOG.decode(data.data);$scope.$storage.dataRelServHotelServKidsRule=$scope.dataRelServHotelServKidsRule;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServHotelServKidsRule=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelServKidsRuleDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelServKidsRule=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelServKidsRule=APP.uniqueArray($scope.dataRelServHotelServKidsRule.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelServKidsRule=$scope.dataRelServHotelServKidsRule;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServHotelServKidsRuleDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServHotelServKidsRule(true);},APP.timeOutCount("RelServHotelServKidsRule"));}]);tourismApp.controller("RelServHotelServKidsRuleSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServHotelServKidsRule=[],$scope.ctrl={name:"RelServHotelServKidsRuleSelectorCtrl",original:"RelServHotelServKidsRule"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServHotelServKidsRule:{}}),$scope.dataRelServHotelServKidsRule=$scope.$storage.dataRelServHotelServKidsRule,$scope.debug=APP.debugInfo("RelServHotelServKidsRuleSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServHotelServKidsRule=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServHotelServKidsRuleDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServHotelServKidsRule=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServHotelServKidsRule=APP.uniqueArray($scope.dataRelServHotelServKidsRule.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServHotelServKidsRule=$scope.dataRelServHotelServKidsRule;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServHotelServKidsRule(true);},APP.timeOutCount("RelServHotelServKidsRule"));}]);tourismApp.controller("RelServHotelServKidsRuleEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServHotelServKidsRuleEditCtrl",original:"RelServHotelServKidsRule"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServHotelServKidsRuleEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServHotelServKidsRule:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServHotelServKidsRule",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelServKidsRuleDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServHotelServKidsRuleDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServHotelServKidsRuleDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServHotelServKidsRule=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServHotelServKidsRule");});}else{$scope.loading=false;}$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});$scope.dataServKidsRule=$scope.$storage.dataServKidsRule;$servicesStorage.ServKidsRuleDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServKidsRule=JSOG.decode(data.data);$scope.$storage.dataServKidsRule=$scope.dataServKidsRule;});},APP.timeOutCount("RelServHotelServKidsRule"));}]);tourismApp.controller("RelServKidsRuleFeaturesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServKidsRuleFeatures=[],$scope.ctrl={name:"RelServKidsRuleFeaturesListCtrl",original:"RelServKidsRuleFeatures"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservkidsrulefeatures"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServKidsRuleFeatures:[]}),$scope.dataRelServKidsRuleFeatures=$scope.$storage.dataRelServKidsRuleFeatures,$scope.debug=APP.debugInfo("RelServKidsRuleFeaturesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservkidsrulefeaturesEdit",controller:"RelServKidsRuleFeaturesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservkidsrulefeatures"]};}}});modalInstance.result.then(function(data){$scope.dataRelServKidsRuleFeatures.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservkidsrulefeaturesEdit/"+itemId,controller:"RelServKidsRuleFeaturesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservkidsrulefeatures"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServKidsRuleFeatures)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServKidsRuleFeaturesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServKidsRuleFeatures[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServKidsRuleFeatures[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServKidsRuleFeaturesDao().remove({id:itemId},{},function(){$scope.dataRelServKidsRuleFeatures.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServKidsRuleFeatures=function(){$servicesStorage.RelServKidsRuleFeaturesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServKidsRuleFeatures=JSOG.decode(data.data);$scope.$storage.dataRelServKidsRuleFeatures=$scope.dataRelServKidsRuleFeatures;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServKidsRuleFeatures=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServKidsRuleFeaturesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServKidsRuleFeatures=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServKidsRuleFeatures=APP.uniqueArray($scope.dataRelServKidsRuleFeatures.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServKidsRuleFeatures=$scope.dataRelServKidsRuleFeatures;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServKidsRuleFeaturesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServKidsRuleFeatures(true);},APP.timeOutCount("RelServKidsRuleFeatures"));}]);tourismApp.controller("RelServKidsRuleFeaturesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServKidsRuleFeatures=[],$scope.ctrl={name:"RelServKidsRuleFeaturesSelectorCtrl",original:"RelServKidsRuleFeatures"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServKidsRuleFeatures:{}}),$scope.dataRelServKidsRuleFeatures=$scope.$storage.dataRelServKidsRuleFeatures,$scope.debug=APP.debugInfo("RelServKidsRuleFeaturesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServKidsRuleFeatures=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServKidsRuleFeaturesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServKidsRuleFeatures=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServKidsRuleFeatures=APP.uniqueArray($scope.dataRelServKidsRuleFeatures.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServKidsRuleFeatures=$scope.dataRelServKidsRuleFeatures;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServKidsRuleFeatures(true);},APP.timeOutCount("RelServKidsRuleFeatures"));}]);tourismApp.controller("RelServKidsRuleFeaturesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServKidsRuleFeaturesEditCtrl",original:"RelServKidsRuleFeatures"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServKidsRuleFeaturesEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServKidsRuleFeatures:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServKidsRuleFeatures",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServKidsRuleFeaturesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServKidsRuleFeaturesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServKidsRuleFeaturesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServKidsRuleFeatures=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServKidsRuleFeatures");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataServKidsRule=$scope.$storage.dataServKidsRule;$servicesStorage.ServKidsRuleDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServKidsRule=JSOG.decode(data.data);$scope.$storage.dataServKidsRule=$scope.dataServKidsRule;});},APP.timeOutCount("RelServKidsRuleFeatures"));}]);tourismApp.controller("RelServTransferTmContactListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelServTransferTmContact=[],$scope.ctrl={name:"RelServTransferTmContactListCtrl",original:"RelServTransferTmContact"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["relservtransfertmcontact"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelServTransferTmContact:[]}),$scope.dataRelServTransferTmContact=$scope.$storage.dataRelServTransferTmContact,$scope.debug=APP.debugInfo("RelServTransferTmContactListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"RelservtransfertmcontactEdit",controller:"RelServTransferTmContactEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["relservtransfertmcontact"]};}}});modalInstance.result.then(function(data){$scope.dataRelServTransferTmContact.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservtransfertmcontactEdit/"+itemId,controller:"RelServTransferTmContactEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["relservtransfertmcontact"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelServTransferTmContact)};}}});modalInstance.result.then(function(data){$servicesStorage.RelServTransferTmContactDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelServTransferTmContact[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelServTransferTmContact[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelServTransferTmContactDao().remove({id:itemId},{},function(){$scope.dataRelServTransferTmContact.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelServTransferTmContact=function(){$servicesStorage.RelServTransferTmContactDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServTransferTmContact=JSOG.decode(data.data);$scope.$storage.dataRelServTransferTmContact=$scope.dataRelServTransferTmContact;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelServTransferTmContact=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServTransferTmContactDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServTransferTmContact=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelServTransferTmContact=APP.uniqueArray($scope.dataRelServTransferTmContact.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServTransferTmContact=$scope.dataRelServTransferTmContact;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelServTransferTmContactDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelServTransferTmContact(true);},APP.timeOutCount("RelServTransferTmContact"));}]);tourismApp.controller("RelServTransferTmContactSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelServTransferTmContact=[],$scope.ctrl={name:"RelServTransferTmContactSelectorCtrl",original:"RelServTransferTmContact"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelServTransferTmContact:{}}),$scope.dataRelServTransferTmContact=$scope.$storage.dataRelServTransferTmContact,$scope.debug=APP.debugInfo("RelServTransferTmContactSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelServTransferTmContact=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelServTransferTmContactDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelServTransferTmContact=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelServTransferTmContact=APP.uniqueArray($scope.dataRelServTransferTmContact.concat(JSOG.decode(data.data)));$scope.$storage.dataRelServTransferTmContact=$scope.dataRelServTransferTmContact;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelServTransferTmContact(true);},APP.timeOutCount("RelServTransferTmContact"));}]);tourismApp.controller("RelServTransferTmContactEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelServTransferTmContactEditCtrl",original:"RelServTransferTmContact"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelServTransferTmContactEditCtrl"),$scope.$storage=$localStorage.$default({itemRelServTransferTmContact:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelServTransferTmContact",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServTransferTmContactDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelServTransferTmContactDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelServTransferTmContactDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelServTransferTmContact=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelServTransferTmContact");});}else{$scope.loading=false;}$scope.dataServTransfer=$scope.$storage.dataServTransfer;$servicesStorage.ServTransferDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTransfer=JSOG.decode(data.data);$scope.$storage.dataServTransfer=$scope.dataServTransfer;});$scope.dataTmContact=$scope.$storage.dataTmContact;$servicesStorage.TmContactDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmContact=JSOG.decode(data.data);$scope.$storage.dataTmContact=$scope.dataTmContact;});},APP.timeOutCount("RelServTransferTmContact"));}]);tourismApp.controller("RelTourDocsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelTourDocs=[],$scope.ctrl={name:"RelTourDocsListCtrl",original:"RelTourDocs"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["reltourdocs"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelTourDocs:[]}),$scope.dataRelTourDocs=$scope.$storage.dataRelTourDocs,$scope.debug=APP.debugInfo("RelTourDocsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ReltourdocsEdit",controller:"RelTourDocsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["reltourdocs"]};}}});modalInstance.result.then(function(data){$scope.dataRelTourDocs.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ReltourdocsEdit/"+itemId,controller:"RelTourDocsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["reltourdocs"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelTourDocs)};}}});modalInstance.result.then(function(data){$servicesStorage.RelTourDocsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelTourDocs[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelTourDocs[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelTourDocsDao().remove({id:itemId},{},function(){$scope.dataRelTourDocs.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelTourDocs=function(){$servicesStorage.RelTourDocsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelTourDocs=JSOG.decode(data.data);$scope.$storage.dataRelTourDocs=$scope.dataRelTourDocs;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelTourDocs=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelTourDocsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelTourDocs=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelTourDocs=APP.uniqueArray($scope.dataRelTourDocs.concat(JSOG.decode(data.data)));$scope.$storage.dataRelTourDocs=$scope.dataRelTourDocs;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelTourDocsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelTourDocs(true);},APP.timeOutCount("RelTourDocs"));}]);tourismApp.controller("RelTourDocsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelTourDocs=[],$scope.ctrl={name:"RelTourDocsSelectorCtrl",original:"RelTourDocs"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelTourDocs:{}}),$scope.dataRelTourDocs=$scope.$storage.dataRelTourDocs,$scope.debug=APP.debugInfo("RelTourDocsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelTourDocs=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelTourDocsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelTourDocs=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelTourDocs=APP.uniqueArray($scope.dataRelTourDocs.concat(JSOG.decode(data.data)));$scope.$storage.dataRelTourDocs=$scope.dataRelTourDocs;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelTourDocs(true);},APP.timeOutCount("RelTourDocs"));}]);tourismApp.controller("RelTourDocsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelTourDocsEditCtrl",original:"RelTourDocs"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelTourDocsEditCtrl"),$scope.$storage=$localStorage.$default({itemRelTourDocs:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelTourDocs",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelTourDocsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelTourDocsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelTourDocsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelTourDocs=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelTourDocs");});}else{$scope.loading=false;}$scope.dataDocDocuments=$scope.$storage.dataDocDocuments;$servicesStorage.DocDocumentsDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDocDocuments=JSOG.decode(data.data);$scope.$storage.dataDocDocuments=$scope.dataDocDocuments;});$scope.dataServTour=$scope.$storage.dataServTour;$servicesStorage.ServTourDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTour=JSOG.decode(data.data);$scope.$storage.dataServTour=$scope.dataServTour;});},APP.timeOutCount("RelTourDocs"));}]);tourismApp.controller("RelTourHotelsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelTourHotels=[],$scope.ctrl={name:"RelTourHotelsListCtrl",original:"RelTourHotels"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["reltourhotels"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelTourHotels:[]}),$scope.dataRelTourHotels=$scope.$storage.dataRelTourHotels,$scope.debug=APP.debugInfo("RelTourHotelsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ReltourhotelsEdit",controller:"RelTourHotelsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["reltourhotels"]};}}});modalInstance.result.then(function(data){$scope.dataRelTourHotels.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ReltourhotelsEdit/"+itemId,controller:"RelTourHotelsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["reltourhotels"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelTourHotels)};}}});modalInstance.result.then(function(data){$servicesStorage.RelTourHotelsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelTourHotels[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelTourHotels[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelTourHotelsDao().remove({id:itemId},{},function(){$scope.dataRelTourHotels.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelTourHotels=function(){$servicesStorage.RelTourHotelsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelTourHotels=JSOG.decode(data.data);$scope.$storage.dataRelTourHotels=$scope.dataRelTourHotels;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelTourHotels=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelTourHotelsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelTourHotels=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelTourHotels=APP.uniqueArray($scope.dataRelTourHotels.concat(JSOG.decode(data.data)));$scope.$storage.dataRelTourHotels=$scope.dataRelTourHotels;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelTourHotelsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelTourHotels(true);},APP.timeOutCount("RelTourHotels"));}]);tourismApp.controller("RelTourHotelsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelTourHotels=[],$scope.ctrl={name:"RelTourHotelsSelectorCtrl",original:"RelTourHotels"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelTourHotels:{}}),$scope.dataRelTourHotels=$scope.$storage.dataRelTourHotels,$scope.debug=APP.debugInfo("RelTourHotelsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelTourHotels=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelTourHotelsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelTourHotels=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelTourHotels=APP.uniqueArray($scope.dataRelTourHotels.concat(JSOG.decode(data.data)));$scope.$storage.dataRelTourHotels=$scope.dataRelTourHotels;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelTourHotels(true);},APP.timeOutCount("RelTourHotels"));}]);tourismApp.controller("RelTourHotelsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelTourHotelsEditCtrl",original:"RelTourHotels"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelTourHotelsEditCtrl"),$scope.$storage=$localStorage.$default({itemRelTourHotels:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelTourHotels",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelTourHotelsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelTourHotelsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelTourHotelsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelTourHotels=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelTourHotels");});}else{$scope.loading=false;}$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});$scope.dataServTour=$scope.$storage.dataServTour;$servicesStorage.ServTourDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTour=JSOG.decode(data.data);$scope.$storage.dataServTour=$scope.dataServTour;});},APP.timeOutCount("RelTourHotels"));}]);tourismApp.controller("RelTourServicesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataRelTourServices=[],$scope.ctrl={name:"RelTourServicesListCtrl",original:"RelTourServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["reltourservices"],$scope.details={},$scope.$storage=$localStorage.$default({dataRelTourServices:[]}),$scope.dataRelTourServices=$scope.$storage.dataRelTourServices,$scope.debug=APP.debugInfo("RelTourServicesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ReltourservicesEdit",controller:"RelTourServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["reltourservices"]};}}});modalInstance.result.then(function(data){$scope.dataRelTourServices.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ReltourservicesEdit/"+itemId,controller:"RelTourServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["reltourservices"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataRelTourServices)};}}});modalInstance.result.then(function(data){$servicesStorage.RelTourServicesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataRelTourServices[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataRelTourServices[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.RelTourServicesDao().remove({id:itemId},{},function(){$scope.dataRelTourServices.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataRelTourServices=function(){$servicesStorage.RelTourServicesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelTourServices=JSOG.decode(data.data);$scope.$storage.dataRelTourServices=$scope.dataRelTourServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataRelTourServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelTourServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelTourServices=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataRelTourServices=APP.uniqueArray($scope.dataRelTourServices.concat(JSOG.decode(data.data)));$scope.$storage.dataRelTourServices=$scope.dataRelTourServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.RelTourServicesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataRelTourServices(true);},APP.timeOutCount("RelTourServices"));}]);tourismApp.controller("RelTourServicesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataRelTourServices=[],$scope.ctrl={name:"RelTourServicesSelectorCtrl",original:"RelTourServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataRelTourServices:{}}),$scope.dataRelTourServices=$scope.$storage.dataRelTourServices,$scope.debug=APP.debugInfo("RelTourServicesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataRelTourServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.RelTourServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataRelTourServices=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataRelTourServices=APP.uniqueArray($scope.dataRelTourServices.concat(JSOG.decode(data.data)));$scope.$storage.dataRelTourServices=$scope.dataRelTourServices;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataRelTourServices(true);},APP.timeOutCount("RelTourServices"));}]);tourismApp.controller("RelTourServicesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"RelTourServicesEditCtrl",original:"RelTourServices"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("RelTourServicesEditCtrl"),$scope.$storage=$localStorage.$default({itemRelTourServices:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"RelTourServices",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelTourServicesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.RelTourServicesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.RelTourServicesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemRelTourServices=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"RelTourServices");});}else{$scope.loading=false;}$scope.dataInfoServices=$scope.$storage.dataInfoServices;$servicesStorage.InfoServicesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataInfoServices=JSOG.decode(data.data);$scope.$storage.dataInfoServices=$scope.dataInfoServices;});$scope.dataServTour=$scope.$storage.dataServTour;$servicesStorage.ServTourDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTour=JSOG.decode(data.data);$scope.$storage.dataServTour=$scope.dataServTour;});},APP.timeOutCount("RelTourServices"));}]);tourismApp.controller("ReqCruiseHotelsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataReqCruiseHotels=[],$scope.ctrl={name:"ReqCruiseHotelsListCtrl",original:"ReqCruiseHotels"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["reqcruisehotels"],$scope.details={},$scope.$storage=$localStorage.$default({dataReqCruiseHotels:[]}),$scope.dataReqCruiseHotels=$scope.$storage.dataReqCruiseHotels,$scope.debug=APP.debugInfo("ReqCruiseHotelsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ReqcruisehotelsEdit",controller:"ReqCruiseHotelsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["reqcruisehotels"]};}}});modalInstance.result.then(function(data){$scope.dataReqCruiseHotels.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqcruisehotelsEdit/"+itemId,controller:"ReqCruiseHotelsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["reqcruisehotels"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataReqCruiseHotels)};}}});modalInstance.result.then(function(data){$servicesStorage.ReqCruiseHotelsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataReqCruiseHotels[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataReqCruiseHotels[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ReqCruiseHotelsDao().remove({id:itemId},{},function(){$scope.dataReqCruiseHotels.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataReqCruiseHotels=function(){$servicesStorage.ReqCruiseHotelsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataReqCruiseHotels=JSOG.decode(data.data);$scope.$storage.dataReqCruiseHotels=$scope.dataReqCruiseHotels;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataReqCruiseHotels=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ReqCruiseHotelsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataReqCruiseHotels=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataReqCruiseHotels=APP.uniqueArray($scope.dataReqCruiseHotels.concat(JSOG.decode(data.data)));$scope.$storage.dataReqCruiseHotels=$scope.dataReqCruiseHotels;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ReqCruiseHotelsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataReqCruiseHotels(true);},APP.timeOutCount("ReqCruiseHotels"));}]);tourismApp.controller("ReqCruiseHotelsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataReqCruiseHotels=[],$scope.ctrl={name:"ReqCruiseHotelsSelectorCtrl",original:"ReqCruiseHotels"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataReqCruiseHotels:{}}),$scope.dataReqCruiseHotels=$scope.$storage.dataReqCruiseHotels,$scope.debug=APP.debugInfo("ReqCruiseHotelsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataReqCruiseHotels=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ReqCruiseHotelsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataReqCruiseHotels=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataReqCruiseHotels=APP.uniqueArray($scope.dataReqCruiseHotels.concat(JSOG.decode(data.data)));$scope.$storage.dataReqCruiseHotels=$scope.dataReqCruiseHotels;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataReqCruiseHotels(true);},APP.timeOutCount("ReqCruiseHotels"));}]);tourismApp.controller("ReqCruiseHotelsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ReqCruiseHotelsEditCtrl",original:"ReqCruiseHotels"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ReqCruiseHotelsEditCtrl"),$scope.$storage=$localStorage.$default({itemReqCruiseHotels:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ReqCruiseHotels",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ReqCruiseHotelsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ReqCruiseHotelsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ReqCruiseHotelsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemReqCruiseHotels=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ReqCruiseHotels");});}else{$scope.loading=false;}$scope.dataServCruise=$scope.$storage.dataServCruise;$servicesStorage.ServCruiseDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServCruise=JSOG.decode(data.data);$scope.$storage.dataServCruise=$scope.dataServCruise;});$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});},APP.timeOutCount("ReqCruiseHotels"));}]);tourismApp.controller("ReqCruiseServicesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataReqCruiseServices=[],$scope.ctrl={name:"ReqCruiseServicesListCtrl",original:"ReqCruiseServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["reqcruiseservices"],$scope.details={},$scope.$storage=$localStorage.$default({dataReqCruiseServices:[]}),$scope.dataReqCruiseServices=$scope.$storage.dataReqCruiseServices,$scope.debug=APP.debugInfo("ReqCruiseServicesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesEdit",controller:"ReqCruiseServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["reqcruiseservices"]};}}});modalInstance.result.then(function(data){$scope.dataReqCruiseServices.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesEdit/"+itemId,controller:"ReqCruiseServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["reqcruiseservices"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataReqCruiseServices)};}}});modalInstance.result.then(function(data){$servicesStorage.ReqCruiseServicesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataReqCruiseServices[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataReqCruiseServices[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ReqCruiseServicesDao().remove({id:itemId},{},function(){$scope.dataReqCruiseServices.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataReqCruiseServices=function(){$servicesStorage.ReqCruiseServicesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataReqCruiseServices=JSOG.decode(data.data);$scope.$storage.dataReqCruiseServices=$scope.dataReqCruiseServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataReqCruiseServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ReqCruiseServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataReqCruiseServices=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataReqCruiseServices=APP.uniqueArray($scope.dataReqCruiseServices.concat(JSOG.decode(data.data)));$scope.$storage.dataReqCruiseServices=$scope.dataReqCruiseServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ReqCruiseServicesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataReqCruiseServices(true);},APP.timeOutCount("ReqCruiseServices"));}]);tourismApp.controller("ReqCruiseServicesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataReqCruiseServices=[],$scope.ctrl={name:"ReqCruiseServicesSelectorCtrl",original:"ReqCruiseServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataReqCruiseServices:{}}),$scope.dataReqCruiseServices=$scope.$storage.dataReqCruiseServices,$scope.debug=APP.debugInfo("ReqCruiseServicesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataReqCruiseServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ReqCruiseServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataReqCruiseServices=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataReqCruiseServices=APP.uniqueArray($scope.dataReqCruiseServices.concat(JSOG.decode(data.data)));$scope.$storage.dataReqCruiseServices=$scope.dataReqCruiseServices;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataReqCruiseServices(true);},APP.timeOutCount("ReqCruiseServices"));}]);tourismApp.controller("ReqCruiseServicesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ReqCruiseServicesEditCtrl",original:"ReqCruiseServices"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ReqCruiseServicesEditCtrl"),$scope.$storage=$localStorage.$default({itemReqCruiseServices:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ReqCruiseServices",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ReqCruiseServicesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ReqCruiseServicesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ReqCruiseServicesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemReqCruiseServices=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ReqCruiseServices");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataInfoServices=$scope.$storage.dataInfoServices;$servicesStorage.InfoServicesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataInfoServices=JSOG.decode(data.data);$scope.$storage.dataInfoServices=$scope.dataInfoServices;});$scope.dataServCruise=$scope.$storage.dataServCruise;$servicesStorage.ServCruiseDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServCruise=JSOG.decode(data.data);$scope.$storage.dataServCruise=$scope.dataServCruise;});},APP.timeOutCount("ReqCruiseServices"));}]);tourismApp.controller("ReqHotelRoomsBusyListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataReqHotelRoomsBusy=[],$scope.ctrl={name:"ReqHotelRoomsBusyListCtrl",original:"ReqHotelRoomsBusy"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["reqhotelroomsbusy"],$scope.details={},$scope.$storage=$localStorage.$default({dataReqHotelRoomsBusy:[]}),$scope.dataReqHotelRoomsBusy=$scope.$storage.dataReqHotelRoomsBusy,$scope.debug=APP.debugInfo("ReqHotelRoomsBusyListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ReqhotelroomsbusyEdit",controller:"ReqHotelRoomsBusyEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["reqhotelroomsbusy"]};}}});modalInstance.result.then(function(data){$scope.dataReqHotelRoomsBusy.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqhotelroomsbusyEdit/"+itemId,controller:"ReqHotelRoomsBusyEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["reqhotelroomsbusy"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataReqHotelRoomsBusy)};}}});modalInstance.result.then(function(data){$servicesStorage.ReqHotelRoomsBusyDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataReqHotelRoomsBusy[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataReqHotelRoomsBusy[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ReqHotelRoomsBusyDao().remove({id:itemId},{},function(){$scope.dataReqHotelRoomsBusy.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataReqHotelRoomsBusy=function(){$servicesStorage.ReqHotelRoomsBusyDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataReqHotelRoomsBusy=JSOG.decode(data.data);$scope.$storage.dataReqHotelRoomsBusy=$scope.dataReqHotelRoomsBusy;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataReqHotelRoomsBusy=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ReqHotelRoomsBusyDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataReqHotelRoomsBusy=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataReqHotelRoomsBusy=APP.uniqueArray($scope.dataReqHotelRoomsBusy.concat(JSOG.decode(data.data)));$scope.$storage.dataReqHotelRoomsBusy=$scope.dataReqHotelRoomsBusy;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ReqHotelRoomsBusyDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataReqHotelRoomsBusy(true);},APP.timeOutCount("ReqHotelRoomsBusy"));}]);tourismApp.controller("ReqHotelRoomsBusySelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataReqHotelRoomsBusy=[],$scope.ctrl={name:"ReqHotelRoomsBusySelectorCtrl",original:"ReqHotelRoomsBusy"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataReqHotelRoomsBusy:{}}),$scope.dataReqHotelRoomsBusy=$scope.$storage.dataReqHotelRoomsBusy,$scope.debug=APP.debugInfo("ReqHotelRoomsBusySelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataReqHotelRoomsBusy=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ReqHotelRoomsBusyDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataReqHotelRoomsBusy=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataReqHotelRoomsBusy=APP.uniqueArray($scope.dataReqHotelRoomsBusy.concat(JSOG.decode(data.data)));$scope.$storage.dataReqHotelRoomsBusy=$scope.dataReqHotelRoomsBusy;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataReqHotelRoomsBusy(true);},APP.timeOutCount("ReqHotelRoomsBusy"));}]);tourismApp.controller("ReqHotelRoomsBusyEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ReqHotelRoomsBusyEditCtrl",original:"ReqHotelRoomsBusy"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ReqHotelRoomsBusyEditCtrl"),$scope.$storage=$localStorage.$default({itemReqHotelRoomsBusy:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ReqHotelRoomsBusy",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ReqHotelRoomsBusyDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ReqHotelRoomsBusyDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ReqHotelRoomsBusyDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemReqHotelRoomsBusy=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ReqHotelRoomsBusy");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataServHotelRoom=$scope.$storage.dataServHotelRoom;$servicesStorage.ServHotelRoomDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotelRoom=JSOG.decode(data.data);$scope.$storage.dataServHotelRoom=$scope.dataServHotelRoom;});},APP.timeOutCount("ReqHotelRoomsBusy"));}]);tourismApp.controller("ReqServHotelListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataReqServHotel=[],$scope.ctrl={name:"ReqServHotelListCtrl",original:"ReqServHotel"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["reqservhotel"],$scope.details={},$scope.$storage=$localStorage.$default({dataReqServHotel:[]}),$scope.dataReqServHotel=$scope.$storage.dataReqServHotel,$scope.debug=APP.debugInfo("ReqServHotelListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["reqservhotel"]};}}});modalInstance.result.then(function(data){$scope.dataReqServHotel.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit/"+itemId,controller:"ReqServHotelEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["reqservhotel"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataReqServHotel)};}}});modalInstance.result.then(function(data){$servicesStorage.ReqServHotelDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataReqServHotel[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataReqServHotel[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ReqServHotelDao().remove({id:itemId},{},function(){$scope.dataReqServHotel.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataReqServHotel=function(){$servicesStorage.ReqServHotelDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataReqServHotel=JSOG.decode(data.data);$scope.$storage.dataReqServHotel=$scope.dataReqServHotel;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataReqServHotel=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ReqServHotelDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataReqServHotel=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataReqServHotel=APP.uniqueArray($scope.dataReqServHotel.concat(JSOG.decode(data.data)));$scope.$storage.dataReqServHotel=$scope.dataReqServHotel;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ReqServHotelDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataReqServHotel(true);},APP.timeOutCount("ReqServHotel"));}]);tourismApp.controller("ReqServHotelSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataReqServHotel=[],$scope.ctrl={name:"ReqServHotelSelectorCtrl",original:"ReqServHotel"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataReqServHotel:{}}),$scope.dataReqServHotel=$scope.$storage.dataReqServHotel,$scope.debug=APP.debugInfo("ReqServHotelSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataReqServHotel=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ReqServHotelDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataReqServHotel=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataReqServHotel=APP.uniqueArray($scope.dataReqServHotel.concat(JSOG.decode(data.data)));$scope.$storage.dataReqServHotel=$scope.dataReqServHotel;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataReqServHotel(true);},APP.timeOutCount("ReqServHotel"));}]);tourismApp.controller("ReqServHotelEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ReqServHotelEditCtrl",original:"ReqServHotel"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ReqServHotelEditCtrl"),$scope.$storage=$localStorage.$default({itemReqServHotel:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ReqServHotel",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ReqServHotelDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ReqServHotelDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ReqServHotelDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemReqServHotel=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ReqServHotel");});}else{$scope.loading=false;}$scope.dataDictGlobalByPaymentTypeId=$scope.$storage.dataDictGlobalByPaymentTypeId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByPaymentTypeId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByPaymentTypeId=$scope.dataDictGlobalByPaymentTypeId;});$scope.dataDictGlobalByPlacementId=$scope.$storage.dataDictGlobalByPlacementId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByPlacementId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByPlacementId=$scope.dataDictGlobalByPlacementId;});$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});$scope.dataServHotelRoom=$scope.$storage.dataServHotelRoom;$servicesStorage.ServHotelRoomDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotelRoom=JSOG.decode(data.data);$scope.$storage.dataServHotelRoom=$scope.dataServHotelRoom;});$scope.dataUsersByRequestUserId=$scope.$storage.dataUsersByRequestUserId;$servicesStorage.UsersDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataUsersByRequestUserId=JSOG.decode(data.data);$scope.$storage.dataUsersByRequestUserId=$scope.dataUsersByRequestUserId;});$scope.dataUsersByResponseUserId=$scope.$storage.dataUsersByResponseUserId;$servicesStorage.UsersDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataUsersByResponseUserId=JSOG.decode(data.data);$scope.$storage.dataUsersByResponseUserId=$scope.dataUsersByResponseUserId;});},APP.timeOutCount("ReqServHotel"));$scope.editModalItemRelReqServHotelDocDocuments=function(itemId){var modalInstance=$modal.open({templateUrl:"RelreqservhoteldocdocumentsEdit",controller:"RelReqServHotelDocDocumentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelReqServHotelDocDocumentses,editItemId:itemId,excludeList:["reqservhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelReqServHotelTmContactEasy=function(itemId){var modalInstance=$modal.open({templateUrl:"RelreqservhoteltmcontacteasyEdit",controller:"RelReqServHotelTmContactEasyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelReqServHotelTmContactEasies,editItemId:itemId,excludeList:["reqservhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelReqServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"RelreqservhoteldocdocumentsFragmentMedit",controller:"RelReqServHotelDocDocumentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",insertParent:true,editItem:{},editItemId:-1,excludeList:["relreqservhoteldocdocumentses"]};}}});modalInstance.result.then(function(item){$scope.item.relReqServHotelDocDocumentses.push(item);},function(){});};$scope.uploadRelReqServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"uploadDocument",controller:"UploadDocumentCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",editItem:{},editItemId:-1,excludeList:["relreqservhoteldocdocumentses"]};}}});modalInstance.result.then(function(data){$scope.item.relReqServHotelDocDocumentses=APP.checkDublicate($scope.item.relReqServHotelDocDocumentses,data.data[0],"docdocuments","reqservhotel",$scope.item);},function(){});};$scope.createModalItemRelReqServHotelTmContactEasy=function(){if(typeof $scope.item.relReqServHotelTmContactEasies=="undefined"){$scope.item.relReqServHotelTmContactEasies=[];}var modalInstance=$modal.open({templateUrl:"RelreqservhoteltmcontacteasyEdit",controller:"RelReqServHotelTmContactEasyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["reqservhotel"]};}}});modalInstance.result.then(function(item){$scope.item.relReqServHotelTmContactEasies.push(item);},function(){});};$scope.pickItemRelReqServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"DocdocumentsFragmentSelector",controller:"DocDocumentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relReqServHotelDocDocumentses=APP.checkDublicate($scope.item.relReqServHotelDocDocumentses,data.data,"docdocuments","reqservhotel",$scope.item);},function(){});};$scope.pickItemRelReqServHotelTmContactEasy=function(){var modalInstance=$modal.open({templateUrl:"TmcontacteasyFragmentSelector",controller:"TmContactEasySelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relReqServHotelTmContactEasies=APP.checkDublicate($scope.item.relReqServHotelTmContactEasies,data.data,"tmcontacteasy","reqservhotel",$scope.item);},function(){});};}]);tourismApp.controller("ReqServHotelRoomBusyListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataReqServHotelRoomBusy=[],$scope.ctrl={name:"ReqServHotelRoomBusyListCtrl",original:"ReqServHotelRoomBusy"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["reqservhotelroombusy"],$scope.details={},$scope.$storage=$localStorage.$default({dataReqServHotelRoomBusy:[]}),$scope.dataReqServHotelRoomBusy=$scope.$storage.dataReqServHotelRoomBusy,$scope.debug=APP.debugInfo("ReqServHotelRoomBusyListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelroombusyEdit",controller:"ReqServHotelRoomBusyEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["reqservhotelroombusy"]};}}});modalInstance.result.then(function(data){$scope.dataReqServHotelRoomBusy.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqservhotelroombusyEdit/"+itemId,controller:"ReqServHotelRoomBusyEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["reqservhotelroombusy"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataReqServHotelRoomBusy)};}}});modalInstance.result.then(function(data){$servicesStorage.ReqServHotelRoomBusyDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataReqServHotelRoomBusy[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataReqServHotelRoomBusy[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ReqServHotelRoomBusyDao().remove({id:itemId},{},function(){$scope.dataReqServHotelRoomBusy.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataReqServHotelRoomBusy=function(){$servicesStorage.ReqServHotelRoomBusyDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataReqServHotelRoomBusy=JSOG.decode(data.data);$scope.$storage.dataReqServHotelRoomBusy=$scope.dataReqServHotelRoomBusy;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataReqServHotelRoomBusy=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ReqServHotelRoomBusyDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataReqServHotelRoomBusy=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataReqServHotelRoomBusy=APP.uniqueArray($scope.dataReqServHotelRoomBusy.concat(JSOG.decode(data.data)));$scope.$storage.dataReqServHotelRoomBusy=$scope.dataReqServHotelRoomBusy;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ReqServHotelRoomBusyDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataReqServHotelRoomBusy(true);},APP.timeOutCount("ReqServHotelRoomBusy"));}]);tourismApp.controller("ReqServHotelRoomBusySelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataReqServHotelRoomBusy=[],$scope.ctrl={name:"ReqServHotelRoomBusySelectorCtrl",original:"ReqServHotelRoomBusy"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataReqServHotelRoomBusy:{}}),$scope.dataReqServHotelRoomBusy=$scope.$storage.dataReqServHotelRoomBusy,$scope.debug=APP.debugInfo("ReqServHotelRoomBusySelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataReqServHotelRoomBusy=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ReqServHotelRoomBusyDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataReqServHotelRoomBusy=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataReqServHotelRoomBusy=APP.uniqueArray($scope.dataReqServHotelRoomBusy.concat(JSOG.decode(data.data)));$scope.$storage.dataReqServHotelRoomBusy=$scope.dataReqServHotelRoomBusy;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataReqServHotelRoomBusy(true);},APP.timeOutCount("ReqServHotelRoomBusy"));}]);tourismApp.controller("ReqServHotelRoomBusyEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ReqServHotelRoomBusyEditCtrl",original:"ReqServHotelRoomBusy"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ReqServHotelRoomBusyEditCtrl"),$scope.$storage=$localStorage.$default({itemReqServHotelRoomBusy:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ReqServHotelRoomBusy",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ReqServHotelRoomBusyDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ReqServHotelRoomBusyDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ReqServHotelRoomBusyDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemReqServHotelRoomBusy=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ReqServHotelRoomBusy");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataServHotelRoom=$scope.$storage.dataServHotelRoom;$servicesStorage.ServHotelRoomDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotelRoom=JSOG.decode(data.data);$scope.$storage.dataServHotelRoom=$scope.dataServHotelRoom;});},APP.timeOutCount("ReqServHotelRoomBusy"));}]);tourismApp.controller("ServCruiseListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServCruise=[],$scope.ctrl={name:"ServCruiseListCtrl",original:"ServCruise"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servcruise"],$scope.details={},$scope.$storage=$localStorage.$default({dataServCruise:[]}),$scope.dataServCruise=$scope.$storage.dataServCruise,$scope.debug=APP.debugInfo("ServCruiseListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServcruiseEdit",controller:"ServCruiseEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servcruise"]};}}});modalInstance.result.then(function(data){$scope.dataServCruise.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServcruiseEdit/"+itemId,controller:"ServCruiseEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servcruise"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServCruise)};}}});modalInstance.result.then(function(data){$servicesStorage.ServCruiseDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServCruise[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServCruise[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServCruiseDao().remove({id:itemId},{},function(){$scope.dataServCruise.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServCruise=function(){$servicesStorage.ServCruiseDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServCruise=JSOG.decode(data.data);$scope.$storage.dataServCruise=$scope.dataServCruise;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServCruise=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServCruiseDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServCruise=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServCruise=APP.uniqueArray($scope.dataServCruise.concat(JSOG.decode(data.data)));$scope.$storage.dataServCruise=$scope.dataServCruise;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServCruiseDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServCruise(true);},APP.timeOutCount("ServCruise"));}]);tourismApp.controller("ServCruiseSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServCruise=[],$scope.ctrl={name:"ServCruiseSelectorCtrl",original:"ServCruise"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServCruise:{}}),$scope.dataServCruise=$scope.$storage.dataServCruise,$scope.debug=APP.debugInfo("ServCruiseSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServCruise=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServCruiseDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServCruise=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServCruise=APP.uniqueArray($scope.dataServCruise.concat(JSOG.decode(data.data)));$scope.$storage.dataServCruise=$scope.dataServCruise;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServCruise(true);},APP.timeOutCount("ServCruise"));}]);tourismApp.controller("ServCruiseEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServCruiseEditCtrl",original:"ServCruise"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServCruiseEditCtrl"),$scope.$storage=$localStorage.$default({itemServCruise:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServCruise",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServCruiseDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServCruiseDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServCruiseDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServCruise=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServCruise");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});},APP.timeOutCount("ServCruise"));$scope.editModalItemReqCruiseHotels=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqcruisehotelsEdit",controller:"ReqCruiseHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqCruiseHotelses,editItemId:itemId,excludeList:["servcruise"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelCruiseDocs=function(itemId){var modalInstance=$modal.open({templateUrl:"RelcruisedocsEdit",controller:"RelCruiseDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelCruiseDocses,editItemId:itemId,excludeList:["servcruise"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqCruiseServices=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesEdit",controller:"ReqCruiseServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqCruiseServiceses,editItemId:itemId,excludeList:["servcruise"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["servcruise"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelCruiseContacts=function(itemId){var modalInstance=$modal.open({templateUrl:"RelcruisecontactsEdit",controller:"RelCruiseContactsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelCruiseContactses,editItemId:itemId,excludeList:["servcruise"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemReqCruiseHotels=function(){if(typeof $scope.item.reqCruiseHotelses=="undefined"){$scope.item.reqCruiseHotelses=[];}var modalInstance=$modal.open({templateUrl:"ReqcruisehotelsEdit",controller:"ReqCruiseHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servcruise"]};}}});modalInstance.result.then(function(item){$scope.item.reqCruiseHotelses.push(item);},function(){});};$scope.createModalItemRelCruiseDocs=function(){if(typeof $scope.item.relCruiseDocses=="undefined"){$scope.item.relCruiseDocses=[];}var modalInstance=$modal.open({templateUrl:"RelcruisedocsEdit",controller:"RelCruiseDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servcruise"]};}}});modalInstance.result.then(function(item){$scope.item.relCruiseDocses.push(item);},function(){});};$scope.createModalItemReqCruiseServices=function(){if(typeof $scope.item.reqCruiseServiceses=="undefined"){$scope.item.reqCruiseServiceses=[];}var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesEdit",controller:"ReqCruiseServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servcruise"]};}}});modalInstance.result.then(function(item){$scope.item.reqCruiseServiceses.push(item);},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servcruise"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.createModalItemRelCruiseContacts=function(){if(typeof $scope.item.relCruiseContactses=="undefined"){$scope.item.relCruiseContactses=[];}var modalInstance=$modal.open({templateUrl:"RelcruisecontactsEdit",controller:"RelCruiseContactsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servcruise"]};}}});modalInstance.result.then(function(item){$scope.item.relCruiseContactses.push(item);},function(){});};$scope.pickItemReqCruiseHotels=function(){var modalInstance=$modal.open({templateUrl:"ReqcruisehotelsFragmentSelector",controller:"ReqCruiseHotelsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqCruiseHotelses=APP.checkDublicate2($scope.item.reqCruiseHotelses,data.data,"ReqCruiseHotelsView");},function(){});};$scope.pickItemRelCruiseDocs=function(){var modalInstance=$modal.open({templateUrl:"DocdocumentsFragmentSelector",controller:"DocDocumentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relCruiseDocses=APP.checkDublicate($scope.item.relCruiseDocses,data.data,"docdocuments","servcruise",$scope.item);},function(){});};$scope.pickItemReqCruiseServices=function(){var modalInstance=$modal.open({templateUrl:"ReqcruiseservicesFragmentSelector",controller:"ReqCruiseServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqCruiseServiceses=APP.checkDublicate2($scope.item.reqCruiseServiceses,data.data,"ReqCruiseServicesView");},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};$scope.pickItemRelCruiseContacts=function(){var modalInstance=$modal.open({templateUrl:"TmcontactFragmentSelector",controller:"TmContactSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relCruiseContactses=APP.checkDublicate($scope.item.relCruiseContactses,data.data,"tmcontact","servcruise",$scope.item);},function(){});};}]);tourismApp.controller("ServExcursionsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServExcursions=[],$scope.ctrl={name:"ServExcursionsListCtrl",original:"ServExcursions"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servexcursions"],$scope.details={},$scope.$storage=$localStorage.$default({dataServExcursions:[]}),$scope.dataServExcursions=$scope.$storage.dataServExcursions,$scope.debug=APP.debugInfo("ServExcursionsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServexcursionsEdit",controller:"ServExcursionsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servexcursions"]};}}});modalInstance.result.then(function(data){$scope.dataServExcursions.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServexcursionsEdit/"+itemId,controller:"ServExcursionsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servexcursions"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServExcursions)};}}});modalInstance.result.then(function(data){$servicesStorage.ServExcursionsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServExcursions[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServExcursions[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServExcursionsDao().remove({id:itemId},{},function(){$scope.dataServExcursions.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServExcursions=function(){$servicesStorage.ServExcursionsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServExcursions=JSOG.decode(data.data);$scope.$storage.dataServExcursions=$scope.dataServExcursions;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServExcursions=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServExcursionsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServExcursions=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServExcursions=APP.uniqueArray($scope.dataServExcursions.concat(JSOG.decode(data.data)));$scope.$storage.dataServExcursions=$scope.dataServExcursions;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServExcursionsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServExcursions(true);},APP.timeOutCount("ServExcursions"));}]);tourismApp.controller("ServExcursionsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServExcursions=[],$scope.ctrl={name:"ServExcursionsSelectorCtrl",original:"ServExcursions"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServExcursions:{}}),$scope.dataServExcursions=$scope.$storage.dataServExcursions,$scope.debug=APP.debugInfo("ServExcursionsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServExcursions=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServExcursionsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServExcursions=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServExcursions=APP.uniqueArray($scope.dataServExcursions.concat(JSOG.decode(data.data)));$scope.$storage.dataServExcursions=$scope.dataServExcursions;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServExcursions(true);},APP.timeOutCount("ServExcursions"));}]);tourismApp.controller("ServExcursionsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServExcursionsEditCtrl",original:"ServExcursions"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServExcursionsEditCtrl"),$scope.$storage=$localStorage.$default({itemServExcursions:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServExcursions",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServExcursionsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServExcursionsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServExcursionsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServExcursions=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServExcursions");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});$scope.dataLocationCities=$scope.$storage.dataLocationCities;$servicesStorage.LocationCitiesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCities=JSOG.decode(data.data);$scope.$storage.dataLocationCities=$scope.dataLocationCities;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});},APP.timeOutCount("ServExcursions"));$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["servexcursions"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servexcursions"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};}]);tourismApp.controller("ServGiftsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServGifts=[],$scope.ctrl={name:"ServGiftsListCtrl",original:"ServGifts"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servgifts"],$scope.details={},$scope.$storage=$localStorage.$default({dataServGifts:[]}),$scope.dataServGifts=$scope.$storage.dataServGifts,$scope.debug=APP.debugInfo("ServGiftsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServgiftsEdit",controller:"ServGiftsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servgifts"]};}}});modalInstance.result.then(function(data){$scope.dataServGifts.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServgiftsEdit/"+itemId,controller:"ServGiftsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servgifts"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServGifts)};}}});modalInstance.result.then(function(data){$servicesStorage.ServGiftsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServGifts[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServGifts[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServGiftsDao().remove({id:itemId},{},function(){$scope.dataServGifts.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServGifts=function(){$servicesStorage.ServGiftsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServGifts=JSOG.decode(data.data);$scope.$storage.dataServGifts=$scope.dataServGifts;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServGifts=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServGiftsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServGifts=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServGifts=APP.uniqueArray($scope.dataServGifts.concat(JSOG.decode(data.data)));$scope.$storage.dataServGifts=$scope.dataServGifts;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServGiftsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServGifts(true);},APP.timeOutCount("ServGifts"));}]);tourismApp.controller("ServGiftsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServGifts=[],$scope.ctrl={name:"ServGiftsSelectorCtrl",original:"ServGifts"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServGifts:{}}),$scope.dataServGifts=$scope.$storage.dataServGifts,$scope.debug=APP.debugInfo("ServGiftsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServGifts=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServGiftsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServGifts=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServGifts=APP.uniqueArray($scope.dataServGifts.concat(JSOG.decode(data.data)));$scope.$storage.dataServGifts=$scope.dataServGifts;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServGifts(true);},APP.timeOutCount("ServGifts"));}]);tourismApp.controller("ServGiftsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServGiftsEditCtrl",original:"ServGifts"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServGiftsEditCtrl"),$scope.$storage=$localStorage.$default({itemServGifts:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServGifts",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServGiftsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServGiftsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServGiftsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServGifts=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServGifts");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});},APP.timeOutCount("ServGifts"));$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["servgifts"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelOrderGift=function(itemId){var modalInstance=$modal.open({templateUrl:"RelordergiftEdit",controller:"RelOrderGiftEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelOrderGifts,editItemId:itemId,excludeList:["servgifts"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servgifts"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.createModalItemRelOrderGift=function(){if(typeof $scope.item.relOrderGifts=="undefined"){$scope.item.relOrderGifts=[];}var modalInstance=$modal.open({templateUrl:"RelordergiftEdit",controller:"RelOrderGiftEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servgifts"]};}}});modalInstance.result.then(function(item){$scope.item.relOrderGifts.push(item);},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};$scope.pickItemRelOrderGift=function(){var modalInstance=$modal.open({templateUrl:"TmorderFragmentSelector",controller:"TmOrderSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relOrderGifts=APP.checkDublicate($scope.item.relOrderGifts,data.data,"tmorder","servgifts",$scope.item);},function(){});};}]);tourismApp.controller("ServHotelListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServHotel=[],$scope.ctrl={name:"ServHotelListCtrl",original:"ServHotel"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servhotel"],$scope.details={},$scope.$storage=$localStorage.$default({dataServHotel:[]}),$scope.dataServHotel=$scope.$storage.dataServHotel,$scope.debug=APP.debugInfo("ServHotelListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(data){$scope.dataServHotel.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit/"+itemId,controller:"ServHotelEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servhotel"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServHotel)};}}});modalInstance.result.then(function(data){$servicesStorage.ServHotelDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServHotel[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServHotel[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServHotelDao().remove({id:itemId},{},function(){$scope.dataServHotel.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServHotel=function(){$servicesStorage.ServHotelDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServHotel=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServHotelDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServHotel=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServHotel=APP.uniqueArray($scope.dataServHotel.concat(JSOG.decode(data.data)));$scope.$storage.dataServHotel=$scope.dataServHotel;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServHotelDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServHotel(true);},APP.timeOutCount("ServHotel"));}]);tourismApp.controller("ServHotelSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServHotel=[],$scope.ctrl={name:"ServHotelSelectorCtrl",original:"ServHotel"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServHotel:{}}),$scope.dataServHotel=$scope.$storage.dataServHotel,$scope.debug=APP.debugInfo("ServHotelSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServHotel=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServHotelDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServHotel=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServHotel=APP.uniqueArray($scope.dataServHotel.concat(JSOG.decode(data.data)));$scope.$storage.dataServHotel=$scope.dataServHotel;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServHotel(true);},APP.timeOutCount("ServHotel"));}]);tourismApp.controller("ServHotelEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServHotelEditCtrl",original:"ServHotel"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServHotelEditCtrl"),$scope.$storage=$localStorage.$default({itemServHotel:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServHotel",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServHotelDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServHotelDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServHotelDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServHotel=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServHotel");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});$scope.dataDictGlobalByServiceidId=$scope.$storage.dataDictGlobalByServiceidId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByServiceidId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByServiceidId=$scope.dataDictGlobalByServiceidId;});$scope.dataDictGlobalByReserveticketstypeId=$scope.$storage.dataDictGlobalByReserveticketstypeId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByReserveticketstypeId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByReserveticketstypeId=$scope.dataDictGlobalByReserveticketstypeId;});$scope.dataDictGlobalByPlacementId=$scope.$storage.dataDictGlobalByPlacementId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByPlacementId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByPlacementId=$scope.dataDictGlobalByPlacementId;});$scope.dataDictGlobalByTypeId=$scope.$storage.dataDictGlobalByTypeId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByTypeId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByTypeId=$scope.dataDictGlobalByTypeId;});$scope.dataDictGlobalByCategoryId=$scope.$storage.dataDictGlobalByCategoryId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByCategoryId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByCategoryId=$scope.dataDictGlobalByCategoryId;});$scope.dataDictGlobalByQualityId=$scope.$storage.dataDictGlobalByQualityId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByQualityId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByQualityId=$scope.dataDictGlobalByQualityId;});$scope.dataInfoContactInformation=$scope.$storage.dataInfoContactInformation;$servicesStorage.InfoContactInformationDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataInfoContactInformation=JSOG.decode(data.data);$scope.$storage.dataInfoContactInformation=$scope.dataInfoContactInformation;});$scope.dataLocationAddress=$scope.$storage.dataLocationAddress;$servicesStorage.LocationAddressDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationAddress=JSOG.decode(data.data);$scope.$storage.dataLocationAddress=$scope.dataLocationAddress;});$scope.dataLocationCities=$scope.$storage.dataLocationCities;$servicesStorage.LocationCitiesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCities=JSOG.decode(data.data);$scope.$storage.dataLocationCities=$scope.dataLocationCities;});$scope.dataLocationCountries=$scope.$storage.dataLocationCountries;$servicesStorage.LocationCountriesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCountries=JSOG.decode(data.data);$scope.$storage.dataLocationCountries=$scope.dataLocationCountries;});$scope.dataLocationTypePlacement=$scope.$storage.dataLocationTypePlacement;$servicesStorage.LocationTypePlacementDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationTypePlacement=JSOG.decode(data.data);$scope.$storage.dataLocationTypePlacement=$scope.dataLocationTypePlacement;});$scope.dataPaymentDetails=$scope.$storage.dataPaymentDetails;$servicesStorage.PaymentDetailsDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataPaymentDetails=JSOG.decode(data.data);$scope.$storage.dataPaymentDetails=$scope.dataPaymentDetails;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});},APP.timeOutCount("ServHotel"));$scope.editModalItemRelTourHotels=function(itemId){var modalInstance=$modal.open({templateUrl:"ReltourhotelsEdit",controller:"RelTourHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelTourHotelses,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelDocDocuments=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhoteldocdocumentsEdit",controller:"RelServHotelDocDocumentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelDocDocumentses,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotelRoom=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelroomEdit",controller:"ServHotelRoomEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotelRooms,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqCruiseHotels=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqcruisehotelsEdit",controller:"ReqCruiseHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqCruiseHotelses,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmIncidents=function(itemId){var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmIncidentses,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelServKidsRule=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelservkidsruleEdit",controller:"RelServHotelServKidsRuleEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelServKidsRules,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelOrderHotels=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderhotelsEdit",controller:"RelOrderHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelOrderHotelses,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelCreditCards=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelcreditcardsEdit",controller:"RelServHotelCreditCardsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelCreditCardses,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelInfoHotelServices=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelinfohotelservicesEdit",controller:"RelServHotelInfoHotelServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelInfoHotelServiceses,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelInfoPolicies=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelinfopoliciesEdit",controller:"RelServHotelInfoPoliciesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelInfoPolicieses,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelImage=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelimageEdit",controller:"RelServHotelImageEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelImages,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqServHotels,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelInfoCommercial=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelinfocommercialEdit",controller:"RelServHotelInfoCommercialEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelInfoCommercials,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelEntertainmentAndSport=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelentertainmentandsportEdit",controller:"RelServHotelEntertainmentAndSportEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelEntertainmentAndSports,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelFeatures=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelfeaturesEdit",controller:"RelServHotelFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelFeatureses,editItemId:itemId,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelTourHotels=function(){if(typeof $scope.item.relTourHotelses=="undefined"){$scope.item.relTourHotelses=[];}var modalInstance=$modal.open({templateUrl:"ReltourhotelsEdit",controller:"RelTourHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.relTourHotelses.push(item);},function(){});};$scope.createModalItemRelServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"RelservhoteldocdocumentsFragmentMedit",controller:"RelServHotelDocDocumentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",insertParent:true,editItem:{},editItemId:-1,excludeList:["relservhoteldocdocumentses"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelDocDocumentses.push(item);},function(){});};$scope.uploadRelServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"uploadDocument",controller:"UploadDocumentCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",editItem:{},editItemId:-1,excludeList:["relservhoteldocdocumentses"]};}}});modalInstance.result.then(function(data){$scope.item.relServHotelDocDocumentses=APP.checkDublicate($scope.item.relServHotelDocDocumentses,data.data[0],"docdocuments","servhotel",$scope.item);},function(){});};$scope.createModalItemServHotelRoom=function(){if(typeof $scope.item.servHotelRooms=="undefined"){$scope.item.servHotelRooms=[];}var modalInstance=$modal.open({templateUrl:"ServhotelroomEdit",controller:"ServHotelRoomEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.servHotelRooms.push(item);},function(){});};$scope.createModalItemReqCruiseHotels=function(){if(typeof $scope.item.reqCruiseHotelses=="undefined"){$scope.item.reqCruiseHotelses=[];}var modalInstance=$modal.open({templateUrl:"ReqcruisehotelsEdit",controller:"ReqCruiseHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.reqCruiseHotelses.push(item);},function(){});};$scope.createModalItemTmIncidents=function(){if(typeof $scope.item.tmIncidentses=="undefined"){$scope.item.tmIncidentses=[];}var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.tmIncidentses.push(item);},function(){});};$scope.createModalItemRelServHotelServKidsRule=function(){if(typeof $scope.item.relServHotelServKidsRules=="undefined"){$scope.item.relServHotelServKidsRules=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelservkidsruleEdit",controller:"RelServHotelServKidsRuleEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelServKidsRules.push(item);},function(){});};$scope.createModalItemRelOrderHotels=function(){if(typeof $scope.item.relOrderHotelses=="undefined"){$scope.item.relOrderHotelses=[];}var modalInstance=$modal.open({templateUrl:"RelorderhotelsEdit",controller:"RelOrderHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.relOrderHotelses.push(item);},function(){});};$scope.createModalItemRelServHotelCreditCards=function(){if(typeof $scope.item.relServHotelCreditCardses=="undefined"){$scope.item.relServHotelCreditCardses=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelcreditcardsEdit",controller:"RelServHotelCreditCardsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelCreditCardses.push(item);},function(){});};$scope.createModalItemRelServHotelInfoHotelServices=function(){if(typeof $scope.item.relServHotelInfoHotelServiceses=="undefined"){$scope.item.relServHotelInfoHotelServiceses=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelinfohotelservicesEdit",controller:"RelServHotelInfoHotelServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelInfoHotelServiceses.push(item);},function(){});};$scope.createModalItemRelServHotelInfoPolicies=function(){if(typeof $scope.item.relServHotelInfoPolicieses=="undefined"){$scope.item.relServHotelInfoPolicieses=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelinfopoliciesEdit",controller:"RelServHotelInfoPoliciesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelInfoPolicieses.push(item);},function(){});};$scope.createModalItemRelServHotelImage=function(){var modalInstance=$modal.open({templateUrl:"uploadImage",controller:"UploadImageCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",insertParent:true,editItem:{},editItemId:-1,excludeList:["relservhotelimages"]};}}});modalInstance.result.then(function(data){$scope.item.relServHotelImages=APP.checkDublicate($scope.item.relServHotelImages,data.data,"image","servhotel",$scope.item);},function(){});};$scope.createModalItemReqServHotel=function(){if(typeof $scope.item.reqServHotels=="undefined"){$scope.item.reqServHotels=[];}var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.reqServHotels.push(item);},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.createModalItemRelServHotelInfoCommercial=function(){if(typeof $scope.item.relServHotelInfoCommercials=="undefined"){$scope.item.relServHotelInfoCommercials=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelinfocommercialEdit",controller:"RelServHotelInfoCommercialEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelInfoCommercials.push(item);},function(){});};$scope.createModalItemRelServHotelEntertainmentAndSport=function(){if(typeof $scope.item.relServHotelEntertainmentAndSports=="undefined"){$scope.item.relServHotelEntertainmentAndSports=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelentertainmentandsportEdit",controller:"RelServHotelEntertainmentAndSportEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelEntertainmentAndSports.push(item);},function(){});};$scope.createModalItemRelServHotelFeatures=function(){if(typeof $scope.item.relServHotelFeatureses=="undefined"){$scope.item.relServHotelFeatureses=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelfeaturesEdit",controller:"RelServHotelFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotel"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelFeatureses.push(item);},function(){});};$scope.pickItemRelTourHotels=function(){var modalInstance=$modal.open({templateUrl:"ServtourFragmentSelector",controller:"ServTourSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relTourHotelses=APP.checkDublicate($scope.item.relTourHotelses,data.data,"servtour","servhotel",$scope.item);},function(){});};$scope.pickItemRelServHotelDocDocuments=function(){var modalInstance=$modal.open({templateUrl:"DocdocumentsFragmentSelector",controller:"DocDocumentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelDocDocumentses=APP.checkDublicate($scope.item.relServHotelDocDocumentses,data.data,"docdocuments","servhotel",$scope.item);},function(){});};$scope.pickItemServHotelRoom=function(){var modalInstance=$modal.open({templateUrl:"ServhotelroomFragmentSelector",controller:"ServHotelRoomSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotelRooms=APP.checkDublicate2($scope.item.servHotelRooms,data.data,"ServHotelRoomView");},function(){});};$scope.pickItemReqCruiseHotels=function(){var modalInstance=$modal.open({templateUrl:"ReqcruisehotelsFragmentSelector",controller:"ReqCruiseHotelsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqCruiseHotelses=APP.checkDublicate2($scope.item.reqCruiseHotelses,data.data,"ReqCruiseHotelsView");},function(){});};$scope.pickItemTmIncidents=function(){var modalInstance=$modal.open({templateUrl:"TmincidentsFragmentSelector",controller:"TmIncidentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmIncidentses=APP.checkDublicate2($scope.item.tmIncidentses,data.data,"TmIncidentsView");},function(){});};$scope.pickItemRelServHotelServKidsRule=function(){var modalInstance=$modal.open({templateUrl:"ServkidsruleFragmentSelector",controller:"ServKidsRuleSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelServKidsRules=APP.checkDublicate($scope.item.relServHotelServKidsRules,data.data,"servkidsrule","servhotel",$scope.item);},function(){});};$scope.pickItemRelOrderHotels=function(){var modalInstance=$modal.open({templateUrl:"TmorderFragmentSelector",controller:"TmOrderSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relOrderHotelses=APP.checkDublicate($scope.item.relOrderHotelses,data.data,"tmorder","servhotel",$scope.item);},function(){});};$scope.pickItemRelServHotelCreditCards=function(){var modalInstance=$modal.open({templateUrl:"DictglobalFragmentSelector",controller:"DictGlobalSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelCreditCardses=APP.checkDublicate($scope.item.relServHotelCreditCardses,data.data,"dictglobal","servhotel",$scope.item);},function(){});};$scope.pickItemRelServHotelInfoHotelServices=function(){var modalInstance=$modal.open({templateUrl:"FragmentSelector",controller:"SelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelInfoHotelServiceses=APP.checkDublicate($scope.item.relServHotelInfoHotelServiceses,data.data,"","servhotel",$scope.item);},function(){});};$scope.pickItemRelServHotelInfoPolicies=function(){var modalInstance=$modal.open({templateUrl:"TmpoliciesFragmentSelector",controller:"TmPoliciesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelInfoPolicieses=APP.checkDublicate($scope.item.relServHotelInfoPolicieses,data.data,"tmpolicies","servhotel",$scope.item);},function(){});};$scope.pickItemRelServHotelImage=function(){var modalInstance=$modal.open({templateUrl:"TmimageFragmentSelector",controller:"TmImageSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelImages=APP.checkDublicate($scope.item.relServHotelImages,data.data,"tmimage","servhotel",$scope.item);},function(){});};$scope.pickItemReqServHotel=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelFragmentSelector",controller:"ReqServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqServHotels=APP.checkDublicate2($scope.item.reqServHotels,data.data,"ReqServHotelView");},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};$scope.pickItemRelServHotelInfoCommercial=function(){var modalInstance=$modal.open({templateUrl:"TmcommercialFragmentSelector",controller:"TmCommercialSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelInfoCommercials=APP.checkDublicate($scope.item.relServHotelInfoCommercials,data.data,"tmcommercial","servhotel",$scope.item);},function(){});};$scope.pickItemRelServHotelEntertainmentAndSport=function(){var modalInstance=$modal.open({templateUrl:"DictglobalFragmentSelector",controller:"DictGlobalSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelEntertainmentAndSports=APP.checkDublicate($scope.item.relServHotelEntertainmentAndSports,data.data,"dictglobal","servhotel",$scope.item);},function(){});};$scope.pickItemRelServHotelFeatures=function(){var modalInstance=$modal.open({templateUrl:"DictglobalFragmentSelector",controller:"DictGlobalSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelFeatureses=APP.checkDublicate($scope.item.relServHotelFeatureses,data.data,"dictglobal","servhotel",$scope.item);},function(){});};}]);tourismApp.controller("ServHotelRoomListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServHotelRoom=[],$scope.ctrl={name:"ServHotelRoomListCtrl",original:"ServHotelRoom"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servhotelroom"],$scope.details={},$scope.$storage=$localStorage.$default({dataServHotelRoom:[]}),$scope.dataServHotelRoom=$scope.$storage.dataServHotelRoom,$scope.debug=APP.debugInfo("ServHotelRoomListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServhotelroomEdit",controller:"ServHotelRoomEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(data){$scope.dataServHotelRoom.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelroomEdit/"+itemId,controller:"ServHotelRoomEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servhotelroom"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServHotelRoom)};}}});modalInstance.result.then(function(data){$servicesStorage.ServHotelRoomDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServHotelRoom[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServHotelRoom[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServHotelRoomDao().remove({id:itemId},{},function(){$scope.dataServHotelRoom.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServHotelRoom=function(){$servicesStorage.ServHotelRoomDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServHotelRoom=JSOG.decode(data.data);$scope.$storage.dataServHotelRoom=$scope.dataServHotelRoom;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServHotelRoom=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServHotelRoomDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServHotelRoom=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServHotelRoom=APP.uniqueArray($scope.dataServHotelRoom.concat(JSOG.decode(data.data)));$scope.$storage.dataServHotelRoom=$scope.dataServHotelRoom;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServHotelRoomDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServHotelRoom(true);},APP.timeOutCount("ServHotelRoom"));}]);tourismApp.controller("ServHotelRoomSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServHotelRoom=[],$scope.ctrl={name:"ServHotelRoomSelectorCtrl",original:"ServHotelRoom"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServHotelRoom:{}}),$scope.dataServHotelRoom=$scope.$storage.dataServHotelRoom,$scope.debug=APP.debugInfo("ServHotelRoomSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServHotelRoom=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServHotelRoomDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServHotelRoom=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServHotelRoom=APP.uniqueArray($scope.dataServHotelRoom.concat(JSOG.decode(data.data)));$scope.$storage.dataServHotelRoom=$scope.dataServHotelRoom;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServHotelRoom(true);},APP.timeOutCount("ServHotelRoom"));}]);tourismApp.controller("ServHotelRoomEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServHotelRoomEditCtrl",original:"ServHotelRoom"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServHotelRoomEditCtrl"),$scope.$storage=$localStorage.$default({itemServHotelRoom:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServHotelRoom",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServHotelRoomDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServHotelRoomDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServHotelRoomDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServHotelRoom=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServHotelRoom");});}else{$scope.loading=false;}$scope.dataDictGlobalByFoodId=$scope.$storage.dataDictGlobalByFoodId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByFoodId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByFoodId=$scope.dataDictGlobalByFoodId;});$scope.dataDictGlobalByRoomTypeId=$scope.$storage.dataDictGlobalByRoomTypeId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByRoomTypeId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByRoomTypeId=$scope.dataDictGlobalByRoomTypeId;});$scope.dataGroupGlobal=$scope.$storage.dataGroupGlobal;$servicesStorage.GroupGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataGroupGlobal=JSOG.decode(data.data);$scope.$storage.dataGroupGlobal=$scope.dataGroupGlobal;});$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});},APP.timeOutCount("ServHotelRoom"));$scope.editModalItemRelServHotelRoomFeatures=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelroomfeaturesEdit",controller:"RelServHotelRoomFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelRoomFeatureses,editItemId:itemId,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqServHotelRoomBusy=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqservhotelroombusyEdit",controller:"ReqServHotelRoomBusyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqServHotelRoomBusies,editItemId:itemId,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqServHotels,editItemId:itemId,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelRoomImage=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelroomimageEdit",controller:"RelServHotelRoomImageEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelRoomImages,editItemId:itemId,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqHotelRoomsBusy=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqhotelroomsbusyEdit",controller:"ReqHotelRoomsBusyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqHotelRoomsBusies,editItemId:itemId,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentTariff=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymenttariffEdit",controller:"PaymentTariffEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentTariffs,editItemId:itemId,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelServHotelRoomFeatures=function(){if(typeof $scope.item.relServHotelRoomFeatureses=="undefined"){$scope.item.relServHotelRoomFeatureses=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelroomfeaturesEdit",controller:"RelServHotelRoomFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelRoomFeatureses.push(item);},function(){});};$scope.createModalItemReqServHotelRoomBusy=function(){if(typeof $scope.item.reqServHotelRoomBusies=="undefined"){$scope.item.reqServHotelRoomBusies=[];}var modalInstance=$modal.open({templateUrl:"ReqservhotelroombusyEdit",controller:"ReqServHotelRoomBusyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){$scope.item.reqServHotelRoomBusies.push(item);},function(){});};$scope.createModalItemReqServHotel=function(){if(typeof $scope.item.reqServHotels=="undefined"){$scope.item.reqServHotels=[];}var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){$scope.item.reqServHotels.push(item);},function(){});};$scope.createModalItemRelServHotelRoomImage=function(){var modalInstance=$modal.open({templateUrl:"uploadImage",controller:"UploadImageCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",insertParent:true,editItem:{},editItemId:-1,excludeList:["relservhotelroomimages"]};}}});modalInstance.result.then(function(data){$scope.item.relServHotelRoomImages=APP.checkDublicate($scope.item.relServHotelRoomImages,data.data,"image","servhotelroom",$scope.item);},function(){});};$scope.createModalItemReqHotelRoomsBusy=function(){if(typeof $scope.item.reqHotelRoomsBusies=="undefined"){$scope.item.reqHotelRoomsBusies=[];}var modalInstance=$modal.open({templateUrl:"ReqhotelroomsbusyEdit",controller:"ReqHotelRoomsBusyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){$scope.item.reqHotelRoomsBusies.push(item);},function(){});};$scope.createModalItemPaymentTariff=function(){if(typeof $scope.item.paymentTariffs=="undefined"){$scope.item.paymentTariffs=[];}var modalInstance=$modal.open({templateUrl:"PaymenttariffEdit",controller:"PaymentTariffEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotelroom"]};}}});modalInstance.result.then(function(item){$scope.item.paymentTariffs.push(item);},function(){});};$scope.pickItemRelServHotelRoomFeatures=function(){var modalInstance=$modal.open({templateUrl:"DictglobalFragmentSelector",controller:"DictGlobalSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelRoomFeatureses=APP.checkDublicate($scope.item.relServHotelRoomFeatureses,data.data,"dictglobal","servhotelroom",$scope.item);},function(){});};$scope.pickItemReqServHotelRoomBusy=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelroombusyFragmentSelector",controller:"ReqServHotelRoomBusySelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqServHotelRoomBusies=APP.checkDublicate2($scope.item.reqServHotelRoomBusies,data.data,"ReqServHotelRoomBusyView");},function(){});};$scope.pickItemReqServHotel=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelFragmentSelector",controller:"ReqServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqServHotels=APP.checkDublicate2($scope.item.reqServHotels,data.data,"ReqServHotelView");},function(){});};$scope.pickItemRelServHotelRoomImage=function(){var modalInstance=$modal.open({templateUrl:"TmimageFragmentSelector",controller:"TmImageSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelRoomImages=APP.checkDublicate($scope.item.relServHotelRoomImages,data.data,"tmimage","servhotelroom",$scope.item);},function(){});};$scope.pickItemReqHotelRoomsBusy=function(){var modalInstance=$modal.open({templateUrl:"ReqhotelroomsbusyFragmentSelector",controller:"ReqHotelRoomsBusySelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqHotelRoomsBusies=APP.checkDublicate2($scope.item.reqHotelRoomsBusies,data.data,"ReqHotelRoomsBusyView");},function(){});};$scope.pickItemPaymentTariff=function(){var modalInstance=$modal.open({templateUrl:"PaymenttariffFragmentSelector",controller:"PaymentTariffSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentTariffs=APP.checkDublicate2($scope.item.paymentTariffs,data.data,"PaymentTariffView");},function(){});};}]);tourismApp.controller("ServHotelServicesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServHotelServices=[],$scope.ctrl={name:"ServHotelServicesListCtrl",original:"ServHotelServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servhotelservices"],$scope.details={},$scope.$storage=$localStorage.$default({dataServHotelServices:[]}),$scope.dataServHotelServices=$scope.$storage.dataServHotelServices,$scope.debug=APP.debugInfo("ServHotelServicesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServhotelservicesEdit",controller:"ServHotelServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotelservices"]};}}});modalInstance.result.then(function(data){$scope.dataServHotelServices.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelservicesEdit/"+itemId,controller:"ServHotelServicesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servhotelservices"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServHotelServices)};}}});modalInstance.result.then(function(data){$servicesStorage.ServHotelServicesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServHotelServices[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServHotelServices[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServHotelServicesDao().remove({id:itemId},{},function(){$scope.dataServHotelServices.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServHotelServices=function(){$servicesStorage.ServHotelServicesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServHotelServices=JSOG.decode(data.data);$scope.$storage.dataServHotelServices=$scope.dataServHotelServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServHotelServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServHotelServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServHotelServices=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServHotelServices=APP.uniqueArray($scope.dataServHotelServices.concat(JSOG.decode(data.data)));$scope.$storage.dataServHotelServices=$scope.dataServHotelServices;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServHotelServicesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServHotelServices(true);},APP.timeOutCount("ServHotelServices"));}]);tourismApp.controller("ServHotelServicesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServHotelServices=[],$scope.ctrl={name:"ServHotelServicesSelectorCtrl",original:"ServHotelServices"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServHotelServices:{}}),$scope.dataServHotelServices=$scope.$storage.dataServHotelServices,$scope.debug=APP.debugInfo("ServHotelServicesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServHotelServices=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServHotelServicesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServHotelServices=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServHotelServices=APP.uniqueArray($scope.dataServHotelServices.concat(JSOG.decode(data.data)));$scope.$storage.dataServHotelServices=$scope.dataServHotelServices;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServHotelServices(true);},APP.timeOutCount("ServHotelServices"));}]);tourismApp.controller("ServHotelServicesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServHotelServicesEditCtrl",original:"ServHotelServices"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServHotelServicesEditCtrl"),$scope.$storage=$localStorage.$default({itemServHotelServices:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServHotelServices",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServHotelServicesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServHotelServicesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServHotelServicesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServHotelServices=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServHotelServices");});}else{$scope.loading=false;}$scope.dataDictGlobalByFeatureId=$scope.$storage.dataDictGlobalByFeatureId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByFeatureId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByFeatureId=$scope.dataDictGlobalByFeatureId;});$scope.dataDictGlobalByServiceId=$scope.$storage.dataDictGlobalByServiceId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByServiceId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByServiceId=$scope.dataDictGlobalByServiceId;});},APP.timeOutCount("ServHotelServices"));$scope.editModalItemRelServHotelInfoHotelServices=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelinfohotelservicesEdit",controller:"RelServHotelInfoHotelServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelInfoHotelServiceses,editItemId:itemId,excludeList:["servhotelservices"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelServHotelInfoHotelServices=function(){if(typeof $scope.item.relServHotelInfoHotelServiceses=="undefined"){$scope.item.relServHotelInfoHotelServiceses=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelinfohotelservicesEdit",controller:"RelServHotelInfoHotelServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servhotelservices"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelInfoHotelServiceses.push(item);},function(){});};$scope.pickItemRelServHotelInfoHotelServices=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelInfoHotelServiceses=APP.checkDublicate($scope.item.relServHotelInfoHotelServiceses,data.data,"servhotel","servhotelservices",$scope.item);},function(){});};}]);tourismApp.controller("ServInsurancesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServInsurances=[],$scope.ctrl={name:"ServInsurancesListCtrl",original:"ServInsurances"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servinsurances"],$scope.details={},$scope.$storage=$localStorage.$default({dataServInsurances:[]}),$scope.dataServInsurances=$scope.$storage.dataServInsurances,$scope.debug=APP.debugInfo("ServInsurancesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servinsurances"]};}}});modalInstance.result.then(function(data){$scope.dataServInsurances.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit/"+itemId,controller:"ServInsurancesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servinsurances"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServInsurances)};}}});modalInstance.result.then(function(data){$servicesStorage.ServInsurancesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServInsurances[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServInsurances[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServInsurancesDao().remove({id:itemId},{},function(){$scope.dataServInsurances.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServInsurances=function(){$servicesStorage.ServInsurancesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServInsurances=JSOG.decode(data.data);$scope.$storage.dataServInsurances=$scope.dataServInsurances;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServInsurances=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServInsurancesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServInsurances=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServInsurances=APP.uniqueArray($scope.dataServInsurances.concat(JSOG.decode(data.data)));$scope.$storage.dataServInsurances=$scope.dataServInsurances;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServInsurancesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServInsurances(true);},APP.timeOutCount("ServInsurances"));}]);tourismApp.controller("ServInsurancesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServInsurances=[],$scope.ctrl={name:"ServInsurancesSelectorCtrl",original:"ServInsurances"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServInsurances:{}}),$scope.dataServInsurances=$scope.$storage.dataServInsurances,$scope.debug=APP.debugInfo("ServInsurancesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServInsurances=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServInsurancesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServInsurances=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServInsurances=APP.uniqueArray($scope.dataServInsurances.concat(JSOG.decode(data.data)));$scope.$storage.dataServInsurances=$scope.dataServInsurances;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServInsurances(true);},APP.timeOutCount("ServInsurances"));}]);tourismApp.controller("ServInsurancesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServInsurancesEditCtrl",original:"ServInsurances"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServInsurancesEditCtrl"),$scope.$storage=$localStorage.$default({itemServInsurances:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServInsurances",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServInsurancesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServInsurancesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServInsurancesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServInsurances=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServInsurances");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataLocationCountries=$scope.$storage.dataLocationCountries;$servicesStorage.LocationCountriesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCountries=JSOG.decode(data.data);$scope.$storage.dataLocationCountries=$scope.dataLocationCountries;});$scope.dataTmAccountByAccountId=$scope.$storage.dataTmAccountByAccountId;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccountByAccountId=JSOG.decode(data.data);$scope.$storage.dataTmAccountByAccountId=$scope.dataTmAccountByAccountId;});$scope.dataTmAccountByInsAccountId=$scope.$storage.dataTmAccountByInsAccountId;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccountByInsAccountId=JSOG.decode(data.data);$scope.$storage.dataTmAccountByInsAccountId=$scope.dataTmAccountByInsAccountId;});},APP.timeOutCount("ServInsurances"));$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["servinsurances"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servinsurances"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};}]);tourismApp.controller("ServKidsRuleListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServKidsRule=[],$scope.ctrl={name:"ServKidsRuleListCtrl",original:"ServKidsRule"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servkidsrule"],$scope.details={},$scope.$storage=$localStorage.$default({dataServKidsRule:[]}),$scope.dataServKidsRule=$scope.$storage.dataServKidsRule,$scope.debug=APP.debugInfo("ServKidsRuleListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServkidsruleEdit",controller:"ServKidsRuleEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servkidsrule"]};}}});modalInstance.result.then(function(data){$scope.dataServKidsRule.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServkidsruleEdit/"+itemId,controller:"ServKidsRuleEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servkidsrule"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServKidsRule)};}}});modalInstance.result.then(function(data){$servicesStorage.ServKidsRuleDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServKidsRule[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServKidsRule[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServKidsRuleDao().remove({id:itemId},{},function(){$scope.dataServKidsRule.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServKidsRule=function(){$servicesStorage.ServKidsRuleDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServKidsRule=JSOG.decode(data.data);$scope.$storage.dataServKidsRule=$scope.dataServKidsRule;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServKidsRule=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServKidsRuleDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServKidsRule=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServKidsRule=APP.uniqueArray($scope.dataServKidsRule.concat(JSOG.decode(data.data)));$scope.$storage.dataServKidsRule=$scope.dataServKidsRule;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServKidsRuleDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServKidsRule(true);},APP.timeOutCount("ServKidsRule"));}]);tourismApp.controller("ServKidsRuleSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServKidsRule=[],$scope.ctrl={name:"ServKidsRuleSelectorCtrl",original:"ServKidsRule"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServKidsRule:{}}),$scope.dataServKidsRule=$scope.$storage.dataServKidsRule,$scope.debug=APP.debugInfo("ServKidsRuleSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServKidsRule=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServKidsRuleDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServKidsRule=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServKidsRule=APP.uniqueArray($scope.dataServKidsRule.concat(JSOG.decode(data.data)));$scope.$storage.dataServKidsRule=$scope.dataServKidsRule;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServKidsRule(true);},APP.timeOutCount("ServKidsRule"));}]);tourismApp.controller("ServKidsRuleEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServKidsRuleEditCtrl",original:"ServKidsRule"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServKidsRuleEditCtrl"),$scope.$storage=$localStorage.$default({itemServKidsRule:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServKidsRule",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServKidsRuleDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServKidsRuleDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServKidsRuleDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServKidsRule=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServKidsRule");});}else{$scope.loading=false;}},APP.timeOutCount("ServKidsRule"));$scope.editModalItemRelServKidsRuleFeatures=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservkidsrulefeaturesEdit",controller:"RelServKidsRuleFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServKidsRuleFeatureses,editItemId:itemId,excludeList:["servkidsrule"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelServKidsRule=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelservkidsruleEdit",controller:"RelServHotelServKidsRuleEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelServKidsRules,editItemId:itemId,excludeList:["servkidsrule"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelServKidsRuleFeatures=function(){if(typeof $scope.item.relServKidsRuleFeatureses=="undefined"){$scope.item.relServKidsRuleFeatureses=[];}var modalInstance=$modal.open({templateUrl:"RelservkidsrulefeaturesEdit",controller:"RelServKidsRuleFeaturesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servkidsrule"]};}}});modalInstance.result.then(function(item){$scope.item.relServKidsRuleFeatureses.push(item);},function(){});};$scope.createModalItemRelServHotelServKidsRule=function(){if(typeof $scope.item.relServHotelServKidsRules=="undefined"){$scope.item.relServHotelServKidsRules=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelservkidsruleEdit",controller:"RelServHotelServKidsRuleEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servkidsrule"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelServKidsRules.push(item);},function(){});};$scope.pickItemRelServKidsRuleFeatures=function(){var modalInstance=$modal.open({templateUrl:"DictglobalFragmentSelector",controller:"DictGlobalSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServKidsRuleFeatureses=APP.checkDublicate($scope.item.relServKidsRuleFeatureses,data.data,"dictglobal","servkidsrule",$scope.item);},function(){});};$scope.pickItemRelServHotelServKidsRule=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelServKidsRules=APP.checkDublicate($scope.item.relServHotelServKidsRules,data.data,"servhotel","servkidsrule",$scope.item);},function(){});};}]);tourismApp.controller("ServTicketsAirListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServTicketsAir=[],$scope.ctrl={name:"ServTicketsAirListCtrl",original:"ServTicketsAir"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servticketsair"],$scope.details={},$scope.$storage=$localStorage.$default({dataServTicketsAir:[]}),$scope.dataServTicketsAir=$scope.$storage.dataServTicketsAir,$scope.debug=APP.debugInfo("ServTicketsAirListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servticketsair"]};}}});modalInstance.result.then(function(data){$scope.dataServTicketsAir.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsairEdit/"+itemId,controller:"ServTicketsAirEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servticketsair"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServTicketsAir)};}}});modalInstance.result.then(function(data){$servicesStorage.ServTicketsAirDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServTicketsAir[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServTicketsAir[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServTicketsAirDao().remove({id:itemId},{},function(){$scope.dataServTicketsAir.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServTicketsAir=function(){$servicesStorage.ServTicketsAirDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTicketsAir=JSOG.decode(data.data);$scope.$storage.dataServTicketsAir=$scope.dataServTicketsAir;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServTicketsAir=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTicketsAirDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTicketsAir=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTicketsAir=APP.uniqueArray($scope.dataServTicketsAir.concat(JSOG.decode(data.data)));$scope.$storage.dataServTicketsAir=$scope.dataServTicketsAir;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServTicketsAirDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServTicketsAir(true);},APP.timeOutCount("ServTicketsAir"));}]);tourismApp.controller("ServTicketsAirSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServTicketsAir=[],$scope.ctrl={name:"ServTicketsAirSelectorCtrl",original:"ServTicketsAir"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServTicketsAir:{}}),$scope.dataServTicketsAir=$scope.$storage.dataServTicketsAir,$scope.debug=APP.debugInfo("ServTicketsAirSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServTicketsAir=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTicketsAirDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTicketsAir=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServTicketsAir=APP.uniqueArray($scope.dataServTicketsAir.concat(JSOG.decode(data.data)));$scope.$storage.dataServTicketsAir=$scope.dataServTicketsAir;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServTicketsAir(true);},APP.timeOutCount("ServTicketsAir"));}]);tourismApp.controller("ServTicketsAirEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServTicketsAirEditCtrl",original:"ServTicketsAir"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServTicketsAirEditCtrl"),$scope.$storage=$localStorage.$default({itemServTicketsAir:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServTicketsAir",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTicketsAirDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServTicketsAirDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTicketsAirDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServTicketsAir=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServTicketsAir");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});$scope.dataDictGlobalByTypePlaneDepId=$scope.$storage.dataDictGlobalByTypePlaneDepId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByTypePlaneDepId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByTypePlaneDepId=$scope.dataDictGlobalByTypePlaneDepId;});$scope.dataDictGlobalByTypePlaneArrivalId=$scope.$storage.dataDictGlobalByTypePlaneArrivalId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByTypePlaneArrivalId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByTypePlaneArrivalId=$scope.dataDictGlobalByTypePlaneArrivalId;});$scope.dataDictGlobalByAirclassId=$scope.$storage.dataDictGlobalByAirclassId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByAirclassId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByAirclassId=$scope.dataDictGlobalByAirclassId;});$scope.dataTmAccountByAccountId=$scope.$storage.dataTmAccountByAccountId;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccountByAccountId=JSOG.decode(data.data);$scope.$storage.dataTmAccountByAccountId=$scope.dataTmAccountByAccountId;});$scope.dataTmAccountByAirCompanyArrivalId=$scope.$storage.dataTmAccountByAirCompanyArrivalId;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccountByAirCompanyArrivalId=JSOG.decode(data.data);$scope.$storage.dataTmAccountByAirCompanyArrivalId=$scope.dataTmAccountByAirCompanyArrivalId;});$scope.dataTmAccountByAirCompanyDepId=$scope.$storage.dataTmAccountByAirCompanyDepId;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccountByAirCompanyDepId=JSOG.decode(data.data);$scope.$storage.dataTmAccountByAirCompanyDepId=$scope.dataTmAccountByAirCompanyDepId;});},APP.timeOutCount("ServTicketsAir"));$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["servticketsair"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servticketsair"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};}]);tourismApp.controller("ServTicketsRailListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServTicketsRail=[],$scope.ctrl={name:"ServTicketsRailListCtrl",original:"ServTicketsRail"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servticketsrail"],$scope.details={},$scope.$storage=$localStorage.$default({dataServTicketsRail:[]}),$scope.dataServTicketsRail=$scope.$storage.dataServTicketsRail,$scope.debug=APP.debugInfo("ServTicketsRailListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServticketsrailEdit",controller:"ServTicketsRailEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servticketsrail"]};}}});modalInstance.result.then(function(data){$scope.dataServTicketsRail.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsrailEdit/"+itemId,controller:"ServTicketsRailEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servticketsrail"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServTicketsRail)};}}});modalInstance.result.then(function(data){$servicesStorage.ServTicketsRailDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServTicketsRail[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServTicketsRail[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServTicketsRailDao().remove({id:itemId},{},function(){$scope.dataServTicketsRail.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServTicketsRail=function(){$servicesStorage.ServTicketsRailDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTicketsRail=JSOG.decode(data.data);$scope.$storage.dataServTicketsRail=$scope.dataServTicketsRail;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServTicketsRail=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTicketsRailDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTicketsRail=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTicketsRail=APP.uniqueArray($scope.dataServTicketsRail.concat(JSOG.decode(data.data)));$scope.$storage.dataServTicketsRail=$scope.dataServTicketsRail;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServTicketsRailDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServTicketsRail(true);},APP.timeOutCount("ServTicketsRail"));}]);tourismApp.controller("ServTicketsRailSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServTicketsRail=[],$scope.ctrl={name:"ServTicketsRailSelectorCtrl",original:"ServTicketsRail"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServTicketsRail:{}}),$scope.dataServTicketsRail=$scope.$storage.dataServTicketsRail,$scope.debug=APP.debugInfo("ServTicketsRailSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServTicketsRail=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTicketsRailDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTicketsRail=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServTicketsRail=APP.uniqueArray($scope.dataServTicketsRail.concat(JSOG.decode(data.data)));$scope.$storage.dataServTicketsRail=$scope.dataServTicketsRail;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServTicketsRail(true);},APP.timeOutCount("ServTicketsRail"));}]);tourismApp.controller("ServTicketsRailEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServTicketsRailEditCtrl",original:"ServTicketsRail"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServTicketsRailEditCtrl"),$scope.$storage=$localStorage.$default({itemServTicketsRail:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServTicketsRail",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTicketsRailDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServTicketsRailDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTicketsRailDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServTicketsRail=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServTicketsRail");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});},APP.timeOutCount("ServTicketsRail"));$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["servticketsrail"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servticketsrail"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};}]);tourismApp.controller("ServTourListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServTour=[],$scope.ctrl={name:"ServTourListCtrl",original:"ServTour"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servtour"],$scope.details={},$scope.$storage=$localStorage.$default({dataServTour:[]}),$scope.dataServTour=$scope.$storage.dataServTour,$scope.debug=APP.debugInfo("ServTourListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServtourEdit",controller:"ServTourEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servtour"]};}}});modalInstance.result.then(function(data){$scope.dataServTour.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtourEdit/"+itemId,controller:"ServTourEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servtour"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServTour)};}}});modalInstance.result.then(function(data){$servicesStorage.ServTourDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServTour[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServTour[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServTourDao().remove({id:itemId},{},function(){$scope.dataServTour.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServTour=function(){$servicesStorage.ServTourDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTour=JSOG.decode(data.data);$scope.$storage.dataServTour=$scope.dataServTour;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServTour=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTourDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTour=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTour=APP.uniqueArray($scope.dataServTour.concat(JSOG.decode(data.data)));$scope.$storage.dataServTour=$scope.dataServTour;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServTourDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServTour(true);},APP.timeOutCount("ServTour"));}]);tourismApp.controller("ServTourSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServTour=[],$scope.ctrl={name:"ServTourSelectorCtrl",original:"ServTour"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServTour:{}}),$scope.dataServTour=$scope.$storage.dataServTour,$scope.debug=APP.debugInfo("ServTourSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServTour=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTourDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTour=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServTour=APP.uniqueArray($scope.dataServTour.concat(JSOG.decode(data.data)));$scope.$storage.dataServTour=$scope.dataServTour;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServTour(true);},APP.timeOutCount("ServTour"));}]);tourismApp.controller("ServTourEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServTourEditCtrl",original:"ServTour"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServTourEditCtrl"),$scope.$storage=$localStorage.$default({itemServTour:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServTour",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTourDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServTourDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTourDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServTour=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServTour");});}else{$scope.loading=false;}$scope.dataGroupGlobal=$scope.$storage.dataGroupGlobal;$servicesStorage.GroupGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataGroupGlobal=JSOG.decode(data.data);$scope.$storage.dataGroupGlobal=$scope.dataGroupGlobal;});$scope.dataLocationCities=$scope.$storage.dataLocationCities;$servicesStorage.LocationCitiesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCities=JSOG.decode(data.data);$scope.$storage.dataLocationCities=$scope.dataLocationCities;});$scope.dataLocationCountries=$scope.$storage.dataLocationCountries;$servicesStorage.LocationCountriesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCountries=JSOG.decode(data.data);$scope.$storage.dataLocationCountries=$scope.dataLocationCountries;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});},APP.timeOutCount("ServTour"));$scope.editModalItemTmIncidents=function(itemId){var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmIncidentses,editItemId:itemId,excludeList:["servtour"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelTourServices=function(itemId){var modalInstance=$modal.open({templateUrl:"ReltourservicesEdit",controller:"RelTourServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelTourServiceses,editItemId:itemId,excludeList:["servtour"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["servtour"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelTourDocs=function(itemId){var modalInstance=$modal.open({templateUrl:"ReltourdocsEdit",controller:"RelTourDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelTourDocses,editItemId:itemId,excludeList:["servtour"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelTourHotels=function(itemId){var modalInstance=$modal.open({templateUrl:"ReltourhotelsEdit",controller:"RelTourHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelTourHotelses,editItemId:itemId,excludeList:["servtour"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemTmIncidents=function(){if(typeof $scope.item.tmIncidentses=="undefined"){$scope.item.tmIncidentses=[];}var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servtour"]};}}});modalInstance.result.then(function(item){$scope.item.tmIncidentses.push(item);},function(){});};$scope.createModalItemRelTourServices=function(){if(typeof $scope.item.relTourServiceses=="undefined"){$scope.item.relTourServiceses=[];}var modalInstance=$modal.open({templateUrl:"ReltourservicesEdit",controller:"RelTourServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servtour"]};}}});modalInstance.result.then(function(item){$scope.item.relTourServiceses.push(item);},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servtour"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.createModalItemRelTourDocs=function(){if(typeof $scope.item.relTourDocses=="undefined"){$scope.item.relTourDocses=[];}var modalInstance=$modal.open({templateUrl:"ReltourdocsEdit",controller:"RelTourDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servtour"]};}}});modalInstance.result.then(function(item){$scope.item.relTourDocses.push(item);},function(){});};$scope.createModalItemRelTourHotels=function(){if(typeof $scope.item.relTourHotelses=="undefined"){$scope.item.relTourHotelses=[];}var modalInstance=$modal.open({templateUrl:"ReltourhotelsEdit",controller:"RelTourHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servtour"]};}}});modalInstance.result.then(function(item){$scope.item.relTourHotelses.push(item);},function(){});};$scope.pickItemTmIncidents=function(){var modalInstance=$modal.open({templateUrl:"TmincidentsFragmentSelector",controller:"TmIncidentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmIncidentses=APP.checkDublicate2($scope.item.tmIncidentses,data.data,"TmIncidentsView");},function(){});};$scope.pickItemRelTourServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relTourServiceses=APP.checkDublicate($scope.item.relTourServiceses,data.data,"infoservices","servtour",$scope.item);},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};$scope.pickItemRelTourDocs=function(){var modalInstance=$modal.open({templateUrl:"DocdocumentsFragmentSelector",controller:"DocDocumentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relTourDocses=APP.checkDublicate($scope.item.relTourDocses,data.data,"docdocuments","servtour",$scope.item);},function(){});};$scope.pickItemRelTourHotels=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relTourHotelses=APP.checkDublicate($scope.item.relTourHotelses,data.data,"servhotel","servtour",$scope.item);},function(){});};}]);tourismApp.controller("ServTransferListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServTransfer=[],$scope.ctrl={name:"ServTransferListCtrl",original:"ServTransfer"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servtransfer"],$scope.details={},$scope.$storage=$localStorage.$default({dataServTransfer:[]}),$scope.dataServTransfer=$scope.$storage.dataServTransfer,$scope.debug=APP.debugInfo("ServTransferListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servtransfer"]};}}});modalInstance.result.then(function(data){$scope.dataServTransfer.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferEdit/"+itemId,controller:"ServTransferEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servtransfer"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServTransfer)};}}});modalInstance.result.then(function(data){$servicesStorage.ServTransferDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServTransfer[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServTransfer[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServTransferDao().remove({id:itemId},{},function(){$scope.dataServTransfer.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServTransfer=function(){$servicesStorage.ServTransferDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTransfer=JSOG.decode(data.data);$scope.$storage.dataServTransfer=$scope.dataServTransfer;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServTransfer=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTransferDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTransfer=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTransfer=APP.uniqueArray($scope.dataServTransfer.concat(JSOG.decode(data.data)));$scope.$storage.dataServTransfer=$scope.dataServTransfer;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServTransferDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServTransfer(true);},APP.timeOutCount("ServTransfer"));}]);tourismApp.controller("ServTransferSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServTransfer=[],$scope.ctrl={name:"ServTransferSelectorCtrl",original:"ServTransfer"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServTransfer:{}}),$scope.dataServTransfer=$scope.$storage.dataServTransfer,$scope.debug=APP.debugInfo("ServTransferSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServTransfer=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTransferDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTransfer=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServTransfer=APP.uniqueArray($scope.dataServTransfer.concat(JSOG.decode(data.data)));$scope.$storage.dataServTransfer=$scope.dataServTransfer;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServTransfer(true);},APP.timeOutCount("ServTransfer"));}]);tourismApp.controller("ServTransferEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServTransferEditCtrl",original:"ServTransfer"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServTransferEditCtrl"),$scope.$storage=$localStorage.$default({itemServTransfer:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServTransfer",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTransferDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServTransferDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTransferDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServTransfer=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServTransfer");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});$scope.dataDictGlobalByTransportId=$scope.$storage.dataDictGlobalByTransportId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByTransportId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByTransportId=$scope.dataDictGlobalByTransportId;});$scope.dataDictGlobalByPaymentTypeId=$scope.$storage.dataDictGlobalByPaymentTypeId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByPaymentTypeId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByPaymentTypeId=$scope.dataDictGlobalByPaymentTypeId;});$scope.dataDictGlobalByTypeTransferId=$scope.$storage.dataDictGlobalByTypeTransferId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByTypeTransferId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByTypeTransferId=$scope.dataDictGlobalByTypeTransferId;});$scope.dataLocationCities=$scope.$storage.dataLocationCities;$servicesStorage.LocationCitiesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCities=JSOG.decode(data.data);$scope.$storage.dataLocationCities=$scope.dataLocationCities;});$scope.dataLocationCountries=$scope.$storage.dataLocationCountries;$servicesStorage.LocationCountriesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCountries=JSOG.decode(data.data);$scope.$storage.dataLocationCountries=$scope.dataLocationCountries;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});},APP.timeOutCount("ServTransfer"));$scope.editModalItemServTransferRoute=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferrouteEdit",controller:"ServTransferRouteEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTransferRoutes,editItemId:itemId,excludeList:["servtransfer"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServTransferTmContact=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservtransfertmcontactEdit",controller:"RelServTransferTmContactEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServTransferTmContacts,editItemId:itemId,excludeList:["servtransfer"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["servtransfer"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmIncidents=function(itemId){var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmIncidentses,editItemId:itemId,excludeList:["servtransfer"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemServTransferRoute=function(){if(typeof $scope.item.servTransferRoutes=="undefined"){$scope.item.servTransferRoutes=[];}var modalInstance=$modal.open({templateUrl:"ServtransferrouteEdit",controller:"ServTransferRouteEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servtransfer"]};}}});modalInstance.result.then(function(item){$scope.item.servTransferRoutes.push(item);},function(){});};$scope.createModalItemRelServTransferTmContact=function(){if(typeof $scope.item.relServTransferTmContacts=="undefined"){$scope.item.relServTransferTmContacts=[];}var modalInstance=$modal.open({templateUrl:"RelservtransfertmcontactEdit",controller:"RelServTransferTmContactEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servtransfer"]};}}});modalInstance.result.then(function(item){$scope.item.relServTransferTmContacts.push(item);},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servtransfer"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.createModalItemTmIncidents=function(){if(typeof $scope.item.tmIncidentses=="undefined"){$scope.item.tmIncidentses=[];}var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servtransfer"]};}}});modalInstance.result.then(function(item){$scope.item.tmIncidentses.push(item);},function(){});};$scope.pickItemServTransferRoute=function(){var modalInstance=$modal.open({templateUrl:"ServtransferrouteFragmentSelector",controller:"ServTransferRouteSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTransferRoutes=APP.checkDublicate2($scope.item.servTransferRoutes,data.data,"ServTransferRouteView");},function(){});};$scope.pickItemRelServTransferTmContact=function(){var modalInstance=$modal.open({templateUrl:"TmcontactFragmentSelector",controller:"TmContactSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServTransferTmContacts=APP.checkDublicate($scope.item.relServTransferTmContacts,data.data,"tmcontact","servtransfer",$scope.item);},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};$scope.pickItemTmIncidents=function(){var modalInstance=$modal.open({templateUrl:"TmincidentsFragmentSelector",controller:"TmIncidentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmIncidentses=APP.checkDublicate2($scope.item.tmIncidentses,data.data,"TmIncidentsView");},function(){});};}]);tourismApp.controller("ServTransferRouteListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServTransferRoute=[],$scope.ctrl={name:"ServTransferRouteListCtrl",original:"ServTransferRoute"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servtransferroute"],$scope.details={},$scope.$storage=$localStorage.$default({dataServTransferRoute:[]}),$scope.dataServTransferRoute=$scope.$storage.dataServTransferRoute,$scope.debug=APP.debugInfo("ServTransferRouteListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServtransferrouteEdit",controller:"ServTransferRouteEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servtransferroute"]};}}});modalInstance.result.then(function(data){$scope.dataServTransferRoute.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferrouteEdit/"+itemId,controller:"ServTransferRouteEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servtransferroute"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServTransferRoute)};}}});modalInstance.result.then(function(data){$servicesStorage.ServTransferRouteDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServTransferRoute[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServTransferRoute[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServTransferRouteDao().remove({id:itemId},{},function(){$scope.dataServTransferRoute.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServTransferRoute=function(){$servicesStorage.ServTransferRouteDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTransferRoute=JSOG.decode(data.data);$scope.$storage.dataServTransferRoute=$scope.dataServTransferRoute;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServTransferRoute=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTransferRouteDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTransferRoute=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTransferRoute=APP.uniqueArray($scope.dataServTransferRoute.concat(JSOG.decode(data.data)));$scope.$storage.dataServTransferRoute=$scope.dataServTransferRoute;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServTransferRouteDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServTransferRoute(true);},APP.timeOutCount("ServTransferRoute"));}]);tourismApp.controller("ServTransferRouteSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServTransferRoute=[],$scope.ctrl={name:"ServTransferRouteSelectorCtrl",original:"ServTransferRoute"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServTransferRoute:{}}),$scope.dataServTransferRoute=$scope.$storage.dataServTransferRoute,$scope.debug=APP.debugInfo("ServTransferRouteSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServTransferRoute=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTransferRouteDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTransferRoute=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServTransferRoute=APP.uniqueArray($scope.dataServTransferRoute.concat(JSOG.decode(data.data)));$scope.$storage.dataServTransferRoute=$scope.dataServTransferRoute;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServTransferRoute(true);},APP.timeOutCount("ServTransferRoute"));}]);tourismApp.controller("ServTransferRouteEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServTransferRouteEditCtrl",original:"ServTransferRoute"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServTransferRouteEditCtrl"),$scope.$storage=$localStorage.$default({itemServTransferRoute:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServTransferRoute",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTransferRouteDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServTransferRouteDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTransferRouteDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServTransferRoute=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServTransferRoute");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});$scope.dataServTransfer=$scope.$storage.dataServTransfer;$servicesStorage.ServTransferDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTransfer=JSOG.decode(data.data);$scope.$storage.dataServTransfer=$scope.dataServTransfer;});},APP.timeOutCount("ServTransferRoute"));$scope.editModalItemServTransferRoutePoint=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferroutepointEdit",controller:"ServTransferRoutePointEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTransferRoutePoints,editItemId:itemId,excludeList:["servtransferroute"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemServTransferRoutePoint=function(){if(typeof $scope.item.servTransferRoutePoints=="undefined"){$scope.item.servTransferRoutePoints=[];}var modalInstance=$modal.open({templateUrl:"ServtransferroutepointEdit",controller:"ServTransferRoutePointEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servtransferroute"]};}}});modalInstance.result.then(function(item){$scope.item.servTransferRoutePoints.push(item);},function(){});};$scope.pickItemServTransferRoutePoint=function(){var modalInstance=$modal.open({templateUrl:"ServtransferroutepointFragmentSelector",controller:"ServTransferRoutePointSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTransferRoutePoints=APP.checkDublicate2($scope.item.servTransferRoutePoints,data.data,"ServTransferRoutePointView");},function(){});};}]);tourismApp.controller("ServTransferRoutePointListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServTransferRoutePoint=[],$scope.ctrl={name:"ServTransferRoutePointListCtrl",original:"ServTransferRoutePoint"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servtransferroutepoint"],$scope.details={},$scope.$storage=$localStorage.$default({dataServTransferRoutePoint:[]}),$scope.dataServTransferRoutePoint=$scope.$storage.dataServTransferRoutePoint,$scope.debug=APP.debugInfo("ServTransferRoutePointListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServtransferroutepointEdit",controller:"ServTransferRoutePointEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servtransferroutepoint"]};}}});modalInstance.result.then(function(data){$scope.dataServTransferRoutePoint.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferroutepointEdit/"+itemId,controller:"ServTransferRoutePointEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servtransferroutepoint"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServTransferRoutePoint)};}}});modalInstance.result.then(function(data){$servicesStorage.ServTransferRoutePointDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServTransferRoutePoint[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServTransferRoutePoint[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServTransferRoutePointDao().remove({id:itemId},{},function(){$scope.dataServTransferRoutePoint.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServTransferRoutePoint=function(){$servicesStorage.ServTransferRoutePointDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTransferRoutePoint=JSOG.decode(data.data);$scope.$storage.dataServTransferRoutePoint=$scope.dataServTransferRoutePoint;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServTransferRoutePoint=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTransferRoutePointDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTransferRoutePoint=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServTransferRoutePoint=APP.uniqueArray($scope.dataServTransferRoutePoint.concat(JSOG.decode(data.data)));$scope.$storage.dataServTransferRoutePoint=$scope.dataServTransferRoutePoint;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServTransferRoutePointDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServTransferRoutePoint(true);},APP.timeOutCount("ServTransferRoutePoint"));}]);tourismApp.controller("ServTransferRoutePointSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServTransferRoutePoint=[],$scope.ctrl={name:"ServTransferRoutePointSelectorCtrl",original:"ServTransferRoutePoint"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServTransferRoutePoint:{}}),$scope.dataServTransferRoutePoint=$scope.$storage.dataServTransferRoutePoint,$scope.debug=APP.debugInfo("ServTransferRoutePointSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServTransferRoutePoint=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServTransferRoutePointDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServTransferRoutePoint=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServTransferRoutePoint=APP.uniqueArray($scope.dataServTransferRoutePoint.concat(JSOG.decode(data.data)));$scope.$storage.dataServTransferRoutePoint=$scope.dataServTransferRoutePoint;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServTransferRoutePoint(true);},APP.timeOutCount("ServTransferRoutePoint"));}]);tourismApp.controller("ServTransferRoutePointEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServTransferRoutePointEditCtrl",original:"ServTransferRoutePoint"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServTransferRoutePointEditCtrl"),$scope.$storage=$localStorage.$default({itemServTransferRoutePoint:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServTransferRoutePoint",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTransferRoutePointDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServTransferRoutePointDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServTransferRoutePointDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServTransferRoutePoint=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServTransferRoutePoint");});}else{$scope.loading=false;}$scope.dataServTransferRoute=$scope.$storage.dataServTransferRoute;$servicesStorage.ServTransferRouteDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTransferRoute=JSOG.decode(data.data);$scope.$storage.dataServTransferRoute=$scope.dataServTransferRoute;});},APP.timeOutCount("ServTransferRoutePoint"));}]);tourismApp.controller("ServVisasListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataServVisas=[],$scope.ctrl={name:"ServVisasListCtrl",original:"ServVisas"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["servvisas"],$scope.details={},$scope.$storage=$localStorage.$default({dataServVisas:[]}),$scope.dataServVisas=$scope.$storage.dataServVisas,$scope.debug=APP.debugInfo("ServVisasListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"ServvisasEdit",controller:"ServVisasEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["servvisas"]};}}});modalInstance.result.then(function(data){$scope.dataServVisas.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"ServvisasEdit/"+itemId,controller:"ServVisasEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["servvisas"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataServVisas)};}}});modalInstance.result.then(function(data){$servicesStorage.ServVisasDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataServVisas[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataServVisas[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.ServVisasDao().remove({id:itemId},{},function(){$scope.dataServVisas.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataServVisas=function(){$servicesStorage.ServVisasDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServVisas=JSOG.decode(data.data);$scope.$storage.dataServVisas=$scope.dataServVisas;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataServVisas=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServVisasDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServVisas=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataServVisas=APP.uniqueArray($scope.dataServVisas.concat(JSOG.decode(data.data)));$scope.$storage.dataServVisas=$scope.dataServVisas;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.ServVisasDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataServVisas(true);},APP.timeOutCount("ServVisas"));}]);tourismApp.controller("ServVisasSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataServVisas=[],$scope.ctrl={name:"ServVisasSelectorCtrl",original:"ServVisas"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataServVisas:{}}),$scope.dataServVisas=$scope.$storage.dataServVisas,$scope.debug=APP.debugInfo("ServVisasSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataServVisas=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.ServVisasDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataServVisas=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataServVisas=APP.uniqueArray($scope.dataServVisas.concat(JSOG.decode(data.data)));$scope.$storage.dataServVisas=$scope.dataServVisas;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataServVisas(true);},APP.timeOutCount("ServVisas"));}]);tourismApp.controller("ServVisasEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"ServVisasEditCtrl",original:"ServVisas"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("ServVisasEditCtrl"),$scope.$storage=$localStorage.$default({itemServVisas:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"ServVisas",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServVisasDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.ServVisasDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.ServVisasDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemServVisas=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"ServVisas");});}else{$scope.loading=false;}$scope.dataCurrCurrency=$scope.$storage.dataCurrCurrency;$servicesStorage.CurrCurrencyDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataCurrCurrency=JSOG.decode(data.data);$scope.$storage.dataCurrCurrency=$scope.dataCurrCurrency;});$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataLocationCountries=$scope.$storage.dataLocationCountries;$servicesStorage.LocationCountriesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCountries=JSOG.decode(data.data);$scope.$storage.dataLocationCountries=$scope.dataLocationCountries;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});},APP.timeOutCount("ServVisas"));$scope.editModalItemInfoServices=function(itemId){var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedIteminfoServiceses,editItemId:itemId,excludeList:["servvisas"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmIncidents=function(itemId){var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmIncidentses,editItemId:itemId,excludeList:["servvisas"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemInfoServices=function(){if(typeof $scope.item.infoServiceses=="undefined"){$scope.item.infoServiceses=[];}var modalInstance=$modal.open({templateUrl:"InfoservicesEdit",controller:"InfoServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servvisas"]};}}});modalInstance.result.then(function(item){$scope.item.infoServiceses.push(item);},function(){});};$scope.createModalItemTmIncidents=function(){if(typeof $scope.item.tmIncidentses=="undefined"){$scope.item.tmIncidentses=[];}var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["servvisas"]};}}});modalInstance.result.then(function(item){$scope.item.tmIncidentses.push(item);},function(){});};$scope.pickItemInfoServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.infoServiceses=APP.checkDublicate2($scope.item.infoServiceses,data.data,"InfoServicesView");},function(){});};$scope.pickItemTmIncidents=function(){var modalInstance=$modal.open({templateUrl:"TmincidentsFragmentSelector",controller:"TmIncidentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmIncidentses=APP.checkDublicate2($scope.item.tmIncidentses,data.data,"TmIncidentsView");},function(){});};}]);tourismApp.controller("TmAccountListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmAccount=[],$scope.ctrl={name:"TmAccountListCtrl",original:"TmAccount"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmaccount"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmAccount:[]}),$scope.dataTmAccount=$scope.$storage.dataTmAccount,$scope.debug=APP.debugInfo("TmAccountListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmaccountEdit",controller:"TmAccountEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(data){$scope.dataTmAccount.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmaccountEdit/"+itemId,controller:"TmAccountEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmaccount"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmAccount)};}}});modalInstance.result.then(function(data){$servicesStorage.TmAccountDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmAccount[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmAccount[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmAccountDao().remove({id:itemId},{},function(){$scope.dataTmAccount.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmAccount=function(){$servicesStorage.TmAccountDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmAccount=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmAccountDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmAccount=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmAccount=APP.uniqueArray($scope.dataTmAccount.concat(JSOG.decode(data.data)));$scope.$storage.dataTmAccount=$scope.dataTmAccount;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmAccountDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmAccount(true);},APP.timeOutCount("TmAccount"));}]);tourismApp.controller("TmAccountSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmAccount=[],$scope.ctrl={name:"TmAccountSelectorCtrl",original:"TmAccount"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmAccount:{}}),$scope.dataTmAccount=$scope.$storage.dataTmAccount,$scope.debug=APP.debugInfo("TmAccountSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmAccount=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmAccountDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmAccount=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmAccount=APP.uniqueArray($scope.dataTmAccount.concat(JSOG.decode(data.data)));$scope.$storage.dataTmAccount=$scope.dataTmAccount;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmAccount(true);},APP.timeOutCount("TmAccount"));}]);tourismApp.controller("TmAccountEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmAccountEditCtrl",original:"TmAccount"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmAccountEditCtrl"),$scope.$storage=$localStorage.$default({itemTmAccount:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmAccount",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmAccountDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmAccountDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmAccountDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmAccount=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmAccount");});}else{$scope.loading=false;}},APP.timeOutCount("TmAccount"));$scope.editModalItemRelAccountContacts=function(itemId){var modalInstance=$modal.open({templateUrl:"RelaccountcontactsEdit",controller:"RelAccountContactsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelAccountContactses,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServInsurances=function(itemId){var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservInsuranceses,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmIncidents=function(itemId){var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmIncidentses,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTour=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtourEdit",controller:"ServTourEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTours,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServVisas=function(itemId){var modalInstance=$modal.open({templateUrl:"ServvisasEdit",controller:"ServVisasEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservVisases,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmAccountDetails=function(itemId){var modalInstance=$modal.open({templateUrl:"TmaccountdetailsEdit",controller:"TmAccountDetailsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmAccountDetailses,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServExcursions=function(itemId){var modalInstance=$modal.open({templateUrl:"ServexcursionsEdit",controller:"ServExcursionsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservExcursionses,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmAccountCommunications=function(itemId){var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsEdit",controller:"TmAccountCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmAccountCommunicationses,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTicketsAir=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTicketsAirs,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTicketsAir=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTicketsAirs,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTransfer=function(itemId){var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTransfers,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmAccountAddresses=function(itemId){var modalInstance=$modal.open({templateUrl:"TmaccountaddressesEdit",controller:"TmAccountAddressesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmAccountAddresseses,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTicketsAir=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTicketsAirs,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServInsurances=function(itemId){var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservInsuranceses,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServTicketsRail=function(itemId){var modalInstance=$modal.open({templateUrl:"ServticketsrailEdit",controller:"ServTicketsRailEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservTicketsRails,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServCruise=function(itemId){var modalInstance=$modal.open({templateUrl:"ServcruiseEdit",controller:"ServCruiseEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservCruises,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmOrder=function(itemId){var modalInstance=$modal.open({templateUrl:"TmorderEdit",controller:"TmOrderEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmOrders,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemservHotels,editItemId:itemId,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelAccountContacts=function(){if(typeof $scope.item.relAccountContactses=="undefined"){$scope.item.relAccountContactses=[];}var modalInstance=$modal.open({templateUrl:"RelaccountcontactsEdit",controller:"RelAccountContactsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.relAccountContactses.push(item);},function(){});};$scope.createModalItemServInsurances=function(){if(typeof $scope.item.servInsuranceses=="undefined"){$scope.item.servInsuranceses=[];}var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servInsuranceses.push(item);},function(){});};$scope.createModalItemTmIncidents=function(){if(typeof $scope.item.tmIncidentses=="undefined"){$scope.item.tmIncidentses=[];}var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.tmIncidentses.push(item);},function(){});};$scope.createModalItemServTour=function(){if(typeof $scope.item.servTours=="undefined"){$scope.item.servTours=[];}var modalInstance=$modal.open({templateUrl:"ServtourEdit",controller:"ServTourEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servTours.push(item);},function(){});};$scope.createModalItemServVisas=function(){if(typeof $scope.item.servVisases=="undefined"){$scope.item.servVisases=[];}var modalInstance=$modal.open({templateUrl:"ServvisasEdit",controller:"ServVisasEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servVisases.push(item);},function(){});};$scope.createModalItemTmAccountDetails=function(){if(typeof $scope.item.tmAccountDetailses=="undefined"){$scope.item.tmAccountDetailses=[];}var modalInstance=$modal.open({templateUrl:"TmaccountdetailsEdit",controller:"TmAccountDetailsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.tmAccountDetailses.push(item);},function(){});};$scope.createModalItemServExcursions=function(){if(typeof $scope.item.servExcursionses=="undefined"){$scope.item.servExcursionses=[];}var modalInstance=$modal.open({templateUrl:"ServexcursionsEdit",controller:"ServExcursionsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servExcursionses.push(item);},function(){});};$scope.createModalItemTmAccountCommunications=function(){if(typeof $scope.item.tmAccountCommunicationses=="undefined"){$scope.item.tmAccountCommunicationses=[];}var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsEdit",controller:"TmAccountCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.tmAccountCommunicationses.push(item);},function(){});};$scope.createModalItemServTicketsAir=function(){if(typeof $scope.item.servTicketsAirs=="undefined"){$scope.item.servTicketsAirs=[];}var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servTicketsAirs.push(item);},function(){});};$scope.createModalItemServTicketsAir=function(){if(typeof $scope.item.servTicketsAirs=="undefined"){$scope.item.servTicketsAirs=[];}var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servTicketsAirs.push(item);},function(){});};$scope.createModalItemServTransfer=function(){if(typeof $scope.item.servTransfers=="undefined"){$scope.item.servTransfers=[];}var modalInstance=$modal.open({templateUrl:"ServtransferEdit",controller:"ServTransferEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servTransfers.push(item);},function(){});};$scope.createModalItemTmAccountAddresses=function(){if(typeof $scope.item.tmAccountAddresseses=="undefined"){$scope.item.tmAccountAddresseses=[];}var modalInstance=$modal.open({templateUrl:"TmaccountaddressesEdit",controller:"TmAccountAddressesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.tmAccountAddresseses.push(item);},function(){});};$scope.createModalItemServTicketsAir=function(){if(typeof $scope.item.servTicketsAirs=="undefined"){$scope.item.servTicketsAirs=[];}var modalInstance=$modal.open({templateUrl:"ServticketsairEdit",controller:"ServTicketsAirEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servTicketsAirs.push(item);},function(){});};$scope.createModalItemServInsurances=function(){if(typeof $scope.item.servInsuranceses=="undefined"){$scope.item.servInsuranceses=[];}var modalInstance=$modal.open({templateUrl:"ServinsurancesEdit",controller:"ServInsurancesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servInsuranceses.push(item);},function(){});};$scope.createModalItemServTicketsRail=function(){if(typeof $scope.item.servTicketsRails=="undefined"){$scope.item.servTicketsRails=[];}var modalInstance=$modal.open({templateUrl:"ServticketsrailEdit",controller:"ServTicketsRailEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servTicketsRails.push(item);},function(){});};$scope.createModalItemServCruise=function(){if(typeof $scope.item.servCruises=="undefined"){$scope.item.servCruises=[];}var modalInstance=$modal.open({templateUrl:"ServcruiseEdit",controller:"ServCruiseEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servCruises.push(item);},function(){});};$scope.createModalItemTmOrder=function(){if(typeof $scope.item.tmOrders=="undefined"){$scope.item.tmOrders=[];}var modalInstance=$modal.open({templateUrl:"TmorderEdit",controller:"TmOrderEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.tmOrders.push(item);},function(){});};$scope.createModalItemServHotel=function(){if(typeof $scope.item.servHotels=="undefined"){$scope.item.servHotels=[];}var modalInstance=$modal.open({templateUrl:"ServhotelEdit",controller:"ServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccount"]};}}});modalInstance.result.then(function(item){$scope.item.servHotels.push(item);},function(){});};$scope.pickItemRelAccountContacts=function(){var modalInstance=$modal.open({templateUrl:"TmcontactFragmentSelector",controller:"TmContactSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relAccountContactses=APP.checkDublicate($scope.item.relAccountContactses,data.data,"tmcontact","tmaccount",$scope.item);},function(){});};$scope.pickItemServInsurances=function(){var modalInstance=$modal.open({templateUrl:"ServinsurancesFragmentSelector",controller:"ServInsurancesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servInsuranceses=APP.checkDublicate2($scope.item.servInsuranceses,data.data,"ServInsurancesView");},function(){});};$scope.pickItemTmIncidents=function(){var modalInstance=$modal.open({templateUrl:"TmincidentsFragmentSelector",controller:"TmIncidentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmIncidentses=APP.checkDublicate2($scope.item.tmIncidentses,data.data,"TmIncidentsView");},function(){});};$scope.pickItemServTour=function(){var modalInstance=$modal.open({templateUrl:"ServtourFragmentSelector",controller:"ServTourSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTours=APP.checkDublicate2($scope.item.servTours,data.data,"ServTourView");},function(){});};$scope.pickItemServVisas=function(){var modalInstance=$modal.open({templateUrl:"ServvisasFragmentSelector",controller:"ServVisasSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servVisases=APP.checkDublicate2($scope.item.servVisases,data.data,"ServVisasView");},function(){});};$scope.pickItemTmAccountDetails=function(){var modalInstance=$modal.open({templateUrl:"TmaccountdetailsFragmentSelector",controller:"TmAccountDetailsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmAccountDetailses=APP.checkDublicate2($scope.item.tmAccountDetailses,data.data,"TmAccountDetailsView");},function(){});};$scope.pickItemServExcursions=function(){var modalInstance=$modal.open({templateUrl:"ServexcursionsFragmentSelector",controller:"ServExcursionsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servExcursionses=APP.checkDublicate2($scope.item.servExcursionses,data.data,"ServExcursionsView");},function(){});};$scope.pickItemTmAccountCommunications=function(){var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsFragmentSelector",controller:"TmAccountCommunicationsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmAccountCommunicationses=APP.checkDublicate2($scope.item.tmAccountCommunicationses,data.data,"TmAccountCommunicationsView");},function(){});};$scope.pickItemServTicketsAir=function(){var modalInstance=$modal.open({templateUrl:"ServticketsairFragmentSelector",controller:"ServTicketsAirSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTicketsAirs=APP.checkDublicate2($scope.item.servTicketsAirs,data.data,"ServTicketsAirView");},function(){});};$scope.pickItemServTicketsAir=function(){var modalInstance=$modal.open({templateUrl:"ServticketsairFragmentSelector",controller:"ServTicketsAirSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTicketsAirs=APP.checkDublicate2($scope.item.servTicketsAirs,data.data,"ServTicketsAirView");},function(){});};$scope.pickItemServTransfer=function(){var modalInstance=$modal.open({templateUrl:"ServtransferFragmentSelector",controller:"ServTransferSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTransfers=APP.checkDublicate2($scope.item.servTransfers,data.data,"ServTransferView");},function(){});};$scope.pickItemTmAccountAddresses=function(){var modalInstance=$modal.open({templateUrl:"TmaccountaddressesFragmentSelector",controller:"TmAccountAddressesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmAccountAddresseses=APP.checkDublicate2($scope.item.tmAccountAddresseses,data.data,"TmAccountAddressesView");},function(){});};$scope.pickItemServTicketsAir=function(){var modalInstance=$modal.open({templateUrl:"ServticketsairFragmentSelector",controller:"ServTicketsAirSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTicketsAirs=APP.checkDublicate2($scope.item.servTicketsAirs,data.data,"ServTicketsAirView");},function(){});};$scope.pickItemServInsurances=function(){var modalInstance=$modal.open({templateUrl:"ServinsurancesFragmentSelector",controller:"ServInsurancesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servInsuranceses=APP.checkDublicate2($scope.item.servInsuranceses,data.data,"ServInsurancesView");},function(){});};$scope.pickItemServTicketsRail=function(){var modalInstance=$modal.open({templateUrl:"ServticketsrailFragmentSelector",controller:"ServTicketsRailSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servTicketsRails=APP.checkDublicate2($scope.item.servTicketsRails,data.data,"ServTicketsRailView");},function(){});};$scope.pickItemServCruise=function(){var modalInstance=$modal.open({templateUrl:"ServcruiseFragmentSelector",controller:"ServCruiseSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servCruises=APP.checkDublicate2($scope.item.servCruises,data.data,"ServCruiseView");},function(){});};$scope.pickItemTmOrder=function(){var modalInstance=$modal.open({templateUrl:"TmorderFragmentSelector",controller:"TmOrderSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmOrders=APP.checkDublicate2($scope.item.tmOrders,data.data,"TmOrderView");},function(){});};$scope.pickItemServHotel=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.servHotels=APP.checkDublicate2($scope.item.servHotels,data.data,"ServHotelView");},function(){});};}]);tourismApp.controller("TmAccountAddressesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmAccountAddresses=[],$scope.ctrl={name:"TmAccountAddressesListCtrl",original:"TmAccountAddresses"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmaccountaddresses"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmAccountAddresses:[]}),$scope.dataTmAccountAddresses=$scope.$storage.dataTmAccountAddresses,$scope.debug=APP.debugInfo("TmAccountAddressesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmaccountaddressesEdit",controller:"TmAccountAddressesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccountaddresses"]};}}});modalInstance.result.then(function(data){$scope.dataTmAccountAddresses.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmaccountaddressesEdit/"+itemId,controller:"TmAccountAddressesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmaccountaddresses"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmAccountAddresses)};}}});modalInstance.result.then(function(data){$servicesStorage.TmAccountAddressesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmAccountAddresses[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmAccountAddresses[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmAccountAddressesDao().remove({id:itemId},{},function(){$scope.dataTmAccountAddresses.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmAccountAddresses=function(){$servicesStorage.TmAccountAddressesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmAccountAddresses=JSOG.decode(data.data);$scope.$storage.dataTmAccountAddresses=$scope.dataTmAccountAddresses;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmAccountAddresses=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmAccountAddressesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmAccountAddresses=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmAccountAddresses=APP.uniqueArray($scope.dataTmAccountAddresses.concat(JSOG.decode(data.data)));$scope.$storage.dataTmAccountAddresses=$scope.dataTmAccountAddresses;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmAccountAddressesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmAccountAddresses(true);},APP.timeOutCount("TmAccountAddresses"));}]);tourismApp.controller("TmAccountAddressesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmAccountAddresses=[],$scope.ctrl={name:"TmAccountAddressesSelectorCtrl",original:"TmAccountAddresses"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmAccountAddresses:{}}),$scope.dataTmAccountAddresses=$scope.$storage.dataTmAccountAddresses,$scope.debug=APP.debugInfo("TmAccountAddressesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmAccountAddresses=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmAccountAddressesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmAccountAddresses=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmAccountAddresses=APP.uniqueArray($scope.dataTmAccountAddresses.concat(JSOG.decode(data.data)));$scope.$storage.dataTmAccountAddresses=$scope.dataTmAccountAddresses;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmAccountAddresses(true);},APP.timeOutCount("TmAccountAddresses"));}]);tourismApp.controller("TmAccountAddressesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmAccountAddressesEditCtrl",original:"TmAccountAddresses"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmAccountAddressesEditCtrl"),$scope.$storage=$localStorage.$default({itemTmAccountAddresses:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmAccountAddresses",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmAccountAddressesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmAccountAddressesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmAccountAddressesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmAccountAddresses=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmAccountAddresses");});}else{$scope.loading=false;}$scope.dataLocationCities=$scope.$storage.dataLocationCities;$servicesStorage.LocationCitiesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCities=JSOG.decode(data.data);$scope.$storage.dataLocationCities=$scope.dataLocationCities;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});},APP.timeOutCount("TmAccountAddresses"));}]);tourismApp.controller("TmAccountCommunicationsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmAccountCommunications=[],$scope.ctrl={name:"TmAccountCommunicationsListCtrl",original:"TmAccountCommunications"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmaccountcommunications"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmAccountCommunications:[]}),$scope.dataTmAccountCommunications=$scope.$storage.dataTmAccountCommunications,$scope.debug=APP.debugInfo("TmAccountCommunicationsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsEdit",controller:"TmAccountCommunicationsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccountcommunications"]};}}});modalInstance.result.then(function(data){$scope.dataTmAccountCommunications.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmaccountcommunicationsEdit/"+itemId,controller:"TmAccountCommunicationsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmaccountcommunications"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmAccountCommunications)};}}});modalInstance.result.then(function(data){$servicesStorage.TmAccountCommunicationsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmAccountCommunications[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmAccountCommunications[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmAccountCommunicationsDao().remove({id:itemId},{},function(){$scope.dataTmAccountCommunications.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmAccountCommunications=function(){$servicesStorage.TmAccountCommunicationsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmAccountCommunications=JSOG.decode(data.data);$scope.$storage.dataTmAccountCommunications=$scope.dataTmAccountCommunications;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmAccountCommunications=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmAccountCommunicationsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmAccountCommunications=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmAccountCommunications=APP.uniqueArray($scope.dataTmAccountCommunications.concat(JSOG.decode(data.data)));$scope.$storage.dataTmAccountCommunications=$scope.dataTmAccountCommunications;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmAccountCommunicationsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmAccountCommunications(true);},APP.timeOutCount("TmAccountCommunications"));}]);tourismApp.controller("TmAccountCommunicationsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmAccountCommunications=[],$scope.ctrl={name:"TmAccountCommunicationsSelectorCtrl",original:"TmAccountCommunications"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmAccountCommunications:{}}),$scope.dataTmAccountCommunications=$scope.$storage.dataTmAccountCommunications,$scope.debug=APP.debugInfo("TmAccountCommunicationsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmAccountCommunications=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmAccountCommunicationsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmAccountCommunications=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmAccountCommunications=APP.uniqueArray($scope.dataTmAccountCommunications.concat(JSOG.decode(data.data)));$scope.$storage.dataTmAccountCommunications=$scope.dataTmAccountCommunications;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmAccountCommunications(true);},APP.timeOutCount("TmAccountCommunications"));}]);tourismApp.controller("TmAccountCommunicationsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmAccountCommunicationsEditCtrl",original:"TmAccountCommunications"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmAccountCommunicationsEditCtrl"),$scope.$storage=$localStorage.$default({itemTmAccountCommunications:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmAccountCommunications",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmAccountCommunicationsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmAccountCommunicationsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmAccountCommunicationsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmAccountCommunications=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmAccountCommunications");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataLocationCities=$scope.$storage.dataLocationCities;$servicesStorage.LocationCitiesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCities=JSOG.decode(data.data);$scope.$storage.dataLocationCities=$scope.dataLocationCities;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});},APP.timeOutCount("TmAccountCommunications"));}]);tourismApp.controller("TmAccountDetailsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmAccountDetails=[],$scope.ctrl={name:"TmAccountDetailsListCtrl",original:"TmAccountDetails"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmaccountdetails"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmAccountDetails:[]}),$scope.dataTmAccountDetails=$scope.$storage.dataTmAccountDetails,$scope.debug=APP.debugInfo("TmAccountDetailsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmaccountdetailsEdit",controller:"TmAccountDetailsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmaccountdetails"]};}}});modalInstance.result.then(function(data){$scope.dataTmAccountDetails.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmaccountdetailsEdit/"+itemId,controller:"TmAccountDetailsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmaccountdetails"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmAccountDetails)};}}});modalInstance.result.then(function(data){$servicesStorage.TmAccountDetailsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmAccountDetails[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmAccountDetails[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmAccountDetailsDao().remove({id:itemId},{},function(){$scope.dataTmAccountDetails.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmAccountDetails=function(){$servicesStorage.TmAccountDetailsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmAccountDetails=JSOG.decode(data.data);$scope.$storage.dataTmAccountDetails=$scope.dataTmAccountDetails;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmAccountDetails=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmAccountDetailsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmAccountDetails=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmAccountDetails=APP.uniqueArray($scope.dataTmAccountDetails.concat(JSOG.decode(data.data)));$scope.$storage.dataTmAccountDetails=$scope.dataTmAccountDetails;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmAccountDetailsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmAccountDetails(true);},APP.timeOutCount("TmAccountDetails"));}]);tourismApp.controller("TmAccountDetailsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmAccountDetails=[],$scope.ctrl={name:"TmAccountDetailsSelectorCtrl",original:"TmAccountDetails"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmAccountDetails:{}}),$scope.dataTmAccountDetails=$scope.$storage.dataTmAccountDetails,$scope.debug=APP.debugInfo("TmAccountDetailsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmAccountDetails=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmAccountDetailsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmAccountDetails=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmAccountDetails=APP.uniqueArray($scope.dataTmAccountDetails.concat(JSOG.decode(data.data)));$scope.$storage.dataTmAccountDetails=$scope.dataTmAccountDetails;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmAccountDetails(true);},APP.timeOutCount("TmAccountDetails"));}]);tourismApp.controller("TmAccountDetailsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmAccountDetailsEditCtrl",original:"TmAccountDetails"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmAccountDetailsEditCtrl"),$scope.$storage=$localStorage.$default({itemTmAccountDetails:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmAccountDetails",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmAccountDetailsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmAccountDetailsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmAccountDetailsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmAccountDetails=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmAccountDetails");});}else{$scope.loading=false;}$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});},APP.timeOutCount("TmAccountDetails"));}]);tourismApp.controller("TmCommercialListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmCommercial=[],$scope.ctrl={name:"TmCommercialListCtrl",original:"TmCommercial"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmcommercial"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmCommercial:[]}),$scope.dataTmCommercial=$scope.$storage.dataTmCommercial,$scope.debug=APP.debugInfo("TmCommercialListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmcommercialEdit",controller:"TmCommercialEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcommercial"]};}}});modalInstance.result.then(function(data){$scope.dataTmCommercial.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcommercialEdit/"+itemId,controller:"TmCommercialEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmcommercial"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmCommercial)};}}});modalInstance.result.then(function(data){$servicesStorage.TmCommercialDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmCommercial[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmCommercial[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmCommercialDao().remove({id:itemId},{},function(){$scope.dataTmCommercial.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmCommercial=function(){$servicesStorage.TmCommercialDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmCommercial=JSOG.decode(data.data);$scope.$storage.dataTmCommercial=$scope.dataTmCommercial;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmCommercial=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmCommercialDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmCommercial=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmCommercial=APP.uniqueArray($scope.dataTmCommercial.concat(JSOG.decode(data.data)));$scope.$storage.dataTmCommercial=$scope.dataTmCommercial;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmCommercialDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmCommercial(true);},APP.timeOutCount("TmCommercial"));}]);tourismApp.controller("TmCommercialSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmCommercial=[],$scope.ctrl={name:"TmCommercialSelectorCtrl",original:"TmCommercial"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmCommercial:{}}),$scope.dataTmCommercial=$scope.$storage.dataTmCommercial,$scope.debug=APP.debugInfo("TmCommercialSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmCommercial=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmCommercialDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmCommercial=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmCommercial=APP.uniqueArray($scope.dataTmCommercial.concat(JSOG.decode(data.data)));$scope.$storage.dataTmCommercial=$scope.dataTmCommercial;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmCommercial(true);},APP.timeOutCount("TmCommercial"));}]);tourismApp.controller("TmCommercialEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmCommercialEditCtrl",original:"TmCommercial"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmCommercialEditCtrl"),$scope.$storage=$localStorage.$default({itemTmCommercial:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmCommercial",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmCommercialDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmCommercialDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmCommercialDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmCommercial=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmCommercial");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});},APP.timeOutCount("TmCommercial"));$scope.editModalItemRelServHotelInfoCommercial=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelinfocommercialEdit",controller:"RelServHotelInfoCommercialEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelInfoCommercials,editItemId:itemId,excludeList:["tmcommercial"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelServHotelInfoCommercial=function(){if(typeof $scope.item.relServHotelInfoCommercials=="undefined"){$scope.item.relServHotelInfoCommercials=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelinfocommercialEdit",controller:"RelServHotelInfoCommercialEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcommercial"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelInfoCommercials.push(item);},function(){});};$scope.pickItemRelServHotelInfoCommercial=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelInfoCommercials=APP.checkDublicate($scope.item.relServHotelInfoCommercials,data.data,"servhotel","tmcommercial",$scope.item);},function(){});};}]);tourismApp.controller("TmContactListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmContact=[],$scope.ctrl={name:"TmContactListCtrl",original:"TmContact"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmcontact"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmContact:[]}),$scope.dataTmContact=$scope.$storage.dataTmContact,$scope.debug=APP.debugInfo("TmContactListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmcontactEdit",controller:"TmContactEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(data){$scope.dataTmContact.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcontactEdit/"+itemId,controller:"TmContactEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmcontact"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmContact)};}}});modalInstance.result.then(function(data){$servicesStorage.TmContactDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmContact[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmContact[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmContactDao().remove({id:itemId},{},function(){$scope.dataTmContact.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmContact=function(){$servicesStorage.TmContactDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmContact=JSOG.decode(data.data);$scope.$storage.dataTmContact=$scope.dataTmContact;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmContact=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmContactDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmContact=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmContact=APP.uniqueArray($scope.dataTmContact.concat(JSOG.decode(data.data)));$scope.$storage.dataTmContact=$scope.dataTmContact;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmContactDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmContact(true);},APP.timeOutCount("TmContact"));}]);tourismApp.controller("TmContactSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmContact=[],$scope.ctrl={name:"TmContactSelectorCtrl",original:"TmContact"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmContact:{}}),$scope.dataTmContact=$scope.$storage.dataTmContact,$scope.debug=APP.debugInfo("TmContactSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmContact=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmContactDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmContact=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmContact=APP.uniqueArray($scope.dataTmContact.concat(JSOG.decode(data.data)));$scope.$storage.dataTmContact=$scope.dataTmContact;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmContact(true);},APP.timeOutCount("TmContact"));}]);tourismApp.controller("TmContactEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmContactEditCtrl",original:"TmContact"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmContactEditCtrl"),$scope.$storage=$localStorage.$default({itemTmContact:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmContact",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmContactDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmContactDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmContactDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmContact=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmContact");});}else{$scope.loading=false;}},APP.timeOutCount("TmContact"));$scope.editModalItemTmIncidents=function(itemId){var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmIncidentses,editItemId:itemId,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmContactCommunications=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsEdit",controller:"TmContactCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmContactCommunicationses,editItemId:itemId,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmOrder=function(itemId){var modalInstance=$modal.open({templateUrl:"TmorderEdit",controller:"TmOrderEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmOrders,editItemId:itemId,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemTmContactAddresses=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcontactaddressesEdit",controller:"TmContactAddressesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemtmContactAddresseses,editItemId:itemId,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelOrderClient=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderclientEdit",controller:"RelOrderClientEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelOrderClients,editItemId:itemId,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelAccountContacts=function(itemId){var modalInstance=$modal.open({templateUrl:"RelaccountcontactsEdit",controller:"RelAccountContactsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelAccountContactses,editItemId:itemId,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelCruiseContacts=function(itemId){var modalInstance=$modal.open({templateUrl:"RelcruisecontactsEdit",controller:"RelCruiseContactsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelCruiseContactses,editItemId:itemId,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServTransferTmContact=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservtransfertmcontactEdit",controller:"RelServTransferTmContactEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServTransferTmContacts,editItemId:itemId,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemTmIncidents=function(){if(typeof $scope.item.tmIncidentses=="undefined"){$scope.item.tmIncidentses=[];}var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){$scope.item.tmIncidentses.push(item);},function(){});};$scope.createModalItemTmContactCommunications=function(){if(typeof $scope.item.tmContactCommunicationses=="undefined"){$scope.item.tmContactCommunicationses=[];}var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsEdit",controller:"TmContactCommunicationsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){$scope.item.tmContactCommunicationses.push(item);},function(){});};$scope.createModalItemTmOrder=function(){if(typeof $scope.item.tmOrders=="undefined"){$scope.item.tmOrders=[];}var modalInstance=$modal.open({templateUrl:"TmorderEdit",controller:"TmOrderEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){$scope.item.tmOrders.push(item);},function(){});};$scope.createModalItemTmContactAddresses=function(){if(typeof $scope.item.tmContactAddresseses=="undefined"){$scope.item.tmContactAddresseses=[];}var modalInstance=$modal.open({templateUrl:"TmcontactaddressesEdit",controller:"TmContactAddressesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){$scope.item.tmContactAddresseses.push(item);},function(){});};$scope.createModalItemRelOrderClient=function(){if(typeof $scope.item.relOrderClients=="undefined"){$scope.item.relOrderClients=[];}var modalInstance=$modal.open({templateUrl:"RelorderclientEdit",controller:"RelOrderClientEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){$scope.item.relOrderClients.push(item);},function(){});};$scope.createModalItemRelAccountContacts=function(){if(typeof $scope.item.relAccountContactses=="undefined"){$scope.item.relAccountContactses=[];}var modalInstance=$modal.open({templateUrl:"RelaccountcontactsEdit",controller:"RelAccountContactsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){$scope.item.relAccountContactses.push(item);},function(){});};$scope.createModalItemRelCruiseContacts=function(){if(typeof $scope.item.relCruiseContactses=="undefined"){$scope.item.relCruiseContactses=[];}var modalInstance=$modal.open({templateUrl:"RelcruisecontactsEdit",controller:"RelCruiseContactsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){$scope.item.relCruiseContactses.push(item);},function(){});};$scope.createModalItemRelServTransferTmContact=function(){if(typeof $scope.item.relServTransferTmContacts=="undefined"){$scope.item.relServTransferTmContacts=[];}var modalInstance=$modal.open({templateUrl:"RelservtransfertmcontactEdit",controller:"RelServTransferTmContactEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontact"]};}}});modalInstance.result.then(function(item){$scope.item.relServTransferTmContacts.push(item);},function(){});};$scope.pickItemTmIncidents=function(){var modalInstance=$modal.open({templateUrl:"TmincidentsFragmentSelector",controller:"TmIncidentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmIncidentses=APP.checkDublicate2($scope.item.tmIncidentses,data.data,"TmIncidentsView");},function(){});};$scope.pickItemTmContactCommunications=function(){var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsFragmentSelector",controller:"TmContactCommunicationsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmContactCommunicationses=APP.checkDublicate2($scope.item.tmContactCommunicationses,data.data,"TmContactCommunicationsView");},function(){});};$scope.pickItemTmOrder=function(){var modalInstance=$modal.open({templateUrl:"TmorderFragmentSelector",controller:"TmOrderSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmOrders=APP.checkDublicate2($scope.item.tmOrders,data.data,"TmOrderView");},function(){});};$scope.pickItemTmContactAddresses=function(){var modalInstance=$modal.open({templateUrl:"TmcontactaddressesFragmentSelector",controller:"TmContactAddressesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.tmContactAddresseses=APP.checkDublicate2($scope.item.tmContactAddresseses,data.data,"TmContactAddressesView");},function(){});};$scope.pickItemRelOrderClient=function(){var modalInstance=$modal.open({templateUrl:"TmorderFragmentSelector",controller:"TmOrderSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relOrderClients=APP.checkDublicate($scope.item.relOrderClients,data.data,"tmorder","tmcontact",$scope.item);},function(){});};$scope.pickItemRelAccountContacts=function(){var modalInstance=$modal.open({templateUrl:"TmaccountFragmentSelector",controller:"TmAccountSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relAccountContactses=APP.checkDublicate($scope.item.relAccountContactses,data.data,"tmaccount","tmcontact",$scope.item);},function(){});};$scope.pickItemRelCruiseContacts=function(){var modalInstance=$modal.open({templateUrl:"ServcruiseFragmentSelector",controller:"ServCruiseSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relCruiseContactses=APP.checkDublicate($scope.item.relCruiseContactses,data.data,"servcruise","tmcontact",$scope.item);},function(){});};$scope.pickItemRelServTransferTmContact=function(){var modalInstance=$modal.open({templateUrl:"ServtransferFragmentSelector",controller:"ServTransferSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServTransferTmContacts=APP.checkDublicate($scope.item.relServTransferTmContacts,data.data,"servtransfer","tmcontact",$scope.item);},function(){});};}]);tourismApp.controller("TmContactAddressesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmContactAddresses=[],$scope.ctrl={name:"TmContactAddressesListCtrl",original:"TmContactAddresses"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmcontactaddresses"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmContactAddresses:[]}),$scope.dataTmContactAddresses=$scope.$storage.dataTmContactAddresses,$scope.debug=APP.debugInfo("TmContactAddressesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmcontactaddressesEdit",controller:"TmContactAddressesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontactaddresses"]};}}});modalInstance.result.then(function(data){$scope.dataTmContactAddresses.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcontactaddressesEdit/"+itemId,controller:"TmContactAddressesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmcontactaddresses"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmContactAddresses)};}}});modalInstance.result.then(function(data){$servicesStorage.TmContactAddressesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmContactAddresses[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmContactAddresses[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmContactAddressesDao().remove({id:itemId},{},function(){$scope.dataTmContactAddresses.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmContactAddresses=function(){$servicesStorage.TmContactAddressesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmContactAddresses=JSOG.decode(data.data);$scope.$storage.dataTmContactAddresses=$scope.dataTmContactAddresses;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmContactAddresses=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmContactAddressesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmContactAddresses=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmContactAddresses=APP.uniqueArray($scope.dataTmContactAddresses.concat(JSOG.decode(data.data)));$scope.$storage.dataTmContactAddresses=$scope.dataTmContactAddresses;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmContactAddressesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmContactAddresses(true);},APP.timeOutCount("TmContactAddresses"));}]);tourismApp.controller("TmContactAddressesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmContactAddresses=[],$scope.ctrl={name:"TmContactAddressesSelectorCtrl",original:"TmContactAddresses"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmContactAddresses:{}}),$scope.dataTmContactAddresses=$scope.$storage.dataTmContactAddresses,$scope.debug=APP.debugInfo("TmContactAddressesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmContactAddresses=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmContactAddressesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmContactAddresses=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmContactAddresses=APP.uniqueArray($scope.dataTmContactAddresses.concat(JSOG.decode(data.data)));$scope.$storage.dataTmContactAddresses=$scope.dataTmContactAddresses;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmContactAddresses(true);},APP.timeOutCount("TmContactAddresses"));}]);tourismApp.controller("TmContactAddressesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmContactAddressesEditCtrl",original:"TmContactAddresses"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmContactAddressesEditCtrl"),$scope.$storage=$localStorage.$default({itemTmContactAddresses:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmContactAddresses",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmContactAddressesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmContactAddressesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmContactAddressesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmContactAddresses=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmContactAddresses");});}else{$scope.loading=false;}$scope.dataLocationCities=$scope.$storage.dataLocationCities;$servicesStorage.LocationCitiesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCities=JSOG.decode(data.data);$scope.$storage.dataLocationCities=$scope.dataLocationCities;});$scope.dataTmContact=$scope.$storage.dataTmContact;$servicesStorage.TmContactDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmContact=JSOG.decode(data.data);$scope.$storage.dataTmContact=$scope.dataTmContact;});},APP.timeOutCount("TmContactAddresses"));}]);tourismApp.controller("TmContactCommunicationsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmContactCommunications=[],$scope.ctrl={name:"TmContactCommunicationsListCtrl",original:"TmContactCommunications"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmcontactcommunications"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmContactCommunications:[]}),$scope.dataTmContactCommunications=$scope.$storage.dataTmContactCommunications,$scope.debug=APP.debugInfo("TmContactCommunicationsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsEdit",controller:"TmContactCommunicationsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontactcommunications"]};}}});modalInstance.result.then(function(data){$scope.dataTmContactCommunications.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcontactcommunicationsEdit/"+itemId,controller:"TmContactCommunicationsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmcontactcommunications"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmContactCommunications)};}}});modalInstance.result.then(function(data){$servicesStorage.TmContactCommunicationsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmContactCommunications[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmContactCommunications[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmContactCommunicationsDao().remove({id:itemId},{},function(){$scope.dataTmContactCommunications.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmContactCommunications=function(){$servicesStorage.TmContactCommunicationsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmContactCommunications=JSOG.decode(data.data);$scope.$storage.dataTmContactCommunications=$scope.dataTmContactCommunications;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmContactCommunications=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmContactCommunicationsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmContactCommunications=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmContactCommunications=APP.uniqueArray($scope.dataTmContactCommunications.concat(JSOG.decode(data.data)));$scope.$storage.dataTmContactCommunications=$scope.dataTmContactCommunications;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmContactCommunicationsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmContactCommunications(true);},APP.timeOutCount("TmContactCommunications"));}]);tourismApp.controller("TmContactCommunicationsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmContactCommunications=[],$scope.ctrl={name:"TmContactCommunicationsSelectorCtrl",original:"TmContactCommunications"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmContactCommunications:{}}),$scope.dataTmContactCommunications=$scope.$storage.dataTmContactCommunications,$scope.debug=APP.debugInfo("TmContactCommunicationsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmContactCommunications=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmContactCommunicationsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmContactCommunications=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmContactCommunications=APP.uniqueArray($scope.dataTmContactCommunications.concat(JSOG.decode(data.data)));$scope.$storage.dataTmContactCommunications=$scope.dataTmContactCommunications;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmContactCommunications(true);},APP.timeOutCount("TmContactCommunications"));}]);tourismApp.controller("TmContactCommunicationsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmContactCommunicationsEditCtrl",original:"TmContactCommunications"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmContactCommunicationsEditCtrl"),$scope.$storage=$localStorage.$default({itemTmContactCommunications:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmContactCommunications",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmContactCommunicationsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmContactCommunicationsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmContactCommunicationsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmContactCommunications=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmContactCommunications");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataLocationCities=$scope.$storage.dataLocationCities;$servicesStorage.LocationCitiesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCities=JSOG.decode(data.data);$scope.$storage.dataLocationCities=$scope.dataLocationCities;});$scope.dataTmContact=$scope.$storage.dataTmContact;$servicesStorage.TmContactDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmContact=JSOG.decode(data.data);$scope.$storage.dataTmContact=$scope.dataTmContact;});},APP.timeOutCount("TmContactCommunications"));}]);tourismApp.controller("TmContactEasyListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmContactEasy=[],$scope.ctrl={name:"TmContactEasyListCtrl",original:"TmContactEasy"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmcontacteasy"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmContactEasy:[]}),$scope.dataTmContactEasy=$scope.$storage.dataTmContactEasy,$scope.debug=APP.debugInfo("TmContactEasyListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmcontacteasyEdit",controller:"TmContactEasyEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontacteasy"]};}}});modalInstance.result.then(function(data){$scope.dataTmContactEasy.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmcontacteasyEdit/"+itemId,controller:"TmContactEasyEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmcontacteasy"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmContactEasy)};}}});modalInstance.result.then(function(data){$servicesStorage.TmContactEasyDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmContactEasy[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmContactEasy[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmContactEasyDao().remove({id:itemId},{},function(){$scope.dataTmContactEasy.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmContactEasy=function(){$servicesStorage.TmContactEasyDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmContactEasy=JSOG.decode(data.data);$scope.$storage.dataTmContactEasy=$scope.dataTmContactEasy;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmContactEasy=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmContactEasyDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmContactEasy=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmContactEasy=APP.uniqueArray($scope.dataTmContactEasy.concat(JSOG.decode(data.data)));$scope.$storage.dataTmContactEasy=$scope.dataTmContactEasy;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmContactEasyDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmContactEasy(true);},APP.timeOutCount("TmContactEasy"));}]);tourismApp.controller("TmContactEasySelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmContactEasy=[],$scope.ctrl={name:"TmContactEasySelectorCtrl",original:"TmContactEasy"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmContactEasy:{}}),$scope.dataTmContactEasy=$scope.$storage.dataTmContactEasy,$scope.debug=APP.debugInfo("TmContactEasySelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmContactEasy=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmContactEasyDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmContactEasy=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmContactEasy=APP.uniqueArray($scope.dataTmContactEasy.concat(JSOG.decode(data.data)));$scope.$storage.dataTmContactEasy=$scope.dataTmContactEasy;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmContactEasy(true);},APP.timeOutCount("TmContactEasy"));}]);tourismApp.controller("TmContactEasyEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmContactEasyEditCtrl",original:"TmContactEasy"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmContactEasyEditCtrl"),$scope.$storage=$localStorage.$default({itemTmContactEasy:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmContactEasy",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmContactEasyDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmContactEasyDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmContactEasyDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmContactEasy=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmContactEasy");});}else{$scope.loading=false;}$scope.dataLocationCountries=$scope.$storage.dataLocationCountries;$servicesStorage.LocationCountriesDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataLocationCountries=JSOG.decode(data.data);$scope.$storage.dataLocationCountries=$scope.dataLocationCountries;});},APP.timeOutCount("TmContactEasy"));$scope.editModalItemRelReqServHotelTmContactEasy=function(itemId){var modalInstance=$modal.open({templateUrl:"RelreqservhoteltmcontacteasyEdit",controller:"RelReqServHotelTmContactEasyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelReqServHotelTmContactEasies,editItemId:itemId,excludeList:["tmcontacteasy"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelReqServHotelTmContactEasy=function(){if(typeof $scope.item.relReqServHotelTmContactEasies=="undefined"){$scope.item.relReqServHotelTmContactEasies=[];}var modalInstance=$modal.open({templateUrl:"RelreqservhoteltmcontacteasyEdit",controller:"RelReqServHotelTmContactEasyEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmcontacteasy"]};}}});modalInstance.result.then(function(item){$scope.item.relReqServHotelTmContactEasies.push(item);},function(){});};$scope.pickItemRelReqServHotelTmContactEasy=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelFragmentSelector",controller:"ReqServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relReqServHotelTmContactEasies=APP.checkDublicate($scope.item.relReqServHotelTmContactEasies,data.data,"reqservhotel","tmcontacteasy",$scope.item);},function(){});};}]);tourismApp.controller("TmFirmsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmFirms=[],$scope.ctrl={name:"TmFirmsListCtrl",original:"TmFirms"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmfirms"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmFirms:[]}),$scope.dataTmFirms=$scope.$storage.dataTmFirms,$scope.debug=APP.debugInfo("TmFirmsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmfirmsEdit",controller:"TmFirmsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmfirms"]};}}});modalInstance.result.then(function(data){$scope.dataTmFirms.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmfirmsEdit/"+itemId,controller:"TmFirmsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmfirms"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmFirms)};}}});modalInstance.result.then(function(data){$servicesStorage.TmFirmsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmFirms[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmFirms[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmFirmsDao().remove({id:itemId},{},function(){$scope.dataTmFirms.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmFirms=function(){$servicesStorage.TmFirmsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmFirms=JSOG.decode(data.data);$scope.$storage.dataTmFirms=$scope.dataTmFirms;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmFirms=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmFirmsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmFirms=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmFirms=APP.uniqueArray($scope.dataTmFirms.concat(JSOG.decode(data.data)));$scope.$storage.dataTmFirms=$scope.dataTmFirms;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmFirmsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmFirms(true);},APP.timeOutCount("TmFirms"));}]);tourismApp.controller("TmFirmsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmFirms=[],$scope.ctrl={name:"TmFirmsSelectorCtrl",original:"TmFirms"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmFirms:{}}),$scope.dataTmFirms=$scope.$storage.dataTmFirms,$scope.debug=APP.debugInfo("TmFirmsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmFirms=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmFirmsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmFirms=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmFirms=APP.uniqueArray($scope.dataTmFirms.concat(JSOG.decode(data.data)));$scope.$storage.dataTmFirms=$scope.dataTmFirms;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmFirms(true);},APP.timeOutCount("TmFirms"));}]);tourismApp.controller("TmFirmsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmFirmsEditCtrl",original:"TmFirms"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmFirmsEditCtrl"),$scope.$storage=$localStorage.$default({itemTmFirms:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmFirms",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmFirmsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmFirmsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmFirmsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmFirms=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmFirms");});}else{$scope.loading=false;}},APP.timeOutCount("TmFirms"));}]);tourismApp.controller("TmImageListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmImage=[],$scope.ctrl={name:"TmImageListCtrl",original:"TmImage"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmimage"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmImage:[]}),$scope.dataTmImage=$scope.$storage.dataTmImage,$scope.debug=APP.debugInfo("TmImageListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmimageEdit",controller:"TmImageEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmimage"]};}}});modalInstance.result.then(function(data){$scope.dataTmImage.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmimageEdit/"+itemId,controller:"TmImageEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmimage"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmImage)};}}});modalInstance.result.then(function(data){$servicesStorage.TmImageDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmImage[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmImage[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmImageDao().remove({id:itemId},{},function(){$scope.dataTmImage.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmImage=function(){$servicesStorage.TmImageDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmImage=JSOG.decode(data.data);$scope.$storage.dataTmImage=$scope.dataTmImage;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmImage=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmImageDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmImage=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmImage=APP.uniqueArray($scope.dataTmImage.concat(JSOG.decode(data.data)));$scope.$storage.dataTmImage=$scope.dataTmImage;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmImageDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmImage(true);},APP.timeOutCount("TmImage"));}]);tourismApp.controller("TmImageSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmImage=[],$scope.ctrl={name:"TmImageSelectorCtrl",original:"TmImage"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmImage:{}}),$scope.dataTmImage=$scope.$storage.dataTmImage,$scope.debug=APP.debugInfo("TmImageSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmImage=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmImageDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmImage=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmImage=APP.uniqueArray($scope.dataTmImage.concat(JSOG.decode(data.data)));$scope.$storage.dataTmImage=$scope.dataTmImage;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmImage(true);},APP.timeOutCount("TmImage"));}]);tourismApp.controller("TmImageEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmImageEditCtrl",original:"TmImage"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmImageEditCtrl"),$scope.$storage=$localStorage.$default({itemTmImage:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmImage",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmImageDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmImageDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmImageDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmImage=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmImage");});}else{$scope.loading=false;}},APP.timeOutCount("TmImage"));$scope.editModalItemRelServHotelImage=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelimageEdit",controller:"RelServHotelImageEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelImages,editItemId:itemId,excludeList:["tmimage"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelServHotelRoomImage=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelroomimageEdit",controller:"RelServHotelRoomImageEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelRoomImages,editItemId:itemId,excludeList:["tmimage"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemUsers=function(itemId){var modalInstance=$modal.open({templateUrl:"UsersEdit",controller:"UsersEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemuserses,editItemId:itemId,excludeList:["tmimage"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelServHotelImage=function(){var modalInstance=$modal.open({templateUrl:"uploadImage",controller:"UploadImageCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",insertParent:true,editItem:{},editItemId:-1,excludeList:["relservhotelimages"]};}}});modalInstance.result.then(function(data){$scope.item.relServHotelImages=APP.checkDublicate($scope.item.relServHotelImages,data.data,"image","image",$scope.item);},function(){});};$scope.createModalItemRelServHotelRoomImage=function(){var modalInstance=$modal.open({templateUrl:"uploadImage",controller:"UploadImageCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"createsimple",insertParent:true,editItem:{},editItemId:-1,excludeList:["relservhotelroomimages"]};}}});modalInstance.result.then(function(data){$scope.item.relServHotelRoomImages=APP.checkDublicate($scope.item.relServHotelRoomImages,data.data,"image","image",$scope.item);},function(){});};$scope.createModalItemUsers=function(){if(typeof $scope.item.userses=="undefined"){$scope.item.userses=[];}var modalInstance=$modal.open({templateUrl:"UsersEdit",controller:"UsersEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmimage"]};}}});modalInstance.result.then(function(item){$scope.item.userses.push(item);},function(){});};$scope.pickItemRelServHotelImage=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelImages=APP.checkDublicate($scope.item.relServHotelImages,data.data,"servhotel","tmimage",$scope.item);},function(){});};$scope.pickItemRelServHotelRoomImage=function(){var modalInstance=$modal.open({templateUrl:"ServhotelroomFragmentSelector",controller:"ServHotelRoomSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelRoomImages=APP.checkDublicate($scope.item.relServHotelRoomImages,data.data,"servhotelroom","tmimage",$scope.item);},function(){});};$scope.pickItemUsers=function(){var modalInstance=$modal.open({templateUrl:"UsersFragmentSelector",controller:"UsersSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.userses=APP.checkDublicate2($scope.item.userses,data.data,"UsersView");},function(){});};}]);tourismApp.controller("TmIncidentsListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmIncidents=[],$scope.ctrl={name:"TmIncidentsListCtrl",original:"TmIncidents"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmincidents"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmIncidents:[]}),$scope.dataTmIncidents=$scope.$storage.dataTmIncidents,$scope.debug=APP.debugInfo("TmIncidentsListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmincidentsEdit",controller:"TmIncidentsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmincidents"]};}}});modalInstance.result.then(function(data){$scope.dataTmIncidents.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmincidentsEdit/"+itemId,controller:"TmIncidentsEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmincidents"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmIncidents)};}}});modalInstance.result.then(function(data){$servicesStorage.TmIncidentsDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmIncidents[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmIncidents[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmIncidentsDao().remove({id:itemId},{},function(){$scope.dataTmIncidents.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmIncidents=function(){$servicesStorage.TmIncidentsDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmIncidents=JSOG.decode(data.data);$scope.$storage.dataTmIncidents=$scope.dataTmIncidents;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmIncidents=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmIncidentsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmIncidents=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmIncidents=APP.uniqueArray($scope.dataTmIncidents.concat(JSOG.decode(data.data)));$scope.$storage.dataTmIncidents=$scope.dataTmIncidents;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmIncidentsDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmIncidents(true);},APP.timeOutCount("TmIncidents"));}]);tourismApp.controller("TmIncidentsSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmIncidents=[],$scope.ctrl={name:"TmIncidentsSelectorCtrl",original:"TmIncidents"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmIncidents:{}}),$scope.dataTmIncidents=$scope.$storage.dataTmIncidents,$scope.debug=APP.debugInfo("TmIncidentsSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmIncidents=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmIncidentsDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmIncidents=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmIncidents=APP.uniqueArray($scope.dataTmIncidents.concat(JSOG.decode(data.data)));$scope.$storage.dataTmIncidents=$scope.dataTmIncidents;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmIncidents(true);},APP.timeOutCount("TmIncidents"));}]);tourismApp.controller("TmIncidentsEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmIncidentsEditCtrl",original:"TmIncidents"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmIncidentsEditCtrl"),$scope.$storage=$localStorage.$default({itemTmIncidents:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmIncidents",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmIncidentsDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmIncidentsDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmIncidentsDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmIncidents=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmIncidents");});}else{$scope.loading=false;}$scope.dataServHotel=$scope.$storage.dataServHotel;$servicesStorage.ServHotelDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServHotel=JSOG.decode(data.data);$scope.$storage.dataServHotel=$scope.dataServHotel;});$scope.dataServTour=$scope.$storage.dataServTour;$servicesStorage.ServTourDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTour=JSOG.decode(data.data);$scope.$storage.dataServTour=$scope.dataServTour;});$scope.dataServTransfer=$scope.$storage.dataServTransfer;$servicesStorage.ServTransferDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServTransfer=JSOG.decode(data.data);$scope.$storage.dataServTransfer=$scope.dataServTransfer;});$scope.dataServVisas=$scope.$storage.dataServVisas;$servicesStorage.ServVisasDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataServVisas=JSOG.decode(data.data);$scope.$storage.dataServVisas=$scope.dataServVisas;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});$scope.dataTmContact=$scope.$storage.dataTmContact;$servicesStorage.TmContactDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmContact=JSOG.decode(data.data);$scope.$storage.dataTmContact=$scope.dataTmContact;});},APP.timeOutCount("TmIncidents"));}]);tourismApp.controller("TmOrderListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmOrder=[],$scope.ctrl={name:"TmOrderListCtrl",original:"TmOrder"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmorder"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmOrder:[]}),$scope.dataTmOrder=$scope.$storage.dataTmOrder,$scope.debug=APP.debugInfo("TmOrderListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmorderEdit",controller:"TmOrderEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmorder"]};}}});modalInstance.result.then(function(data){$scope.dataTmOrder.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmorderEdit/"+itemId,controller:"TmOrderEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmorder"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmOrder)};}}});modalInstance.result.then(function(data){$servicesStorage.TmOrderDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmOrder[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmOrder[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmOrderDao().remove({id:itemId},{},function(){$scope.dataTmOrder.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmOrder=function(){$servicesStorage.TmOrderDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmOrder=JSOG.decode(data.data);$scope.$storage.dataTmOrder=$scope.dataTmOrder;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmOrder=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmOrderDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmOrder=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmOrder=APP.uniqueArray($scope.dataTmOrder.concat(JSOG.decode(data.data)));$scope.$storage.dataTmOrder=$scope.dataTmOrder;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmOrderDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmOrder(true);},APP.timeOutCount("TmOrder"));}]);tourismApp.controller("TmOrderSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmOrder=[],$scope.ctrl={name:"TmOrderSelectorCtrl",original:"TmOrder"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmOrder:{}}),$scope.dataTmOrder=$scope.$storage.dataTmOrder,$scope.debug=APP.debugInfo("TmOrderSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmOrder=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmOrderDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmOrder=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmOrder=APP.uniqueArray($scope.dataTmOrder.concat(JSOG.decode(data.data)));$scope.$storage.dataTmOrder=$scope.dataTmOrder;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmOrder(true);},APP.timeOutCount("TmOrder"));}]);tourismApp.controller("TmOrderEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmOrderEditCtrl",original:"TmOrder"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmOrderEditCtrl"),$scope.$storage=$localStorage.$default({itemTmOrder:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmOrder",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);console.info("item: ",$scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmOrderDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmOrderDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmOrderDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmOrder=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmOrder");});}else{$scope.loading=false;}$scope.dataDictGlobal=$scope.$storage.dataDictGlobal;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobal=JSOG.decode(data.data);$scope.$storage.dataDictGlobal=$scope.dataDictGlobal;});$scope.dataTmAccount=$scope.$storage.dataTmAccount;$servicesStorage.TmAccountDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmAccount=JSOG.decode(data.data);$scope.$storage.dataTmAccount=$scope.dataTmAccount;});$scope.dataTmContact=$scope.$storage.dataTmContact;$servicesStorage.TmContactDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmContact=JSOG.decode(data.data);$scope.$storage.dataTmContact=$scope.dataTmContact;});},APP.timeOutCount("TmOrder"));$scope.editModalItemRelOrderHotels=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderhotelsEdit",controller:"RelOrderHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelOrderHotelses,editItemId:itemId,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelOrderServices=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderservicesEdit",controller:"RelOrderServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelOrderServiceses,editItemId:itemId,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemPaymentContact=function(itemId){var modalInstance=$modal.open({templateUrl:"PaymentcontactEdit",controller:"PaymentContactEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItempaymentContacts,editItemId:itemId,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelOrderGift=function(itemId){var modalInstance=$modal.open({templateUrl:"RelordergiftEdit",controller:"RelOrderGiftEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelOrderGifts,editItemId:itemId,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelOrderDocs=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderdocsEdit",controller:"RelOrderDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelOrderDocses,editItemId:itemId,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemRelOrderClient=function(itemId){var modalInstance=$modal.open({templateUrl:"RelorderclientEdit",controller:"RelOrderClientEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelOrderClients,editItemId:itemId,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelOrderHotels=function(){if(typeof $scope.item.relOrderHotelses=="undefined"){$scope.item.relOrderHotelses=[];}var modalInstance=$modal.open({templateUrl:"RelorderhotelsEdit",controller:"RelOrderHotelsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){$scope.item.relOrderHotelses.push(item);},function(){});};$scope.createModalItemRelOrderServices=function(){if(typeof $scope.item.relOrderServiceses=="undefined"){$scope.item.relOrderServiceses=[];}var modalInstance=$modal.open({templateUrl:"RelorderservicesEdit",controller:"RelOrderServicesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){$scope.item.relOrderServiceses.push(item);},function(){});};$scope.createModalItemPaymentContact=function(){if(typeof $scope.item.paymentContacts=="undefined"){$scope.item.paymentContacts=[];}var modalInstance=$modal.open({templateUrl:"PaymentcontactEdit",controller:"PaymentContactEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){$scope.item.paymentContacts.push(item);},function(){});};$scope.createModalItemRelOrderGift=function(){if(typeof $scope.item.relOrderGifts=="undefined"){$scope.item.relOrderGifts=[];}var modalInstance=$modal.open({templateUrl:"RelordergiftEdit",controller:"RelOrderGiftEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){$scope.item.relOrderGifts.push(item);},function(){});};$scope.createModalItemRelOrderDocs=function(){if(typeof $scope.item.relOrderDocses=="undefined"){$scope.item.relOrderDocses=[];}var modalInstance=$modal.open({templateUrl:"RelorderdocsEdit",controller:"RelOrderDocsEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){$scope.item.relOrderDocses.push(item);},function(){});};$scope.createModalItemRelOrderClient=function(){if(typeof $scope.item.relOrderClients=="undefined"){$scope.item.relOrderClients=[];}var modalInstance=$modal.open({templateUrl:"RelorderclientEdit",controller:"RelOrderClientEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmorder"]};}}});modalInstance.result.then(function(item){$scope.item.relOrderClients.push(item);},function(){});};$scope.pickItemRelOrderHotels=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relOrderHotelses=APP.checkDublicate($scope.item.relOrderHotelses,data.data,"servhotel","tmorder",$scope.item);},function(){});};$scope.pickItemRelOrderServices=function(){var modalInstance=$modal.open({templateUrl:"InfoservicesFragmentSelector",controller:"InfoServicesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){console.info("modalInstance.result#data: ",data);$scope.item.relOrderServiceses=APP.checkDublicate($scope.item.relOrderServiceses,data.data,"infoservices","tmorder",$scope.item);},function(){});};$scope.pickItemPaymentContact=function(){var modalInstance=$modal.open({templateUrl:"PaymentcontactFragmentSelector",controller:"PaymentContactSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.paymentContacts=APP.checkDublicate2($scope.item.paymentContacts,data.data,"PaymentContactView");},function(){});};$scope.pickItemRelOrderGift=function(){var modalInstance=$modal.open({templateUrl:"ServgiftsFragmentSelector",controller:"ServGiftsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relOrderGifts=APP.checkDublicate($scope.item.relOrderGifts,data.data,"servgifts","tmorder",$scope.item);},function(){});};$scope.pickItemRelOrderDocs=function(){var modalInstance=$modal.open({templateUrl:"DocdocumentsFragmentSelector",controller:"DocDocumentsSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relOrderDocses=APP.checkDublicate($scope.item.relOrderDocses,data.data,"docdocuments","tmorder",$scope.item);},function(){});};$scope.pickItemRelOrderClient=function(){var modalInstance=$modal.open({templateUrl:"TmcontactFragmentSelector",controller:"TmContactSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relOrderClients=APP.checkDublicate($scope.item.relOrderClients,data.data,"tmcontact","tmorder",$scope.item);},function(){});};}]);tourismApp.controller("TmPoliciesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmPolicies=[],$scope.ctrl={name:"TmPoliciesListCtrl",original:"TmPolicies"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmpolicies"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmPolicies:[]}),$scope.dataTmPolicies=$scope.$storage.dataTmPolicies,$scope.debug=APP.debugInfo("TmPoliciesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmpoliciesEdit",controller:"TmPoliciesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmpolicies"]};}}});modalInstance.result.then(function(data){$scope.dataTmPolicies.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmpoliciesEdit/"+itemId,controller:"TmPoliciesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmpolicies"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmPolicies)};}}});modalInstance.result.then(function(data){$servicesStorage.TmPoliciesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmPolicies[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmPolicies[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmPoliciesDao().remove({id:itemId},{},function(){$scope.dataTmPolicies.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmPolicies=function(){$servicesStorage.TmPoliciesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmPolicies=JSOG.decode(data.data);$scope.$storage.dataTmPolicies=$scope.dataTmPolicies;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmPolicies=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmPoliciesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmPolicies=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmPolicies=APP.uniqueArray($scope.dataTmPolicies.concat(JSOG.decode(data.data)));$scope.$storage.dataTmPolicies=$scope.dataTmPolicies;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmPoliciesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmPolicies(true);},APP.timeOutCount("TmPolicies"));}]);tourismApp.controller("TmPoliciesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmPolicies=[],$scope.ctrl={name:"TmPoliciesSelectorCtrl",original:"TmPolicies"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmPolicies:{}}),$scope.dataTmPolicies=$scope.$storage.dataTmPolicies,$scope.debug=APP.debugInfo("TmPoliciesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmPolicies=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmPoliciesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmPolicies=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmPolicies=APP.uniqueArray($scope.dataTmPolicies.concat(JSOG.decode(data.data)));$scope.$storage.dataTmPolicies=$scope.dataTmPolicies;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmPolicies(true);},APP.timeOutCount("TmPolicies"));}]);tourismApp.controller("TmPoliciesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmPoliciesEditCtrl",original:"TmPolicies"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmPoliciesEditCtrl"),$scope.$storage=$localStorage.$default({itemTmPolicies:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmPolicies",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmPoliciesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmPoliciesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmPoliciesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmPolicies=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmPolicies");});}else{$scope.loading=false;}$scope.dataDictGlobalByFeatureId=$scope.$storage.dataDictGlobalByFeatureId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByFeatureId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByFeatureId=$scope.dataDictGlobalByFeatureId;});$scope.dataDictGlobalByServiceId=$scope.$storage.dataDictGlobalByServiceId;$servicesStorage.DictGlobalDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataDictGlobalByServiceId=JSOG.decode(data.data);$scope.$storage.dataDictGlobalByServiceId=$scope.dataDictGlobalByServiceId;});},APP.timeOutCount("TmPolicies"));$scope.editModalItemRelServHotelInfoPolicies=function(itemId){var modalInstance=$modal.open({templateUrl:"RelservhotelinfopoliciesEdit",controller:"RelServHotelInfoPoliciesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemrelServHotelInfoPolicieses,editItemId:itemId,excludeList:["tmpolicies"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemRelServHotelInfoPolicies=function(){if(typeof $scope.item.relServHotelInfoPolicieses=="undefined"){$scope.item.relServHotelInfoPolicieses=[];}var modalInstance=$modal.open({templateUrl:"RelservhotelinfopoliciesEdit",controller:"RelServHotelInfoPoliciesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["tmpolicies"]};}}});modalInstance.result.then(function(item){$scope.item.relServHotelInfoPolicieses.push(item);},function(){});};$scope.pickItemRelServHotelInfoPolicies=function(){var modalInstance=$modal.open({templateUrl:"ServhotelFragmentSelector",controller:"ServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.relServHotelInfoPolicieses=APP.checkDublicate($scope.item.relServHotelInfoPolicieses,data.data,"servhotel","tmpolicies",$scope.item);},function(){});};}]);tourismApp.controller("TmUserInfoListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataTmUserInfo=[],$scope.ctrl={name:"TmUserInfoListCtrl",original:"TmUserInfo"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["tmuserinfo"],$scope.details={},$scope.$storage=$localStorage.$default({dataTmUserInfo:[]}),$scope.dataTmUserInfo=$scope.$storage.dataTmUserInfo,$scope.debug=APP.debugInfo("TmUserInfoListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"TmuserinfoEdit",controller:"TmUserInfoEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["tmuserinfo"]};}}});modalInstance.result.then(function(data){$scope.dataTmUserInfo.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"TmuserinfoEdit/"+itemId,controller:"TmUserInfoEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["tmuserinfo"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataTmUserInfo)};}}});modalInstance.result.then(function(data){$servicesStorage.TmUserInfoDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataTmUserInfo[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataTmUserInfo[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.TmUserInfoDao().remove({id:itemId},{},function(){$scope.dataTmUserInfo.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataTmUserInfo=function(){$servicesStorage.TmUserInfoDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmUserInfo=JSOG.decode(data.data);$scope.$storage.dataTmUserInfo=$scope.dataTmUserInfo;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataTmUserInfo=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmUserInfoDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmUserInfo=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataTmUserInfo=APP.uniqueArray($scope.dataTmUserInfo.concat(JSOG.decode(data.data)));$scope.$storage.dataTmUserInfo=$scope.dataTmUserInfo;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.TmUserInfoDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataTmUserInfo(true);},APP.timeOutCount("TmUserInfo"));}]);tourismApp.controller("TmUserInfoSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataTmUserInfo=[],$scope.ctrl={name:"TmUserInfoSelectorCtrl",original:"TmUserInfo"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataTmUserInfo:{}}),$scope.dataTmUserInfo=$scope.$storage.dataTmUserInfo,$scope.debug=APP.debugInfo("TmUserInfoSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataTmUserInfo=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.TmUserInfoDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataTmUserInfo=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataTmUserInfo=APP.uniqueArray($scope.dataTmUserInfo.concat(JSOG.decode(data.data)));$scope.$storage.dataTmUserInfo=$scope.dataTmUserInfo;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataTmUserInfo(true);},APP.timeOutCount("TmUserInfo"));}]);tourismApp.controller("TmUserInfoEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"TmUserInfoEditCtrl",original:"TmUserInfo"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("TmUserInfoEditCtrl"),$scope.$storage=$localStorage.$default({itemTmUserInfo:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"TmUserInfo",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmUserInfoDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.TmUserInfoDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.TmUserInfoDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemTmUserInfo=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"TmUserInfo");});}else{$scope.loading=false;}},APP.timeOutCount("TmUserInfo"));}]);tourismApp.controller("UserRolesListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataUserRoles=[],$scope.ctrl={name:"UserRolesListCtrl",original:"UserRoles"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["userroles"],$scope.details={},$scope.$storage=$localStorage.$default({dataUserRoles:[]}),$scope.dataUserRoles=$scope.$storage.dataUserRoles,$scope.debug=APP.debugInfo("UserRolesListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"UserrolesEdit",controller:"UserRolesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["userroles"]};}}});modalInstance.result.then(function(data){$scope.dataUserRoles.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"UserrolesEdit/"+itemId,controller:"UserRolesEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["userroles"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataUserRoles)};}}});modalInstance.result.then(function(data){$servicesStorage.UserRolesDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataUserRoles[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataUserRoles[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.UserRolesDao().remove({id:itemId},{},function(){$scope.dataUserRoles.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataUserRoles=function(){$servicesStorage.UserRolesDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataUserRoles=JSOG.decode(data.data);$scope.$storage.dataUserRoles=$scope.dataUserRoles;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataUserRoles=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.UserRolesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataUserRoles=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataUserRoles=APP.uniqueArray($scope.dataUserRoles.concat(JSOG.decode(data.data)));$scope.$storage.dataUserRoles=$scope.dataUserRoles;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.UserRolesDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataUserRoles(true);},APP.timeOutCount("UserRoles"));}]);tourismApp.controller("UserRolesSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataUserRoles=[],$scope.ctrl={name:"UserRolesSelectorCtrl",original:"UserRoles"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataUserRoles:{}}),$scope.dataUserRoles=$scope.$storage.dataUserRoles,$scope.debug=APP.debugInfo("UserRolesSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataUserRoles=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.UserRolesDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataUserRoles=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataUserRoles=APP.uniqueArray($scope.dataUserRoles.concat(JSOG.decode(data.data)));$scope.$storage.dataUserRoles=$scope.dataUserRoles;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataUserRoles(true);},APP.timeOutCount("UserRoles"));}]);tourismApp.controller("UserRolesEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"UserRolesEditCtrl",original:"UserRoles"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("UserRolesEditCtrl"),$scope.$storage=$localStorage.$default({itemUserRoles:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"UserRoles",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.UserRolesDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.UserRolesDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.UserRolesDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemUserRoles=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"UserRoles");});}else{$scope.loading=false;}$scope.dataUsers=$scope.$storage.dataUsers;$servicesStorage.UsersDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataUsers=JSOG.decode(data.data);$scope.$storage.dataUsers=$scope.dataUsers;});},APP.timeOutCount("UserRoles"));}]);tourismApp.controller("UsersListCtrl",["$scope","$servicesStorage","$route","$modal","$localStorage","toaster",function($scope,$servicesStorage,$route,$modal,$localStorage,toaster){$scope.dataUsers=[],$scope.ctrl={name:"UsersListCtrl",original:"Users"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:10},$scope.searchKeyword="",$scope.selectedItem={},$scope.selectedItems=[],$scope.excludes=["users"],$scope.details={},$scope.$storage=$localStorage.$default({dataUsers:[]}),$scope.dataUsers=$scope.$storage.dataUsers,$scope.debug=APP.debugInfo("UsersListCtrl");$scope.createModalNewItem=function(){var modalInstance=$modal.open({templateUrl:"UsersEdit",controller:"UsersEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"create",editItem:{},editItemId:-1,excludeList:["users"]};}}});modalInstance.result.then(function(data){$scope.dataUsers.push(data.item);},function(){});};$scope.editModalItem=function(itemId){var modalInstance=$modal.open({templateUrl:"UsersEdit/"+itemId,controller:"UsersEditCtrl",backdrop:"static",animate:true,resolve:{modalSettings:function(){return{item:$scope.selectedItem,mode:"edit",editItem:$scope.selectedItem,editItemId:itemId,excludeList:["users"],index:APP.loadIndex($scope.selectedItem.id,$scope.dataUsers)};}}});modalInstance.result.then(function(data){$servicesStorage.UsersDao().showView({id:data.item.id,initDicts:true,initLists:true},function(response){$scope.dataUsers[data.index]=JSOG.decode(response.data);$scope.selectedItem=$scope.dataUsers[data.index];});},function(){});};APP.defaultListCtrl($scope);$scope.deleteItem=function(itemId,index){$servicesStorage.UsersDao().remove({id:itemId},{},function(){$scope.dataUsers.splice(index,1);});};$scope.reloadData=function(){$route.reload();};$scope.loadAllDataUsers=function(){$servicesStorage.UsersDao().listView({initDicts:true,initLists:false},function(data){$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataUsers=JSOG.decode(data.data);$scope.$storage.dataUsers=$scope.dataUsers;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.loadDataUsers=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.UsersDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataUsers=[];}$scope.scrollable.dataLoading=false;if(data.success){if(data.total>0){$scope.dataUsers=APP.uniqueArray($scope.dataUsers.concat(JSOG.decode(data.data)));$scope.$storage.dataUsers=$scope.dataUsers;}else{$scope.scrollable.pageNumber--;}}else{toaster.pop("error",data.message);}});};$scope.setSelectedItem=function(item){$scope.selectedItem=APP.loadItem(item.id,$scope.selectedItems);if(JSON.stringify($scope.selectedItem)==="{}"){$servicesStorage.UsersDao().showView({id:item.id,initDicts:true,initLists:true},function(data){$scope.selectedItem=JSOG.decode(data.data);$scope.selectedItems.push($scope.selectedItem);});}return $scope.selectedItem;};setTimeout(function(){$scope.loadDataUsers(true);},APP.timeOutCount("Users"));}]);tourismApp.controller("UsersSelectorCtrl",["$scope","$servicesStorage","$modalInstance","$localStorage","toaster",function($scope,$servicesStorage,$modalInstance,$localStorage,toaster){$scope.dataUsers=[],$scope.ctrl={name:"UsersSelectorCtrl",original:"Users"},$scope.scrollable={attemptsNumber:0,dataLoading:true,pageNumber:1,pageSize:20},$scope.selectedItems=[],$scope.searchKeyword="",$scope.loading=true,$scope.$storage=$localStorage.$default({dataUsers:{}}),$scope.dataUsers=$scope.$storage.dataUsers,$scope.debug=APP.debugInfo("UsersSelectorCtrl");APP.defaultSelectorCtrl($scope,$modalInstance);$scope.loadDataUsers=function(drop){$scope.scrollable.attemptsNumber++;$scope.scrollable.dataLoading=true;$servicesStorage.UsersDao().listViewScrollable({initDicts:true,initLists:false,pageNumber:$scope.scrollable.pageNumber++,pageSize:$scope.scrollable.pageSize},function(data){if(typeof drop!=="undefined"&&drop){$scope.dataUsers=[];}$scope.scrollable.dataLoading=false;$scope.loading=false;if(data.success){if(data.total>0){$scope.dataUsers=APP.uniqueArray($scope.dataUsers.concat(JSOG.decode(data.data)));$scope.$storage.dataUsers=$scope.dataUsers;}}else{$scope.scrollable.pageNumber--;toaster.pop("error",data.message);}});};setTimeout(function(){$scope.loadDataUsers(true);},APP.timeOutCount("Users"));}]);tourismApp.controller("UsersEditCtrl",["$scope","$modal","$modalInstance","modalSettings","$servicesStorage","$filter","$localStorage","$staticStorage",function($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$filter,$localStorage,$staticStorage){$scope.item={},$scope.ctrl={name:"UsersEditCtrl",original:"Users"},$scope.itemId=-1,$scope.itemIndex=-1,$scope.loading=true,$scope.access={edit:false,editsimple:false,create:false,createsimple:false},$scope.scrollable={id:modalSettings.editItemId,initDicts:true,initLists:true},$scope.selectedItem={},$scope.details={},$scope.debug=APP.debugInfo("UsersEditCtrl"),$scope.$storage=$localStorage.$default({itemUsers:{}}),$scope.tinymceOptions=APP.loadtinymceOption();APP.defaultEditCtrl($scope,$modal,$modalInstance,modalSettings,$servicesStorage,$staticStorage,"Users",$filter);$scope.updateItem=function(){$scope.loading=true;var identity=$scope.item.id,item=JSOG.stringify($scope.item);if($scope.debug){console.log("item: \n"+JSON.stringify(item)+"\n");}if($scope.access.edit||$scope.access.editsimple){$servicesStorage.UsersDao().update({id:identity},item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}else{if($scope.access.create||$scope.access.createsimple){$servicesStorage.UsersDao().create(item,function(data){var result={index:modalSettings.index,item:{}};if(data.success&&data.data.length>0){result.item=JSOG.decode(data.data[0]);}else{result.item=JSOG.parse(item);}$modalInstance.close(result);});}}};setTimeout(function(){$scope.loading=APP.checkItem($scope.item);if($scope.access.edit||$scope.access.editsimple){$servicesStorage.UsersDao().showObj($scope.scrollable,function(data){$scope.item=JSOG.decode(data.data);$scope.$storage.itemUsers=data.data;$scope.loading=false;APP.afterLoadingDataEditCtrl($scope,$staticStorage,"Users");});}else{$scope.loading=false;}$scope.dataTmImage=$scope.$storage.dataTmImage;$servicesStorage.TmImageDao().listScrollable({initDicts:false,initLists:false,pageNumber:1,pageSize:10},function(data){$scope.dataTmImage=JSOG.decode(data.data);$scope.$storage.dataTmImage=$scope.dataTmImage;});},APP.timeOutCount("Users"));$scope.editModalItemReqServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqServHotels,editItemId:itemId,excludeList:["users"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemUserRoles=function(itemId){var modalInstance=$modal.open({templateUrl:"UserrolesEdit",controller:"UserRolesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemuserRoleses,editItemId:itemId,excludeList:["users"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.editModalItemReqServHotel=function(itemId){var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"edit",editItem:$scope.selectedItemreqServHotels,editItemId:itemId,excludeList:["users"]};}}});modalInstance.result.then(function(item){},function(){});};$scope.createModalItemReqServHotel=function(){if(typeof $scope.item.reqServHotels=="undefined"){$scope.item.reqServHotels=[];}var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["users"]};}}});modalInstance.result.then(function(item){$scope.item.reqServHotels.push(item);},function(){});};$scope.createModalItemUserRoles=function(){if(typeof $scope.item.userRoleses=="undefined"){$scope.item.userRoleses=[];}var modalInstance=$modal.open({templateUrl:"UserrolesEdit",controller:"UserRolesEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["users"]};}}});modalInstance.result.then(function(item){$scope.item.userRoleses.push(item);},function(){});};$scope.createModalItemReqServHotel=function(){if(typeof $scope.item.reqServHotels=="undefined"){$scope.item.reqServHotels=[];}var modalInstance=$modal.open({templateUrl:"ReqservhotelEdit",controller:"ReqServHotelEditCtrl",resolve:{modalSettings:function(){return{item:$scope.item,mode:"create",editItem:{},editItemId:-1,excludeList:["users"]};}}});modalInstance.result.then(function(item){$scope.item.reqServHotels.push(item);},function(){});};$scope.pickItemReqServHotel=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelFragmentSelector",controller:"ReqServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqServHotels=APP.checkDublicate2($scope.item.reqServHotels,data.data,"ReqServHotelView");},function(){});};$scope.pickItemUserRoles=function(){var modalInstance=$modal.open({templateUrl:"UserrolesFragmentSelector",controller:"UserRolesSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.userRoleses=APP.checkDublicate2($scope.item.userRoleses,data.data,"UserRolesView");},function(){});};$scope.pickItemReqServHotel=function(){var modalInstance=$modal.open({templateUrl:"ReqservhotelFragmentSelector",controller:"ReqServHotelSelectorCtrl",resolve:{item:function(){return $scope.selectedItem;}}});modalInstance.result.then(function(data){$scope.item.reqServHotels=APP.checkDublicate2($scope.item.reqServHotels,data.data,"ReqServHotelView");},function(){});};}]);